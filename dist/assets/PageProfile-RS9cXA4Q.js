import{p as Ni,q as tl,s as nl,v as ae,x as Fr,y as rl,z as ve,A as je,B as Ur,C as W,k as w,o as B,c as le,d as Z,e as h,m as J,T as Gc,D as tn,E as De,G as Vc,H as tr,I as Ae,J as fe,K as we,L as sn,M as z,N as ut,O as Gt,P as Vt,Q as nr,R as $t,U as Sa,V as $c,W as Fe,X as te,Y as ue,Z as nn,_ as Ta,$ as rr,a0 as Tn,a1 as Fc,a2 as Rs,a3 as Ia,a4 as Rt,j as ct,a5 as tt,a6 as Uc,a7 as Os,a8 as Wn,a9 as dt,aa as ie,ab as gt,ac as Hc,ad as ir,F as Ne,ae as Bi,af as xn,ag as il,f as U,w as $,ah as me,ai as Yc,t as Tt,i as ba,aj as kt,ak as zc,al as oe,am as Or,an as Hr,ao as al,ap as ws,aq as qc,ar as sl,r as Nt,as as Ft,at as jc,au as Gi,av as Wc,h as ee,S as rn,g as ne,n as Rn,aw as ol,ax as ll,ay as Ps,az as Xc,aA as Qc,aB as Kc,aC as Fn,aD as ul,aE as Zc,aF as Ds,l as Yr,aG as Jc,aH as ed,aI as td,aJ as cl,aK as dl,aL as nd,aM as rd,aN as id,u as Ca,aO as ad,aP as sd,aQ as od,aR as ld,aS as ud,aT as cd,aU as dd,aV as fd,aW as vd,aX as md,aY as pd}from"./index-LjxSdUQz.js";import{m as He,M as Ra,d as on,e as On,f as Ot,g as ar,u as Oa,h as wn,i as Pn,j as wt,k as wa,l as wr,n as Ue,o as In,b as Pa,p as It,_ as Ee,q as fl,r as vl,V as ml,a as Da,s as pl,t as gl,c as gd}from"./VContainer-NxdLS1Lp.js";const hl=["top","bottom"],hd=["start","end","left","right"];function Vi(e,t){let[n,r]=e.split(" ");return r||(r=Ni(hl,n)?"start":Ni(hd,n)?"top":"center"),{side:$i(n,t),align:$i(r,t)}}function $i(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function ci(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function di(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function As(e){return{side:e.align,align:e.side}}function Ms(e){return Ni(hl,e.side)?"y":"x"}class Kt{constructor(t){let{x:n,y:r,width:i,height:a}=t;this.x=n,this.y=r,this.width=i,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Ls(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function _l(e){return Array.isArray(e)?new Kt({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function yl(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let i,a,s,o,l;if(r.startsWith("matrix3d("))i=r.slice(9,-1).split(/, /),a=+i[0],s=+i[5],o=+i[12],l=+i[13];else if(r.startsWith("matrix("))i=r.slice(7,-1).split(/, /),a=+i[0],s=+i[3],o=+i[4],l=+i[5];else return new Kt(t);const u=n.transformOrigin,c=t.x-o-(1-a)*parseFloat(u),f=t.y-l-(1-s)*parseFloat(u.slice(u.indexOf(" ")+1)),d=a?t.width/a:e.offsetWidth+1,m=s?t.height/s:e.offsetHeight+1;return new Kt({x:c,y:f,width:d,height:m})}else return new Kt(t)}function Vn(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(i=>{r.onfinish=()=>{i(r)}})),r}const Ir=new WeakMap;function _d(e,t){Object.keys(t).forEach(n=>{if(tl(n)){const r=nl(n),i=Ir.get(e);if(t[n]==null)i==null||i.forEach(a=>{const[s,o]=a;s===r&&(e.removeEventListener(r,o),i.delete(a))});else if(!i||![...i].some(a=>a[0]===r&&a[1]===t[n])){e.addEventListener(r,t[n]);const a=i||new Set;a.add([r,t[n]]),Ir.has(e)||Ir.set(e,a)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function yd(e,t){Object.keys(t).forEach(n=>{if(tl(n)){const r=nl(n),i=Ir.get(e);i==null||i.forEach(a=>{const[s,o]=a;s===r&&(e.removeEventListener(r,o),i.delete(a))})}else e.removeAttribute(n)})}function sr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ae()({name:n??Fr(rl(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...ve()},setup(r,i){let{slots:a}=i;return()=>{var s;return je(r.tag,{class:[e,r.class],style:r.style},(s=a.default)==null?void 0:s.call(a))}}})}function El(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Fi="cubic-bezier(0.4, 0, 0.2, 1)",Ed="cubic-bezier(0.0, 0, 0.2, 1)",Sd="cubic-bezier(0.4, 0, 1, 1)";function Td(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?Id(e):Aa(e))return e;e=e.parentElement}return document.scrollingElement}function Pr(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Aa(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Aa(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Id(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function bd(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const Sl=Ur.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),Tl=Ur.reduce((e,t)=>{const n="offset"+Fr(t);return e[n]={type:[String,Number],default:null},e},{}),Il=Ur.reduce((e,t)=>{const n="order"+Fr(t);return e[n]={type:[String,Number],default:null},e},{}),xs={col:Object.keys(Sl),offset:Object.keys(Tl),order:Object.keys(Il)};function Cd(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const i=t.replace(e,"");r+=`-${i}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const Rd=["auto","start","end","center","baseline","stretch"],Od=W({cols:{type:[Boolean,String,Number],default:!1},...Sl,offset:{type:[String,Number],default:null},...Tl,order:{type:[String,Number],default:null},...Il,alignSelf:{type:String,default:null,validator:e=>Rd.includes(e)},...ve(),...He()},"VCol"),Xn=ae()({name:"VCol",props:Od(),setup(e,t){let{slots:n}=t;const r=w(()=>{const i=[];let a;for(a in xs)xs[a].forEach(o=>{const l=e[o],u=Cd(a,o,l);u&&i.push(u)});const s=i.some(o=>o.startsWith("v-col-"));return i.push({"v-col":!s||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return je(e.tag,{class:[r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),Ma=["start","end","center"],bl=["space-between","space-around","space-evenly"];function La(e,t){return Ur.reduce((n,r)=>{const i=e+Fr(r);return n[i]=t(),n},{})}const wd=[...Ma,"baseline","stretch"],Cl=e=>wd.includes(e),Rl=La("align",()=>({type:String,default:null,validator:Cl})),Pd=[...Ma,...bl],Ol=e=>Pd.includes(e),wl=La("justify",()=>({type:String,default:null,validator:Ol})),Dd=[...Ma,...bl,"stretch"],Pl=e=>Dd.includes(e),Dl=La("alignContent",()=>({type:String,default:null,validator:Pl})),ks={align:Object.keys(Rl),justify:Object.keys(wl),alignContent:Object.keys(Dl)},Ad={align:"align",justify:"justify",alignContent:"align-content"};function Md(e,t,n){let r=Ad[e];if(n!=null){if(t){const i=t.replace(e,"");r+=`-${i}`}return r+=`-${n}`,r.toLowerCase()}}const Ld=W({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Cl},...Rl,justify:{type:String,default:null,validator:Ol},...wl,alignContent:{type:String,default:null,validator:Pl},...Dl,...ve(),...He()},"VRow"),xa=ae()({name:"VRow",props:Ld(),setup(e,t){let{slots:n}=t;const r=w(()=>{const i=[];let a;for(a in ks)ks[a].forEach(s=>{const o=e[s],l=Md(a,s,o);l&&i.push(l)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return je(e.tag,{class:["v-row",r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}});function xd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(i){return i?""+e+i:""}).join(" ")}).join(" ")}function kd(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function xt(e,t){return function(n){n&&(e[t]=n)}}function Nd(e,t,n){return function(r){r&&(e[t][n]=r)}}function Ns(e,t){return function(n){var r=n.prototype;e.forEach(function(i){t(r,i)})}}var Bd="function",Gd="object",Vd="string",$d="number",Al="undefined",Fd=typeof document!==Al&&document,Ud=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],fi=1e-7,vr={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Hd(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function Ml(e){return typeof e===Al}function pt(e){return e&&typeof e===Gd}function Ll(e){return Array.isArray(e)}function an(e){return typeof e===Vd}function Yd(e){return typeof e===$d}function xl(e){return typeof e===Bd}function zd(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function kl(e,t,n,r,i){var a=ka(e,t,n);return a?n:qd(e,t,n+1,r,i)}function ka(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function qd(e,t,n,r,i){for(var a=function(u){var c=t[u].trim();if(c===e.close&&!ka(e,t,u))return{value:u};var f=u,d=Dr(i,function(m){var v=m.open;return v===c});if(d&&(f=kl(d,t,u,r,i)),f===-1)return s=u,"break";u=f,s=u},s,o=n;o<r;++o){var l=a(o);if(o=s,typeof l=="object")return l.value;if(l==="break")break}return-1}function Na(e,t){var n=an(t)?{separator:t}:t,r=n.separator,i=r===void 0?",":r,a=n.isSeparateFirst,s=n.isSeparateOnlyOpenClose,o=n.isSeparateOpenClose,l=o===void 0?s:o,u=n.openCloseCharacters,c=u===void 0?Ud:u,f=c.map(function(S){var T=S.open,R=S.close;return T===R?T:T+"|"+R}).join("|"),d="(\\s*"+i+"\\s*|"+f+"|\\s+)",m=new RegExp(d,"g"),v=e.split(m).filter(function(S){return S&&S!=="undefined"}),p=v.length,y=[],g=[];function _(){return g.length?(y.push(g.join("")),g=[],!0):!1}for(var E=function(S){var T=v[S].trim(),R=S,N=Dr(c,function(x){var P=x.open;return P===T}),A=Dr(c,function(x){var P=x.close;return P===T});if(N){if(R=kl(N,v,S,p,c),R!==-1&&l)return _()&&a||(y.push(v.slice(S,R+1).join("")),S=R,a)?(b=S,"break"):(b=S,"continue")}else if(A&&!ka(A,v,S)){var O=Hd(c);return O.splice(c.indexOf(A),1),{value:Na(e,{separator:i,isSeparateFirst:a,isSeparateOnlyOpenClose:s,isSeparateOpenClose:l,openCloseCharacters:O})}}else if(zd(T,i)&&!s)return _(),a?(b=S,"break"):(b=S,"continue");R===-1&&(R=p-1),g.push(v.slice(S,R+1).join("")),S=R,b=S},b,I=0;I<p;++I){var C=E(I);if(I=b,typeof C=="object")return C.value;if(C==="break")break}return g.length&&y.push(g.join("")),y}function jd(e){return Na(e,"")}function $n(e){return Na(e,",")}function Wd(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Nl(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],i=t[3];return{prefix:n,unit:i,value:parseFloat(r)}}function Xd(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function vi(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,i){return""+r+t+i.toLowerCase()})}function Ui(){return Date.now?Date.now():new Date().getTime()}function zr(e,t,n){n===void 0&&(n=-1);for(var r=e.length,i=0;i<r;++i)if(t(e[i],i,e))return i;return n}function Qd(e,t,n){n===void 0&&(n=-1);for(var r=e.length,i=r-1;i>=0;--i)if(t(e[i],i,e))return i;return n}function Kd(e,t,n){var r=Qd(e,t);return r>-1?e[r]:n}function Dr(e,t,n){var r=zr(e,t);return r>-1?e[r]:n}function Hi(e){return Object.keys(e)}function Zd(e){var t=Hi(e);return t.map(function(n){return e[n]})}function Un(e,t){var n=Nl(e),r=n.value,i=n.unit;if(pt(t)){var a=t[i];if(a){if(xl(a))return a(r);if(vr[i])return vr[i](r,a)}}else if(i==="%")return r*t/100;return vr[i]?vr[i](r):r}function mi(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function Jd(e){return e.reduce(function(t,n){return t.concat(n)},[])}function ef(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function tf(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function nf(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function Le(e,t,n,r){e.addEventListener(t,n,r)}function Ce(e,t,n,r){e.removeEventListener(t,n,r)}function Ba(e){return(e==null?void 0:e.ownerDocument)||Fd}function pi(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function rf(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function Ga(e){return pt(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var af=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var i=this.keys,a=this.values,s=i.indexOf(n),o=s===-1?i.length:s;i[o]=n,a[o]=r},e}(),sf=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),of=typeof Map=="function",lf=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function uf(e,t){var n=[],r=[];return e.forEach(function(i){var a=i[0],s=i[1],o=new lf;n[a]=o,r[s]=o}),n.forEach(function(i,a){i.connect(n[a-1])}),e.filter(function(i,a){return!t[a]}).map(function(i,a){var s=i[0],o=i[1];if(s===o)return[0,0];var l=n[s],u=r[o-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,n[0]);var f=l.getIndex();return[c,f]})}var cf=function(){function e(n,r,i,a,s,o,l,u){this.prevList=n,this.list=r,this.added=i,this.removed=a,this.changed=s,this.maintained=o,this.changedBeforeAdded=l,this.fixed=u}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=uf(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=n.filter(function(a,s){var o=a[0],l=a[1],u=r[s],c=u[0],f=u[1];if(o!==l)return i.push([c,f]),!0}),this.cachePureChanged=i},e}();function Bl(e,t,n){var r=of?Map:n?sf:af,i=n||function(_){return _},a=[],s=[],o=[],l=e.map(i),u=t.map(i),c=new r,f=new r,d=[],m=[],v={},p=[],y=0,g=0;return l.forEach(function(_,E){c.set(_,E)}),u.forEach(function(_,E){f.set(_,E)}),l.forEach(function(_,E){var b=f.get(_);typeof b>"u"?(++g,s.push(E)):v[b]=g}),u.forEach(function(_,E){var b=c.get(_);typeof b>"u"?(a.push(E),++y):(o.push([b,E]),g=v[E]||0,d.push([b-g,E-y]),m.push(E===b),b!==E&&p.push([b,E]))}),s.reverse(),new cf(e,t,a,s,p,o,d,m)}var Yi=function(e,t){return Yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Yi(e,t)};function or(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mt=function(){return mt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},mt.apply(this,arguments)};function Gl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Bs(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Gs(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function Vl(e){var t=[];return e.forEach(function(n){t=t.concat(Ll(n)?Vl(n):n)}),t}function gi(e,t){if(!t)return e;for(var n in t)Ml(e[n])&&(e[n]=t[n]);return e}function Ar(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function Vs(e){var t=e.className,n=Gl(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function $s(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function qr(e){if(!e)return null;var t=e.b;return Ga(t)?t:qr(e.c)}function $l(e){var t=e.parentNode;t&&t.removeChild(e)}function Fl(e){e.forEach(function(t){t()})}function df(){return this.constructor(this.props,this.context)}var Va=0,jr=function(){function e(n,r,i,a,s,o,l){l===void 0&&(l={}),this.t=n,this.d=r,this.k=i,this.i=a,this.c=s,this.ref=o,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,i,a,s){var o=this,l=o.d,u=Zd(r).filter(function(v){return v.$_req}),c=Vl(u.map(function(v){return v.$_subs})),f=Dr(c,function(v){return v.d===l});if(o.b&&!an(i)&&!s&&!o.s(i.props,a)&&!f){var d=c.reduce(function(v,p){var y=p.d;return v[0]?v[0].d===y&&v.push(p):y>l&&v.push(p),v},[]);return d.forEach(function(v){lr(v,v._ps,[v.o],n,r,!0)}),!1}o.o=i,o.ss(a);var m=o.ps;return an(i)||(o.ps=i.props,o.ref=i.ref),$a(this),o.r(n,r,o.b?m:{},a),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,i=n.fr;r&&r(i?i.current:n.b)},e}();function Ul(){return Object.__CROACT_CURRENT_INSTNACE__}function ff(){return Va}function vf(e){Va=e}function $a(e){return Object.__CROACT_CURRENT_INSTNACE__=e,Va=0,e}var Fa=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,i){var a=this;a.$_timer||(a.$_state={}),clearTimeout(a.$_timer),a.$_timer=0,a.$_state=mt(mt({},a.$_state),n),i?a.$_setState(r,i):a.$_timer=window.setTimeout(function(){a.$_timer=0,a.$_setState(r,i)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var i=[],a=this.$_p,s=lr(a.c,[a],[a.o],i,a._cs,mt(mt({},this.state),this.$_state),r);s&&(n&&i.push(n),Fl(i),$a(null))},e}(),Hl=function(e){or(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return Ar(this.props,r)||Ar(this.state,i)},t}(Fa);function Ua(e){var t=function(n){t.current=n};return t.current=e,t}function mf(e){return e._fr=!0,e}function pf(e,t,n,r){var i,a;return!((i=e==null?void 0:e.prototype)===null||i===void 0)&&i.render?a=new e(t,n):(a=new Fa(t,n),a.constructor=e,e._fr?(r.fr=Ua(),a.render=function(){return this.constructor(this.props,r.fr)}):a.render=df),a.$_p=r,a}var gf=function(e){or(t,e);function t(r,i,a,s,o,l,u){u===void 0&&(u={});var c=e.call(this,r,i,a,s,o,l,gi(u,r.defaultProps))||this;return c.typ="comp",c._usefs=[],c._uefs=[],c._defs=[],c}var n=t.prototype;return n.s=function(r,i){var a=this.b;return a.shouldComponentUpdate(gi(r,this.t.defaultProps),i||a.state)!==!1},n.r=function(r,i,a){var s,o,l=this,u=l.t;l.ps=gi(l.ps,l.t.defaultProps);var c=l.ps,f=!l.b,d=u.contextType,m=l.b,v=d==null?void 0:d.get(l);l._cs=i,f?(m=pf(u,c,v,l),l.b=m):(m.props=c,m.context=v);var p=m.state;l._usefs=[],l._uefs=[];var y=m.render();((o=(s=y==null?void 0:y.props)===null||s===void 0?void 0:s.children)===null||o===void 0?void 0:o.length)===0&&(y.props.children=l.ps.children);var g=mt(mt({},i),m.$_cs);lr(l,l._ps,y?[y]:[],r,g),f?l._uefs.push(function(){d==null||d.register(l),m.componentDidMount()}):l._uefs.push(function(){m.componentDidUpdate(a,p)}),r.push(function(){l._usefs.forEach(function(_){_()}),f?l.md():l.ud(),l._defs=l._uefs.map(function(_){return _()})})},n.ss=function(r){var i=this.b;!i||!r||(i.state=r)},n.un=function(){var r,i=this;i._ps.forEach(function(s){s.un()});var a=i.t;(r=a.contextType)===null||r===void 0||r.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(s){s&&s()}),i.b.componentWillUnmount()},t}(jr);function hf(e,t,n){var r=Ha(Vs(e),Vs(t)),i=r.added,a=r.removed,s=r.changed;for(var o in i)n.setAttribute(o,i[o]);for(var l in s)n.setAttribute(l,s[l][1]);for(var u in a)n.removeAttribute(u)}function _f(e,t,n){var r=Ha(e,t),i=r.added,a=r.removed;for(var s in a)n.e(s,!0);for(var o in i)n.e(o)}function Ha(e,t){var n=Hi(e),r=Hi(t),i=Bl(n,r,function(l){return l}),a={},s={},o={};return i.added.forEach(function(l){var u=r[l];a[u]=t[u]}),i.removed.forEach(function(l){var u=n[l];s[u]=e[u]}),i.maintained.forEach(function(l){var u=l[0],c=n[u],f=[e[c],t[c]];e[c]!==t[c]&&(o[c]=f)}),{added:a,removed:s,changed:o}}function yf(e,t,n){var r=n.style,i=Ha(e,t),a=i.added,s=i.removed,o=i.changed;for(var l in a){var u=vi(l,"-");r.setProperty(u,a[l])}for(var l in o){var c=vi(l,"-");r.setProperty(c,o[l][1])}for(var l in s){var f=vi(l,"-");r.removeProperty(f)}}function Ef(e){return e.replace(/^on/g,"").toLowerCase()}var Sf=function(e){or(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,i){var a=this,s=a._es,o=a.b,l=Ef(r);i?(Ce(o,l,s[r]),delete s[r]):(s[r]=function(u){var c,f;(f=(c=a.ps)[r])===null||f===void 0||f.call(c,u)},Le(o,l,s[r]))},n.s=function(r){return Ar(this.ps,r)},n.r=function(r,i,a){var s,o=this,l=!o.b,u=o.ps;if(l){var c=qr(o.c),f=!1;o._svg||o.t==="svg"?f=!0:f=c&&c.ownerSVGElement,o._svg=f;var d=(s=o._hyd)===null||s===void 0?void 0:s.splice(0,1)[0],m=o.t;if(d)o._hyd=[].slice.call(d.children||[]);else{var v=Ba(c);f?d=v.createElementNS("http://www.w3.org/2000/svg",m):d=v.createElement(m)}o.b=d}lr(o,o._ps,u.children,r,i);var p=o.b,y=$s(a),g=y[0],_=y[1],E=$s(u),b=E[0],I=E[1];return hf(g,b,p),_f(_,I,o),yf(a.style||{},u.style||{},p),r.push(function(){l?o.md():o.ud()}),!0},n.un=function(){var r=this,i=r._es,a=r.b;for(var s in i)Ce(a,s,i[s]);r._ps.forEach(function(o){o.un()}),r._es={},r._sel||$l(a)},t}(jr);function Qn(e){if(!e||Ga(e))return e;var t=e.$_p._ps;return t.length?Qn(t[0].b):null}function Yl(e){if(e){if(e.b&&Ga(e.b))return e;var t=e._ps;return t.length?Yl(t[0]):null}}function Je(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t||{},a=i.key,s=i.ref,o=Gl(i,["key","ref"]);return{type:e,key:a,ref:s,props:mt(mt({},o),{children:Jd(n).filter(function(l){return l!=null&&l!==!1})})}}var zl=function(e){or(t,e);function t(r,i){i===void 0&&(i=0);var a=e.call(this,"container",i,"container",0,null)||this;return a.typ="container",a.b=r,a}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(jr),Tf=function(e){or(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var i,a=this,s=!a.b;if(s){var o=qr(a.c),l=(i=a._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];a.b=l||Ba(o).createTextNode(a.t.replace("text_",""))}return r.push(function(){s?a.md():a.ud()}),!0},n.un=function(){$l(this.b)},t}(jr);function If(e,t,n){var r=n.map(function(l){return an(l)?null:l.key}),i=Gs(t.map(function(l){return l.k})),a=Gs(r),s=Bl(i,a,function(l){return l});s.removed.forEach(function(l){t.splice(l,1)[0].un()}),s.ordered.forEach(function(l){var u=l[0],c=l[1],f=t.splice(u,1)[0];t.splice(c,0,f);var d=Qn(f.b),m=Qn(t[c+1]&&t[c+1].b);d&&d.parentNode.insertBefore(d,m)}),s.added.forEach(function(l){t.splice(l,0,Fs(n[l],r[l],l,e))});var o=s.maintained.filter(function(l){l[0];var u=l[1],c=n[u],f=t[u],d=an(c)?"text_".concat(c):c.type;return d!==f.t?(f.un(),t.splice(u,1,Fs(c,r[u],u,e)),!0):(f.i=u,!1)});return Bs(Bs([],s.added,!0),o.map(function(l){l[0];var u=l[1];return u}),!0)}function bf(e,t){for(var n=e._ps,r=n.length,i=t.i+1;i<r;++i){var a=Qn(n[i].b);if(a)return a}return null}function Fs(e,t,n,r){var i=r.d+1;if(an(e)||Yd(e))return new Tf("text_".concat(e),i,t,n,r,null,{});var a=e.type,s=typeof a=="string"?Sf:gf;return new s(a,i,t,n,r,e.ref,e.props)}function lr(e,t,n,r,i,a,s){var o=If(e,t,n),l=e._hyd,u=t.filter(function(f,d){return f._hyd=l,f.u(r,i,n[d],a,s)});e.typ==="container"&&e._sel&&t.forEach(function(f){var d=Yl(f);d&&(d._sel=!0)}),e._hyd=null;var c=qr(e);return c&&o.reverse().forEach(function(f){var d=t[f],m=Qn(d.b);if(m&&c!==m&&!m.parentNode){var v=bf(e,d);c.insertBefore(m,v)}}),u.length>0}function Cf(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var i=!!n;n||(n=new zl(t));var a=[];return lr(n,n._ps,e?[e]:[],a,r,void 0,void 0),Fl(a),$a(null),i||(t.__CROACT__=n),n}function Us(e,t,n){return!n&&e&&(n=new zl(t.parentElement),n._hyd=[t],n._sel=!0),Cf(e,t,n),n}function ql(e){var t=Ul(),n=t._hs||(t._hs=[]),r=ff(),i=n[r];if(vf(r+1),i){if(!Ar(i.deps,e.deps))return i.updated=!1,i;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function Rf(e,t){var n=ql({func:e,deps:t});return n.value}function Of(e){return Rf(function(){return Ua(e)},[])}function jl(e,t,n){var r=Ul(),i=ql({func:function(){return e},deps:t}),a=n?r._usefs:r._uefs;i.updated?a.push(function(){return i.effect&&i.effect(),i.effect=e(),i.effect}):a.push(function(){return i.effect})}function wf(e,t,n){jl(function(){e==null||e(t())},n,!0)}var zi=function(e,t){return zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zi(e,t)};function Pf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Df=function(e){Pf(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,Je("canvas",{ref:xt(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var i=this.canvasElement,a=i.getContext("2d",{alpha:!0});this.canvasContext=a,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(i,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,i){this.draw({scrollPos:r,zoom:i})},n.resize=function(r){var i=this.canvasElement,a=this.props,s=a.width,o=a.height,l=a.scrollPos,u=this._getRulerScale();this.width=s||i.offsetWidth,this.height=o||i.offsetHeight,i.width=this.width*u,i.height=this.height*u,this.draw({scrollPos:l,zoom:r})},n.draw=function(r){r===void 0&&(r={});var i=this.props,a=r.zoom,s=a===void 0?this._zoom:a,o=r.scrollPos,l=o===void 0?this.state.scrollPos:o,u=r.marks,c=u===void 0?i.marks:u,f=r.selectedRanges,d=f===void 0?i.selectedRanges:f,m=r.segment,v=m===void 0?i.segment||10:m,p=r.unit,y=p===void 0?i.unit:p;this._zoom=s;var g=i,_=g.type,E=g.backgroundColor,b=g.lineColor,I=g.textColor,C=g.textBackgroundColor,S=g.direction,T=g.negativeRuler,R=T===void 0?!0:T,N=g.textFormat,A=g.range,O=A===void 0?[-1/0,1/0]:A,x=g.rangeBackgroundColor,P=g.selectedBackgroundColor,F=g.lineWidth,D=F===void 0?1:F,k=g.selectedRangesText,M=g.selectedRangesTextColor,V=M===void 0?"#44aaff":M,Y=g.selectedRangesTextOffset,j=Y===void 0?[0,0]:Y,X=g.markColor,se=X===void 0?"#ff5":X,re=this._getRulerScale(),Me=this.width,G=this.height,K=this.state;K.scrollPos=l;var H=this.canvasContext,ce=_==="horizontal",pe=R!==!1,Xe=i.font||"10px sans-serif",ht=i.textAlign||"left",vn=i.textOffset||[0,0],q=ce?G:Me,de=Un("".concat(i.mainLineSize||"100%"),q),he=Un("".concat(i.longLineSize||10),q),rt=Un("".concat(i.shortLineSize||7),q),Se=i.lineOffset||[0,0];switch(E==="transparent"?H.clearRect(0,0,Me*re,G*re):(H.rect(0,0,Me*re,G*re),H.fillStyle=E,H.fill()),H.save(),H.scale(re,re),H.strokeStyle=b,H.lineWidth=D,H.font=Xe,H.fillStyle=I,H.textAlign=ht,S){case"start":H.textBaseline="top";break;case"center":H.textBaseline="middle";break;case"end":H.textBaseline="bottom";break}H.translate(.5,0),H.beginPath();for(var Pt=ce?Me:G,Dt=s*y,Yt=Math.floor(l*s/Dt),zt=Math.ceil((l*s+Pt)/Dt),hs=zt-Yt,_s=Math.max(["left","center","right"].indexOf(ht)-1,-1),At=ce?G:Me,An=[],qt=0;qt<=hs;++qt){var mn=(qt+Yt)*y,oi="".concat(mn);N&&(oi=N(mn));var Mc=H.measureText(oi).width;An.push({color:I,offset:vn,backgroundColor:C,value:mn,text:oi,textSize:Mc})}if(P!=="transparent"&&(d!=null&&d.length)&&d.forEach(function(Ve){var Qe=Math.max(Ve[0],O[0],R?-1/0:0),it=Math.min(Ve[1],O[1]),_t=(Qe-l)*s,yt=(it-Qe)*s;k&&Ve.forEach(function(ft){var vt="".concat(ft);N&&(vt=N(ft));var Et=H.measureText(vt).width,Mt=ft*s,fr=Mt+Et;Kd(An,function(gn,Ln){var jt=gn.value,Nc=gn.textSize,Cs=jt*s,Bc=Cs+Nc;Cs<=fr&&Mt<=Bc&&An.splice(Ln,1)}),An.push({value:ft,color:V,offset:j,text:vt,textSize:Et})}),!(yt<=0)&&(H.save(),H.fillStyle=P,ce?H.fillRect(_t,0,yt,At):H.fillRect(0,_t,At,yt),H.restore())}),x!=="transparent"&&O[0]!==-1/0&&O[1]!==1/0){var ys=(O[0]-l)*s,Es=(O[1]-O[0])*s;H.save(),H.fillStyle=x,ce?H.fillRect(ys,0,Es,At):H.fillRect(0,ys,At,Es),H.restore()}for(var qt=0;qt<=hs;++qt){var mn=qt+Yt;if(!(!pe&&mn<0))for(var Ss=mn*y,Lc=(Ss-l)*s,pn=0;pn<v;++pn){var cr=Lc+pn/v*Dt,Ts=Ss+pn/v*y;if(!(cr<0||cr>=Pt||Ts<O[0]||Ts>O[1])){var dr=pn===0?de:pn%2===0?he:rt,Mn=0;switch(S){case"start":Mn=0;break;case"center":Mn=At/2-dr/2;break;case"end":Mn=At-dr;break}var Is=ce?[cr+Se[0],Mn+Se[1]]:[Mn+Se[0],cr+Se[1]],li=Is[0],ui=Is[1],bs=ce?[li,ui+dr]:[li+dr,ui],xc=bs[0],kc=bs[1];H.moveTo(li+Se[0],ui+Se[1]),H.lineTo(xc+Se[0],kc+Se[1])}}}H.stroke(),H.beginPath(),H.strokeStyle=se,H.lineWidth=1,(c||[]).forEach(function(Ve){var Qe=(-l+Ve)*s;if(!(Qe<0||Qe>=Pt||Ve<O[0]||Ve>O[1])){var it=ce?[Qe+Se[0],Se[1]]:[Se[0],Qe+Se[1]],_t=it[0],yt=it[1],ft=ce?[_t,yt+q]:[_t+q,yt],vt=ft[0],Et=ft[1];H.moveTo(_t+Se[0],yt+Se[1]),H.lineTo(vt+Se[0],Et+Se[1])}}),H.stroke(),An.forEach(function(Ve){var Qe=Ve.value,it=Ve.offset,_t=Ve.backgroundColor,yt=Ve.color,ft=Ve.text,vt=Ve.textSize;if(!(!pe&&Qe<0)){var Et=(Qe-l)*s;if(!(Et<-Dt||Et>=Pt+y*s||Qe<O[0]||Qe>O[1])){var Mt=0;switch(S){case"start":Mt=17;break;case"center":Mt=At/2;break;case"end":Mt=At-17;break}var fr=ce?[Et+_s*-3,Mt]:[Mt,Et+_s*3],gn=fr[0],Ln=fr[1];if(_t){var jt=0;switch(ht){case"left":jt=0;break;case"center":jt=-vt/2;break;case"right":jt=-vt;break}H.save(),H.fillStyle=_t,ce?H.fillRect(gn+it[0]+jt,0,vt,de):(H.translate(0,Ln+it[1]),H.rotate(-Math.PI/2),H.fillRect(jt,0,vt,de)),H.restore()}H.save(),H.fillStyle=yt,ce?H.fillText(ft,gn+it[0],Ln+it[1]):(H.translate(gn+it[0],Ln+it[1]),H.rotate(-Math.PI/2),H.fillText(ft,0,0)),H.restore()}}}),H.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var i=window.devicePixelRatio>1;if(!i&&window.matchMedia){var a=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");i=a&&a.matches}this._rulerScale=i?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(Hl),Wl=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qi=function(){return qi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},qi.apply(this,arguments)};function Af(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}var Mf=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(pt(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(pt(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var a=this._events[n];if(a){var s=zr(a,function(o){return o.listener===r});s>-1&&a.splice(s,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(a){i._addEvent(n,a,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var a=this._events[n];if(!n||!a)return!0;var s=!1;return r.eventType=n,r.stop=function(){s=!0},r.currentTarget=this,Af(a).forEach(function(o){o.listener(r),o.once&&i.off(n,o.listener)}),!s},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var a=this._events;a[n]=a[n]||[];var s=a[n];s.push(qi({listener:r},i))},e}();const Lf=Mf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ji=function(e,t){return ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ji(e,t)};function xf(e,t){ji(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Te=function(){return Te=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Te.apply(this,arguments)};function kf(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function hi(e){return kf([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function Nf(e){return e.touches&&e.touches.length>=2}function mr(e){return e?e.touches?Gf(e.touches):[Xl(e)]:[]}function Bf(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Hs(e,t,n){var r=n.length,i=Hn(e,r),a=i.clientX,s=i.clientY,o=i.originalClientX,l=i.originalClientY,u=Hn(t,r),c=u.clientX,f=u.clientY,d=Hn(n,r),m=d.clientX,v=d.clientY,p=a-c,y=s-f,g=a-m,_=s-v;return{clientX:o,clientY:l,deltaX:p,deltaY:y,distX:g,distY:_}}function _i(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Gf(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(Xl(e[r]));return n}function Xl(e){return{clientX:e.clientX,clientY:e.clientY}}function Hn(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),i=0;i<r;++i){var a=e[i];n.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,n.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,n.clientX+=a.clientX,n.clientY+=a.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var yi=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),hi(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),hi(t)-hi(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=Hs(t||this.prevClients,this.prevClients,this.startClients),i=r.deltaX,a=r.deltaY;return this.movement+=Math.sqrt(i*i+a*a),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,i=Math.min(this.length,n.length),a=[],s=0;s<i;++s)a[s]=Hs([t[s]],[n[s]],[r[s]]);return a},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=Hn(t,this.length),i=Hn(this.prevClients,this.length),a=r.clientX-i.clientX,s=r.clientY-i.clientY;return Math.sqrt(a*a+s*s)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),_i(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),_i(t)/_i(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),Ys=["textarea","input"],Vf=function(e){xf(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._window=window,i.onDragStart=function(d,m){if(m===void 0&&(m=!0),!(!i.flag&&d.cancelable===!1)){var v=d.type.indexOf("drag")>=-1;if(!(i.flag&&v)){i._isDragAPI=!0;var p=i.options,y=p.container,g=p.pinchOutside,_=p.preventWheelClick,E=p.preventRightClick,b=p.preventDefault,I=p.checkInput,C=p.dragFocusedInput,S=p.preventClickEventOnDragStart,T=p.preventClickEventOnDrag,R=p.preventClickEventByCondition,N=i._useTouch,A=!i.flag;if(i._isSecondaryButton=d.which===3||d.button===2,_&&(d.which===2||d.button===1)||E&&(d.which===3||d.button===2))return i.stop(),!1;if(A){var O=i._window.document.activeElement,x=d.target;if(x){var P=x.tagName.toLowerCase(),F=Ys.indexOf(P)>-1,D=x.isContentEditable;if(F||D){if(I||!C&&O===x)return!1;if(O&&(O===x||D&&O.isContentEditable&&O.contains(x)))if(C)x.blur();else return!1}else if((b||d.type==="touchstart")&&O){var k=O.tagName.toLowerCase();(O.isContentEditable||Ys.indexOf(k)>-1)&&O.blur()}(S||T||R)&&Le(i._window,"click",i._onClick,!0)}i.clientStores=[new yi(mr(d))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=m,i._dragFlag=!0,i._prevInputEvent=d,i.data={},i.doubleFlag=Ui()-i.prevTime<200,i._isMouseEvent=Bf(d),!i._isMouseEvent&&i._preventMouseEvent&&(i._preventMouseEvent=!1);var M=i._preventMouseEvent||i.emit("dragStart",Te(Te({data:i.data,datas:i.data,inputEvent:d,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:m,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));M===!1&&i.stop(),i._isMouseEvent&&i.flag&&b&&d.preventDefault()}if(!i.flag)return!1;var V=0;if(A?(i._attchDragEvent(),N&&g&&(V=setTimeout(function(){Le(y,"touchstart",i.onDragStart,{passive:!1})}))):N&&g&&Ce(y,"touchstart",i.onDragStart),i.flag&&Nf(d)){if(clearTimeout(V),A&&d.touches.length!==d.changedTouches.length)return;i.pinchFlag||i.onPinchStart(d)}}}},i.onDrag=function(d,m){if(i.flag){var v=i.options.preventDefault;!i._isMouseEvent&&v&&d.preventDefault(),i._prevInputEvent=d;var p=mr(d),y=i.moveClients(p,d,!1);if(i._dragFlag){if(i.pinchFlag||y.deltaX||y.deltaY){var g=i._preventMouseEvent||i.emit("drag",Te(Te({},y),{isScroll:!!m,inputEvent:d}));if(g===!1){i.stop();return}}i.pinchFlag&&i.onPinch(d,p)}i.getCurrentStore().getPosition(p,!0)}},i.onDragEnd=function(d){if(i.flag){var m=i.options,v=m.pinchOutside,p=m.container,y=m.preventClickEventOnDrag,g=m.preventClickEventOnDragStart,_=m.preventClickEventByCondition,E=i.isDrag;(y||g||_)&&requestAnimationFrame(function(){i._allowClickEvent()}),!_&&!g&&y&&!E&&i._allowClickEvent(),i._useTouch&&v&&Ce(p,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(d);var b=d!=null&&d.touches?mr(d):[],I=b.length;I===0||!i.options.keepDragging?i.flag=!1:i._addStore(new yi(b));var C=i._getPosition(),S=Ui(),T=!E&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=E||T?0:S,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",Te({data:i.data,datas:i.data,isDouble:T,isDrag:E,isClick:!E,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:d,isTrusted:i._isTrusted},C)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){i._preventMouseEvent=!1})})),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){Ce(i._window,"click",i._onClick,!0)},i._onClick=function(d){i._allowClickEvent(),i._preventMouseEvent=!1;var m=i.options.preventClickEventByCondition;m!=null&&m(d)||(d.stopPropagation(),d.preventDefault())},i._onContextMenu=function(d){var m=i.options;m.preventRightClick?i.onDragEnd(d):d.preventDefault()},i._passCallback=function(){};var a=[].concat(n),s=a[0];i._window=rf(s)?s:pi(s),i.options=Te({checkInput:!1,container:s&&!("document"in s)?pi(s):s,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var o=i.options,l=o.container,u=o.events,c=o.checkWindowBlur;if(i._useDrag=u.indexOf("drag")>-1,i._useTouch=u.indexOf("touch")>-1,i._useMouse=u.indexOf("mouse")>-1,i.targets=a,i._useDrag&&a.forEach(function(d){Le(d,"dragstart",i.onDragStart)}),i._useMouse&&(a.forEach(function(d){Le(d,"mousedown",i.onDragStart),Le(d,"mousemove",i._passCallback)}),Le(l,"contextmenu",i._onContextMenu)),c&&Le(pi(),"blur",i.onBlur),i._useTouch){var f={passive:!1};a.forEach(function(d){Le(d,"touchstart",i.onDragStart,f),Le(d,"touchmove",i._passCallback,f)})}return i}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,i){return r+i.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,i,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(n,r),a&&this.onDrag(i,!0))},t.prototype.move=function(n,r){var i=n[0],a=n[1],s=this.getCurrentStore(),o=s.prevClients;return this.moveClients(o.map(function(l){var u=l.clientX,c=l.clientY;return{clientX:u+i,clientY:c+a,originalClientX:u,originalClientY:c}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var i in n)r[i]=n[i];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),Te(Te({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,i=this.options.container;this.off(),Ce(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(a){Ce(a,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(a){Ce(a,"mousedown",n.onDragStart)}),Ce(i,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(a){Ce(a,"touchstart",n.onDragStart)}),Ce(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var a=new yi(mr(n));this.pinchFlag=!0,this._addStore(a);var s=this.emit("pinchStart",Te(Te({data:this.data,datas:this.data,angle:a.getAngle(),touches:this.getCurrentStore().getPositions()},a.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));s===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Te(Te({data:this.data,datas:this.data,movement:this.getMovement(r),angle:i.getAngle(r),rotation:i.getRotation(r),touches:i.getPositions(r),scale:i.getScale(r),distance:i.getDistance(r)},i.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",Te(Te({data:this.data,datas:this.data,isPinch:r,touches:i.getPositions()},i.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,i){var a=this._getPosition(n,i),s=this.isDrag;(a.deltaX||a.deltaY)&&(this.isDrag=!0);var o=!1;return!s&&this.isDrag&&(o=!0),Te(Te({data:this.data,datas:this.data},a),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:o})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var i=this.getCurrentStore(),a=i.getPosition(n,r),s=this.clientStores.slice(1).reduce(function(u,c){var f=c.getPosition();return u.distX+=f.distX,u.distY+=f.distY,u},a),o=s.distX,l=s.distY;return Te(Te({},a),{distX:o,distY:l})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,i={passive:!1};this._isDragAPI&&(Le(r,"dragover",this.onDrag,i),Le(n,"dragend",this.onDragEnd)),this._useMouse&&(Le(r,"mousemove",this.onDrag),Le(n,"mouseup",this.onDragEnd)),this._useTouch&&(Le(r,"touchmove",this.onDrag,i),Le(n,"touchend",this.onDragEnd,i),Le(n,"touchcancel",this.onDragEnd,i))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(Ce(r,"dragover",this.onDrag),Ce(n,"dragend",this.onDragEnd)),this._useMouse&&(Ce(r,"mousemove",this.onDrag),Ce(n,"mouseup",this.onDragEnd)),this._useTouch&&(Ce(r,"touchstart",this.onDragStart),Ce(r,"touchmove",this.onDrag),Ce(n,"touchend",this.onDragEnd),Ce(n,"touchcancel",this.onDragEnd))},t}(Lf);function $f(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var Ff=$f;function Uf(e){return Ff(e).toString(36)}function Hf(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function Yf(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,i){var a=i.trim();return(a?$n(a):[""]).map(function(s){var o=s.trim();return o.indexOf("@")===0?o:o.indexOf(":global")>-1?o.replace(/\:global/g,""):o.indexOf(":host")>-1?"".concat(o.replace(/\:host/g,".".concat(e))):o?".".concat(e," ").concat(o):".".concat(e)}).join(", ")+" {"})}function zf(e,t,n,r,i){var a=Ba(r),s=a.createElement("style");return s.setAttribute("type","text/css"),s.setAttribute("data-styled-id",e),s.setAttribute("data-styled-count","1"),n.nonce&&s.setAttribute("nonce",n.nonce),s.innerHTML=Yf(e,t,n),(i||a.head||a.body).appendChild(s),s}function qf(e){var t="rCS"+Uf(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var i=Hf(n),a=(i||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!a)a=zf(t,e,r,n,i);else{var s=parseFloat(a.getAttribute("data-styled-count"))||0;a.setAttribute("data-styled-count","".concat(s+1))}return{destroy:function(){var o,l=parseFloat(a.getAttribute("data-styled-count"))||0;l<=1?(a.remove?a.remove():(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=null):a.setAttribute("data-styled-count","".concat(l-1))}}}}}var Wi=function(){return Wi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Wi.apply(this,arguments)};function jf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Wf(e,t){var n=qf(t),r=n.className;return mf(function(i,a){var s=i.className,o=s===void 0?"":s;i.cspNonce;var l=jf(i,["className","cspNonce"]),u=Of();return wf(a,function(){return u.current},[]),jl(function(){var c=n.inject(u.current,{nonce:i.cspNonce});return function(){c.destroy()}},[]),Je(e,Wi({ref:u,"data-styled-id":r,className:"".concat(o," ").concat(r)},l))})}function Xf(e,t,n,r,i,a){for(var s=0;s<i;++s){var o=n+s*i,l=r+s*i;e[o]+=e[l]*a,t[o]+=t[l]*a}}function Qf(e,t,n,r,i){for(var a=0;a<i;++a){var s=n+a*i,o=r+a*i,l=e[s],u=t[s];e[s]=e[o],e[o]=l,t[s]=t[o],t[o]=u}}function Kf(e,t,n,r,i){for(var a=0;a<r;++a){var s=n+a*r;e[s]/=i,t[s]/=i}}function Zf(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=Ql(t),i=0;i<t;++i){var a=t*i+i;if(!mi(n[a],fi)){for(var s=i+1;s<t;++s)if(n[t*i+s]){Qf(n,r,i,s,t);break}}if(!mi(n[a],fi))return[];Kf(n,r,i,t,n[a]);for(var s=0;s<t;++s){var o=s,l=s+i*t,u=n[l];!mi(u,fi)||i===s||Xf(n,r,o,i,t,-u)}}return r}function ln(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],i=e.length/n,a=t.length/i;if(i){if(!a)return e}else return t;for(var s=0;s<n;++s)for(var o=0;o<a;++o){r[o*n+s]=0;for(var l=0;l<i;++l)r[o*n+s]+=e[l*n+s]*t[o*i+l]}return r}function Jf(e,t,n){n===void 0&&(n=t.length);var r=ln(e,t,n),i=r[n-1];return r.map(function(a){return a/i})}function ev(e,t){return ln(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function tv(e,t){return ln(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function nv(e,t){return ln(e,rv(t,4))}function pr(e,t){var n=t[0],r=n===void 0?1:n,i=t[1],a=i===void 0?1:i,s=t[2],o=s===void 0?1:s;return ln(e,[r,0,0,0,0,a,0,0,0,0,o,0,0,0,0,1],4)}function Ei(e,t){var n=t[0],r=n===void 0?0:n,i=t[1],a=i===void 0?0:i,s=t[2],o=s===void 0?0:s;return ln(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,a,o,1],4)}function Xi(e,t){return ln(e,t,4)}function rv(e,t){var n=Math.cos(e),r=Math.sin(e),i=Ql(t);return i[0]=n,i[1]=r,i[t]=-r,i[t+1]=n,i}function Ql(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var Yn=function(){return Yn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Yn.apply(this,arguments)};function Kl(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function iv(e,t){return t===void 0&&(t=0),sv(ov(e,t))}function zs(e,t){var n=Jf(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function av(e,t){t===void 0&&(t=document.body);for(var n=e,r=Kl();n;){var i=getComputedStyle(n).transform;if(r=Xi(iv(i),r),n===t)break;n=n.parentElement}return r=Zf(r,4),r[12]=0,r[13]=0,r[14]=0,r}function sv(e){var t=Kl();return e.forEach(function(n){var r=n.matrixFunction,i=n.functionValue;r&&(t=r(t,i))}),t}function ov(e,t){t===void 0&&(t=0);var n=Ll(e)?e:jd(e);return n.map(function(r){var i=Wd(r),a=i.prefix,s=i.value,o=null,l=a,u="";if(a==="translate"||a==="translateX"||a==="translate3d"){var c=pt(t)?Yn(Yn({},t),{"o%":t["%"]}):{"%":t,"o%":t},f=$n(s).map(function(x,P){return P===0&&"x%"in c?c["%"]=t["x%"]:P===1&&"y%"in c?c["%"]=t["y%"]:c["%"]=t["o%"],Un(x,c)}),d=f[0],m=f[1],v=m===void 0?0:m,p=f[2],y=p===void 0?0:p;o=Ei,u=[d,v,y]}else if(a==="translateY"){var g=pt(t)?Yn({"%":t["y%"]},t):{"%":t},v=Un(s,g);o=Ei,u=[0,v,0]}else if(a==="translateZ"){var y=parseFloat(s);o=Ei,u=[0,0,y]}else if(a==="scale"||a==="scale3d"){var _=$n(s).map(function(x){return parseFloat(x)}),E=_[0],b=_[1],I=b===void 0?E:b,C=_[2],S=C===void 0?1:C;o=pr,u=[E,I,S]}else if(a==="scaleX"){var E=parseFloat(s);o=pr,u=[E,1,1]}else if(a==="scaleY"){var I=parseFloat(s);o=pr,u=[1,I,1]}else if(a==="scaleZ"){var S=parseFloat(s);o=pr,u=[1,1,S]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var T=Nl(s),R=T.unit,N=T.value,A=R==="rad"?N:N*Math.PI/180;a==="rotate"||a==="rotateZ"?(l="rotateZ",o=nv):a==="rotateX"?o=ev:a==="rotateY"&&(o=tv),u=A}else if(a==="matrix3d")o=Xi,u=$n(s).map(function(x){return parseFloat(x)});else if(a==="matrix"){var O=$n(s).map(function(x){return parseFloat(x)});o=Xi,u=[O[0],O[1],0,0,O[2],O[3],0,0,0,0,1,0,O[4],O[5],0,1]}else l="";return{name:a,functionName:l,value:s,matrixFunction:o,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qi=function(){return Qi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Qi.apply(this,arguments)};function lv(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}var uv=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(pt(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(pt(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var a=this._events[n];if(a){var s=zr(a,function(o){return o.listener===r});s>-1&&a.splice(s,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(a){i._addEvent(n,a,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var a=this._events[n];if(!n||!a)return!0;var s=!1;return r.eventType=n,r.stop=function(){s=!0},r.currentTarget=this,lv(a).forEach(function(o){o.listener(r),o.once&&i.off(n,o.listener)}),!s},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var a=this._events;a[n]=a[n]||[];var s=a[n];s.push(Qi({listener:r},i))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ki=function(e,t){return Ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ki(e,t)};function cv(e,t){Ki(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _n=function(){return _n=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_n.apply(this,arguments)};function dv(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function Si(e){if(e){if(an(e))return document.querySelector(e)}else return null;if(xl(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var fv=function(e){cv(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,i){var a=Si(i.container);if(!a){this._flag=!1;return}var s=0,o=0,l=0,u=0;if(a===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=a.getBoundingClientRect();s=c.top,o=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:s,left:o,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i)},n.drag=function(r,i){if(clearTimeout(this._timer),!!this._flag){var a=r.clientX,s=r.clientY,o=i.threshold,l=o===void 0?0:o,u=this,c=u._startRect,f=u._startPos,d=[0,0];return c.top>s-l?(f[1]>c.top||s<f[1])&&(d[1]=-1):c.top+c.height<s+l&&(f[1]<c.top+c.height||s>f[1])&&(d[1]=1),c.left>a-l?(f[0]>c.left||a<f[0])&&(d[0]=-1):c.left+c.width<a+l&&(f[0]<c.left+c.width||a>f[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(_n(_n({},i),{direction:d,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var i=this;if(this._isWait)return!1;var a=r.prevScrollPos,s=a===void 0?this._prevScrollPos:a,o=r.direction,l=r.throttleTime,u=l===void 0?0:l,c=r.inputEvent,f=r.isDrag,d=this._getScrollPosition(o||[0,0],r),m=d[0]-s[0],v=d[1]-s[1],p=o||[m?Math.abs(m)/m:0,v?Math.abs(v)/v:0];return this._prevScrollPos=d,!m&&!v?!1:(this.trigger("move",{offsetX:p[0]?m:0,offsetY:p[1]?v:0,inputEvent:c}),u&&f&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},u)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,i){var a=i.container,s=i.getScrollPosition,o=s===void 0?dv:s;return o({container:Si(a),direction:r})},n._continueDrag=function(r){var i=this,a,s,o=r.container,l=r.direction,u=r.throttleTime,c=r.useScroll,f=r.isDrag,d=r.inputEvent;if(!(!this._flag||f&&this._isWait)){var m=Ui(),v=Math.max(u+this._prevTime-m,0);if(v>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},v),!1;this._prevTime=m;var p=this._getScrollPosition(l,r);this._prevScrollPos=p,f&&(this._isWait=!0);var y={container:Si(o),direction:l,inputEvent:d};return(s=(a=r).requestScroll)===null||s===void 0||s.call(a,y),this.trigger("scroll",y),this._isWait=!1,c||this.checkScroll(_n(_n({},r),{prevScrollPos:p,direction:l,inputEvent:d}))}},t}(uv),Zi=function(e,t){return Zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Zi(e,t)};function vv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ye=function(){return Ye=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ye.apply(this,arguments)};function zn(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xd.apply(void 0,zn(["scena-guides-"],e,!1))}var mv=St("guide","adder"),pv=St("guides"),gv=St("guide"),qs=St("dragging"),hv=St("display-drag"),_v=kd("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),yv=zn(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides","guidesZoom"],Wl,!0),Ev=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],Sv=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],Tv=Wf("div",_v),Iv=function(e){vv(t,e);function t(r){var i=e.call(this,r)||this;return i.state={guides:[]},i.scrollPos=0,i.managerRef=Ua(),i.guideElements=[],i._isFirstMove=!1,i._zoom=1,i._guidesZoom=1,i._observer=null,i.onDragStart=function(a){var s=a.datas,o=a.inputEvent;i._isFirstMove=!0,i.movePos(a),i.props.onDragStart(Ye(Ye({},a),{dragElement:s.target})),i.gesto.isFlag()&&(o.stopPropagation(),o.preventDefault(),i._startDragScroll(a))},i._onDrag=function(a){i._isFirstMove&&(i._isFirstMove=!1,tf(a.datas.target,qs));var s=i.movePos(a);if(i.props.onDrag(Ye(Ye({},a),{dragElement:a.datas.target})),!i.gesto.isFlag()){i._endDragScroll(a);return}return i._dragScroll(a),s},i.onDragEnd=function(a){var s=a.datas,o=a.isDouble,l=a.distX,u=a.distY,c=i.movePos(a),f=i.state.guides,d=i.props,m=d.onChangeGuides,v=d.displayDragPos,p=d.digit,y=d.lockGuides,g=d.guidesOffset,_=i._guidesZoom,E=parseFloat((c/_).toFixed(p||0)),b=i.scrollPos-(g||0);if(v&&(i.displayElement.style.cssText+="display: none;"),nf(s.target,qs),i.props.onDragEnd(Ye(Ye({},a),{dragElement:s.target})),i._endDragScroll(a),s.fromRuler)i._isFirstMove&&i.props.onClickRuler(Ye(Ye({},a),{pos:0})),E>=b&&f.indexOf(E)<0&&i.setState({guides:zn(zn([],f,!0),[E],!1)},function(){m({guides:i.state.guides,distX:l,distY:u,index:f.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var I=parseFloat(s.target.getAttribute("data-index")),C=!1,S=!1;f=zn([],f,!0);var T=f.indexOf(E);if(o||E<b||T>-1&&T!==I){if(y&&(y===!0||y.indexOf("remove")>-1))return;f.splice(I,1),C=!0}else{if(T>-1)return;if(y&&(y===!0||y.indexOf("change")>-1))return;f[I]=E,S=!0}i.setState({guides:f},function(){var R=i.state.guides;m({distX:l,distY:u,guides:R,isAdd:!1,index:I,isChange:S,isRemove:C})})}},i._onCheck=function(){i.resize()},i.state.guides=r.defaultGuides||[],i.scrollPos=r.defaultGuidesPos||0,i}var n=t.prototype;return n.render=function(){var r=this.props,i=r.className,a=r.type,s=r.zoom,o=r.guidesZoom,l=r.style,u=r.rulerStyle,c=r.displayDragPos,f=r.cspNonce,d=r.dragGuideStyle,m=r.guidePosStyle,v=m===void 0?{}:m,p=this.props,y=this.getTranslateName(),g={};return Wl.forEach(function(_){_==="style"||_==="warpSelf"||_==="useResizeObserver"||(g[_]=p[_])}),this._zoom=s,this._guidesZoom=o||s,Je(Tv,{ref:this.managerRef,cspNonce:f,className:"".concat(St("manager",a)," ").concat(i),style:l},Je("div",{className:St("guide-origin"),ref:xt(this,"originElement")}),Je(Df,Ye({ref:xt(this,"ruler"),style:u},g)),Je("div",{className:pv,ref:xt(this,"guidesElement"),style:{transform:"".concat(y,"(").concat(-this.scrollPos*this._guidesZoom,"px)")}},c&&Je("div",{className:hv,ref:xt(this,"displayElement"),style:v||{}}),Je("div",{className:mv,ref:xt(this,"adderElement"),style:d}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,i=this.props,a=i,s=a.type,o=a.showGuides,l=a.guideStyle,u=a.displayGuidePos,c=a.guidePosStyle,f=c===void 0?{}:c,d=a.guidesOffset,m=this._guidesZoom,v=this.getTranslateName(),p=this.state.guides,y=i.guidePosFormat||i.dragPosFormat||function(g){return g};if(this.guideElements=[],o)return p.map(function(g,_){var E=g+(d||0);return Je("div",{className:St("guide",s),ref:Nd(r,"guideElements",_),key:_,"data-index":_,"data-pos":g,style:Ye(Ye({},l),{transform:"".concat(v,"(").concat(E*m,"px) translateZ(0px)")})},u&&Je("div",{className:St("guide-pos"),style:f||{}},y(g)))})},n.componentDidMount=function(){var r=this;this.gesto=new Vf(this.managerRef.current,{container:document.body}).on("dragStart",function(i){var a=r.props,s=a.type,o=a.lockGuides,l=r._guidesZoom;if(o===!0){i.stop();return}var u=i.inputEvent,c=u.target,f=i.datas,d=r.ruler.canvasElement,m=r.guidesElement,v=s==="horizontal",p=r.originElement.getBoundingClientRect(),y=av(r.managerRef.current),g=zs(y,[i.clientX-p.left,i.clientY-p.top]);g[0]-=m.offsetLeft,g[1]-=m.offsetTop,g[v?1:0]+=r.scrollPos*l,f.offsetPos=g,f.matrix=y;var _=o&&o.indexOf("add")>-1,E=o&&o.indexOf("remove")>-1,b=o&&o.indexOf("change")>-1;if(c===d){if(_){i.stop();return}f.fromRuler=!0,f.target=r.adderElement}else if(ef(c,gv)){if(E&&b){i.stop();return}f.target=c}else return i.stop(),!1;r.onDragStart(i)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var i=this.props.defaultGuides;r.defaultGuides!==i&&this.setState({guides:i||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,i){i===void 0&&(i=this._guidesZoom),this._setZoom({guidesZoom:i});var a=this.getTranslateName(),s=this.guidesElement;this.scrollPos=r,s.style.transform="".concat(a,"(").concat(-r*i,"px)");var o=this.state.guides,l=this.props.guidesOffset||0;this.guideElements.forEach(function(u,c){if(u){var f=o[c]+(l||0);u.style.transform="".concat(a,"(").concat(f*i,"px) translateZ(0px)"),u.style.display=-r+f<0?"none":"block"}})},n.zoomTo=function(r,i){i===void 0&&(i=r),this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),i)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,i){i===void 0&&(i=this._zoom),this._setZoom({zoom:i}),this.ruler.scroll(r,i)},n.resize=function(r){r===void 0&&(r=this._zoom),this._setZoom({zoom:r}),this.ruler.resize(r)},n.movePos=function(r){var i=r.datas,a=r.distX,s=r.distY,o=this.props,l=o.type,u=o.snaps,c=o.snapThreshold,f=o.displayDragPos,d=o.digit,m=o.guidesOffset||0,v=this._guidesZoom,p=o.dragPosFormat||function(A){return A},y=l==="horizontal",g=zs(i.matrix,[a,s]),_=i.offsetPos,E=g[0]+_[0],b=g[1]+_[1],I=m*v,C=Math.round(y?b:E)-m,S=parseFloat((C/v).toFixed(d||0)),T=u.slice().sort(function(A,O){return Math.abs(S-A)-Math.abs(S-O)});if(T.length&&Math.abs(T[0]*v-C)<c&&(S=T[0],C=S*v),!i.fromRuler||!this._isFirstMove){if(f){var R=l==="horizontal"?[E,C+I]:[C+I,b];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(R.map(function(A){return"".concat(A,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(p(S))}var N=i.target;N.setAttribute("data-pos",S),N.style.transform="".concat(this.getTranslateName(),"(").concat(C+m*v,"px)")}return C},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var i=this,a=this.props.scrollOptions;if(a){var s=r.datas,o=new fv;s.dragScroll=o,o.on("scroll",function(l){var u,c,f=l.container,d=l.direction;(c=(u=i.props).onRequestScroll)===null||c===void 0||c.call(u,{container:f,direction:d})}).on("move",function(l){var u=l.offsetX,c=l.offsetY,f=l.inputEvent;i.gesto.scrollBy(u,c,f.inputEvent,!0)}),o.dragStart(r,{container:a.container})}},n._dragScroll=function(r){var i=this.props.scrollOptions;if(i){var a=r.datas.dragScroll;a.drag(r,i)}},n._endDragScroll=function(r){var i;(i=r.datas.dragScroll)===null||i===void 0||i.dragEnd(),r.datas.dragScroll=null},n._setZoom=function(r){var i=r.zoom,a=r.guidesZoom;this.props.zoom;var s=!!this.props.guidesZoom;s?a&&(this._guidesZoom=a):(a&&(this._zoom=a,this._guidesZoom=a),i&&(this._guidesZoom=i)),i&&(this._zoom=i)},t.defaultProps={className:"",type:"horizontal",zoom:1,guidesZoom:0,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(Hl),Ji=function(e,t){return Ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ji(e,t)};function Ya(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ji(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Mr=function(){return Mr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Mr.apply(this,arguments)};function bv(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}var Zl=yv,Jl=Ev,eu=Sv,Cv=function(e){Ya(t,e);function t(r){var i=e.call(this,r)||this;return i.state={},i.state=i.props,i}var n=t.prototype;return n.render=function(){return Je(Iv,Mr({ref:xt(this,"guides")},this.state))},t}(Fa);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ea=function(){return ea=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ea.apply(this,arguments)};function Rv(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}var Ov=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(pt(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(pt(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var a=this._events[n];if(a){var s=zr(a,function(o){return o.listener===r});s>-1&&a.splice(s,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(a){i._addEvent(n,a,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var a=this._events[n];if(!n||!a)return!0;var s=!1;return r.eventType=n,r.stop=function(){s=!0},r.currentTarget=this,Rv(a).forEach(function(o){o.listener(r),o.once&&i.off(n,o.listener)}),!s},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var a=this._events;a[n]=a[n]||[];var s=a[n];s.push(ea({listener:r},i))},e}(),wv=function(e){Ya(t,e);function t(r,i){i===void 0&&(i={});var a=e.call(this)||this;a.containerProvider=null,a.selfElement=null,a._warp=!1;var s={};eu.forEach(function(l){s[Xd("on ".concat(l))]=function(u){return a.trigger(l,u)}});var o;return i.warpSelf?(delete i.warpSelf,a._warp=!0,o=r):(o=document.createElement("div"),r.appendChild(o)),a.containerProvider=Us(Je(Cv,Mr({ref:xt(a,"innerGuides")},s,i)),o),a}var n=t.prototype;return n.setState=function(r,i){this.innerGuides.setState(r,i)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,i=this.selfElement;Us(null,i,this.containerProvider),this._warp||(r=i==null?void 0:i.parentElement)===null||r===void 0||r.removeChild(i),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=bv([Ns(Jl,function(r,i){r[i]||(r[i]=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var o=this.getInnerGuides();if(!(!o||!o[i]))return o[i].apply(o,a)})}),Ns(Zl,function(r,i){Object.defineProperty(r,i,{get:function(){return this.getInnerGuides().props[i]},set:function(a){var s;this.innerGuides.setState((s={},s[i]=a,s))},enumerable:!0,configurable:!0})})],t),t}(Ov),Pv=function(e){Ya(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(wv);const Dv=Pv;var ta=function(){return ta=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ta.apply(this,arguments)};function na(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Kn=na([],Zl,!0);Kn.splice(Kn.indexOf("style"),1);var tu={},za={};Kn.forEach(function(e){za[e]=function(t){this.$_guides[e]=t}});za.vueStyle=function(e){this.$_guides.style=e};Jl.forEach(function(e){tu[e]=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=this.$_guides)[e].apply(t,n)}});var qa={name:"guides",methods:tu,watch:za,props:na(na([],Kn,!0),["vueStyle"],!1),mounted:function(){var e=this,t={},n=this.$props;Kn.forEach(function(s){var o=n[s];Ml(o)||(t[s]=n[s])});var r=this.$refs,i=r.container;t.style=n.vueStyle,t.warpSelf=!0,this.$_guides=new Dv(i,t);var a=this.$_guides;eu.forEach(function(s){a.on(s,function(o){e.$emit(s,ta({},o))})})},beforeUnmount:function(){this.$_guides.destroy()}};const Av={ref:"container"};function Mv(e,t,n,r,i,a){return B(),le("div",Av,null,512)}qa.render=Mv;qa.__file="src/Guides.vue";const js=qa,Lv={class:"tool-guides"},xv=Z({__name:"ToolGuides",setup(e){return document.body.classList.add("tool-guides--enabled"),(t,n)=>(B(),le("div",Lv,[h(J(js),{type:"horizontal"}),h(J(js),{type:"vertical"})]))}}),kv=W({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function We(e,t,n){return ae()({name:e,props:kv({mode:n,origin:t}),setup(r,i){let{slots:a}=i;const s={onBeforeEnter(o){r.origin&&(o.style.transformOrigin=r.origin)},onLeave(o){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:f}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${u}px`,o.style.width=`${c}px`,o.style.height=`${f}px`}r.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(r.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:u,left:c,width:f,height:d}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=u||"",o.style.left=c||"",o.style.width=f||"",o.style.height=d||""}}};return()=>{const o=r.group?Gc:tn;return je(o,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:s},a.default)}}})}function nu(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ae()({name:e,props:{mode:{type:String,default:n},disabled:Boolean},setup(r,i){let{slots:a}=i;return()=>je(tn,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},a.default)}})}function ru(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=rl(`offset-${n}`);return{onBeforeEnter(s){s._parent=s.parentNode,s._initialStyle={transition:s.style.transition,overflow:s.style.overflow,[n]:s.style[n]}},onEnter(s){const o=s._initialStyle;s.style.setProperty("transition","none","important"),s.style.overflow="hidden";const l=`${s[r]}px`;s.style[n]="0",s.offsetHeight,s.style.transition=o.transition,e&&s._parent&&s._parent.classList.add(e),requestAnimationFrame(()=>{s.style[n]=l})},onAfterEnter:a,onEnterCancelled:a,onLeave(s){s._initialStyle={transition:"",overflow:s.style.overflow,[n]:s.style[n]},s.style.overflow="hidden",s.style[n]=`${s[r]}px`,s.offsetHeight,requestAnimationFrame(()=>s.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(s){e&&s._parent&&s._parent.classList.remove(e),a(s)}function a(s){const o=s._initialStyle[n];s.style.overflow=s._initialStyle.overflow,o!=null&&(s.style[n]=o),delete s._initialStyle}}const Nv=W({target:[Object,Array]},"v-dialog-transition"),iu=ae()({name:"VDialogTransition",props:Nv(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,a){var d;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),i.style.visibility="";const{x:s,y:o,sx:l,sy:u,speed:c}=Xs(e.target,i),f=Vn(i,[{transform:`translate(${s}px, ${o}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:Ed});(d=Ws(i))==null||d.forEach(m=>{Vn(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:Fi})}),f.finished.then(()=>a())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,a){var d;await new Promise(m=>requestAnimationFrame(m));const{x:s,y:o,sx:l,sy:u,speed:c}=Xs(e.target,i);Vn(i,[{},{transform:`translate(${s}px, ${o}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:Sd}).finished.then(()=>a()),(d=Ws(i))==null||d.forEach(m=>{Vn(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:Fi})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>e.target?h(tn,De({name:"dialog-transition"},r,{css:!1}),n):h(tn,{name:"dialog-transition"},n)}});function Ws(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function Xs(e,t){const n=_l(e),r=yl(t),[i,a]=getComputedStyle(t).transformOrigin.split(" ").map(g=>parseFloat(g)),[s,o]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;s==="left"||o==="left"?l-=n.width/2:(s==="right"||o==="right")&&(l+=n.width/2);let u=n.top+n.height/2;s==="top"||o==="top"?u-=n.height/2:(s==="bottom"||o==="bottom")&&(u+=n.height/2);const c=n.width/r.width,f=n.height/r.height,d=Math.max(1,c,f),m=c/d||0,v=f/d||0,p=r.width*r.height/(window.innerWidth*window.innerHeight),y=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(i+r.left),y:u-(a+r.top),sx:m,sy:v,speed:y}}We("fab-transition","center center","out-in");We("dialog-bottom-transition");We("dialog-top-transition");We("fade-transition");const Bv=We("scale-transition");We("scroll-x-transition");We("scroll-x-reverse-transition");We("scroll-y-transition");We("scroll-y-reverse-transition");We("slide-x-transition");We("slide-x-reverse-transition");const Gv=We("slide-y-transition");We("slide-y-reverse-transition");const Vv=nu("expand-transition",ru());nu("expand-x-transition",ru("",!0));const $v=W({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),lt=ae(!1)({name:"VDefaultsProvider",props:$v(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:i,reset:a,root:s,scoped:o}=Vc(e);return tr(r,{reset:a,root:s,scoped:o,disabled:i}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),ra=Symbol.for("vuetify:list");function au(){const e=Ae(ra,{hasPrepend:fe(!1),updateHasPrepend:()=>null}),t={hasPrepend:fe(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return we(ra,t),e}function su(){return Ae(ra,null)}const Fv={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){const a=new Set;a.add(t);let s=i.get(t);for(;s!=null;)a.add(s),s=i.get(s);return a}else return r.delete(t),r},select:()=>null},ou={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){let a=i.get(t);for(r.add(t);a!=null&&a!==t;)r.add(a),a=i.get(a);return r}else r.delete(t);return r},select:()=>null},Uv={open:ou.open,select:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(!n)return r;const a=[];let s=i.get(t);for(;s!=null;)a.push(s),s=i.get(s);return new Set(a)}},ja=e=>{const t={select:n=>{let{id:r,value:i,selected:a}=n;if(r=sn(r),e&&!i){const s=Array.from(a.entries()).reduce((o,l)=>{let[u,c]=l;return c==="on"?[...o,u]:o},[]);if(s.length===1&&s[0]===r)return a}return a.set(r,i?"on":"off"),a},in:(n,r,i)=>{let a=new Map;for(const s of n||[])a=t.select({id:s,value:!0,selected:new Map(a),children:r,parents:i});return a},out:n=>{const r=[];for(const[i,a]of n.entries())a==="on"&&r.push(i);return r}};return t},lu=e=>{const t=ja(e);return{select:r=>{let{selected:i,id:a,...s}=r;a=sn(a);const o=i.has(a)?new Map([[a,i.get(a)]]):new Map;return t.select({...s,id:a,selected:o})},in:(r,i,a)=>{let s=new Map;return r!=null&&r.length&&(s=t.in(r.slice(0,1),i,a)),s},out:(r,i,a)=>t.out(r,i,a)}},Hv=e=>{const t=ja(e);return{select:r=>{let{id:i,selected:a,children:s,...o}=r;return i=sn(i),s.has(i)?a:t.select({id:i,selected:a,children:s,...o})},in:t.in,out:t.out}},Yv=e=>{const t=lu(e);return{select:r=>{let{id:i,selected:a,children:s,...o}=r;return i=sn(i),s.has(i)?a:t.select({id:i,selected:a,children:s,...o})},in:t.in,out:t.out}},zv=e=>{const t={select:n=>{let{id:r,value:i,selected:a,children:s,parents:o}=n;r=sn(r);const l=new Map(a),u=[r];for(;u.length;){const f=u.shift();a.set(f,i?"on":"off"),s.has(f)&&u.push(...s.get(f))}let c=o.get(r);for(;c;){const f=s.get(c),d=f.every(v=>a.get(v)==="on"),m=f.every(v=>!a.has(v)||a.get(v)==="off");a.set(c,d?"on":m?"off":"indeterminate"),c=o.get(c)}return e&&!i&&Array.from(a.entries()).reduce((d,m)=>{let[v,p]=m;return p==="on"?[...d,v]:d},[]).length===0?l:a},in:(n,r,i)=>{let a=new Map;for(const s of n||[])a=t.select({id:s,value:!0,selected:new Map(a),children:r,parents:i});return a},out:(n,r)=>{const i=[];for(const[a,s]of n.entries())s==="on"&&!r.has(a)&&i.push(a);return i}};return t},Zn=Symbol.for("vuetify:nested"),uu={id:fe(),root:{register:()=>null,unregister:()=>null,parents:z(new Map),children:z(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:z(new Set),selected:z(new Map),selectedValues:z([])}},qv=W({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),jv=e=>{let t=!1;const n=z(new Map),r=z(new Map),i=ut(e,"opened",e.opened,f=>new Set(f),f=>[...f.values()]),a=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return Yv(e.mandatory);case"leaf":return Hv(e.mandatory);case"independent":return ja(e.mandatory);case"single-independent":return lu(e.mandatory);case"classic":default:return zv(e.mandatory)}}),s=w(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Uv;case"single":return Fv;case"multiple":default:return ou}}),o=ut(e,"selected",e.selected,f=>a.value.in(f,n.value,r.value),f=>a.value.out(f,n.value,r.value));Gt(()=>{t=!0});function l(f){const d=[];let m=f;for(;m!=null;)d.unshift(m),m=r.value.get(m);return d}const u=Vt("nested"),c={id:fe(),root:{opened:i,selected:o,selectedValues:w(()=>{const f=[];for(const[d,m]of o.value.entries())m==="on"&&f.push(d);return f}),register:(f,d,m)=>{d&&f!==d&&r.value.set(f,d),m&&n.value.set(f,[]),d!=null&&n.value.set(d,[...n.value.get(d)||[],f])},unregister:f=>{if(t)return;n.value.delete(f);const d=r.value.get(f);if(d){const m=n.value.get(d)??[];n.value.set(d,m.filter(v=>v!==f))}r.value.delete(f),i.value.delete(f)},open:(f,d,m)=>{u.emit("click:open",{id:f,value:d,path:l(f),event:m});const v=s.value.open({id:f,value:d,opened:new Set(i.value),children:n.value,parents:r.value,event:m});v&&(i.value=v)},openOnSelect:(f,d,m)=>{const v=s.value.select({id:f,value:d,selected:new Map(o.value),opened:new Set(i.value),children:n.value,parents:r.value,event:m});v&&(i.value=v)},select:(f,d,m)=>{u.emit("click:select",{id:f,value:d,path:l(f),event:m});const v=a.value.select({id:f,value:d,selected:new Map(o.value),children:n.value,parents:r.value,event:m});v&&(o.value=v),c.root.openOnSelect(f,d,m)},children:n,parents:r}};return we(Zn,c),c.root},cu=(e,t)=>{const n=Ae(Zn,uu),r=Symbol(nr()),i=w(()=>e.value!==void 0?e.value:r),a={...n,id:i,open:(s,o)=>n.root.open(i.value,s,o),openOnSelect:(s,o)=>n.root.openOnSelect(i.value,s,o),isOpen:w(()=>n.root.opened.value.has(i.value)),parent:w(()=>n.root.parents.value.get(i.value)),select:(s,o)=>n.root.select(i.value,s,o),isSelected:w(()=>n.root.selected.value.get(sn(i.value))==="on"),isIndeterminate:w(()=>n.root.selected.value.get(i.value)==="indeterminate"),isLeaf:w(()=>!n.root.children.value.get(i.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(i.value,n.id.value,t),Gt(()=>{!n.isGroupActivator&&n.root.unregister(i.value)}),t&&we(Zn,a),a},Wv=()=>{const e=Ae(Zn,uu);we(Zn,{...e,isGroupActivator:!0})};function Wa(){const e=fe(!1);return $t(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:w(()=>e.value?void 0:{transition:"none !important"}),isBooted:Sa(e)}}const Xv=$c({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return Wv(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),Qv=W({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Fe,default:"$collapse"},expandIcon:{type:Fe,default:"$expand"},prependIcon:Fe,appendIcon:Fe,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ve(),...He()},"VListGroup"),Qs=ae()({name:"VListGroup",props:Qv(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:i,id:a}=cu(te(e,"value"),!0),s=w(()=>`v-list-group--id-${String(a.value)}`),o=su(),{isBooted:l}=Wa();function u(m){i(!r.value,m)}const c=w(()=>({onClick:u,class:"v-list-group__header",id:s.value})),f=w(()=>r.value?e.collapseIcon:e.expandIcon),d=w(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return ue(()=>h(e.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&h(lt,{defaults:d.value},{default:()=>[h(Xv,null,{default:()=>[n.activator({props:c.value,isOpen:r.value})]})]}),h(Ra,{transition:{component:Vv},disabled:!l.value},{default:()=>{var m;return[nn(h("div",{class:"v-list-group__items",role:"group","aria-labelledby":s.value},[(m=n.default)==null?void 0:m.call(n)]),[[Ta,r.value]])]}})]})),{}}}),Kv=sr("v-list-item-subtitle"),nt=sr("v-list-item-title"),un=W({border:[Boolean,Number,String]},"border");function cn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rr();return{borderClasses:w(()=>{const r=Tn(e)?e.value:e.border,i=[];if(r===!0||r==="")i.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const a of String(r).split(" "))i.push(`border-${a}`);return i})}}const Ut=W({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Ht(e){return{elevationClasses:w(()=>{const n=Tn(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}function Zv(){const e=Vt("useRoute");return w(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function du(){var e,t;return(t=(e=Vt("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Xa(e,t){const n=Fc("RouterLink"),r=w(()=>!!(e.href||e.to)),i=w(()=>(r==null?void 0:r.value)||Rs(t,"click")||Rs(e,"click"));if(typeof n=="string")return{isLink:r,isClickable:i,href:te(e,"href")};const a=e.to?n.useLink(e):void 0,s=Zv();return{isLink:r,isClickable:i,route:a==null?void 0:a.route,navigate:a==null?void 0:a.navigate,isActive:a&&w(()=>{var o,l,u;return e.exact?s.value?((u=a.isExactActive)==null?void 0:u.value)&&Ia(a.route.value.query,s.value.query):(l=a.isExactActive)==null?void 0:l.value:(o=a.isActive)==null?void 0:o.value}),href:w(()=>e.to?a==null?void 0:a.route.value.href:e.href)}}const Qa=W({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Ti=!1;function Jv(e,t){let n=!1,r,i;Rt&&(ct(()=>{window.addEventListener("popstate",a),r=e==null?void 0:e.beforeEach((s,o,l)=>{Ti?n?t(l):l():setTimeout(()=>n?t(l):l()),Ti=!0}),i=e==null?void 0:e.afterEach(()=>{Ti=!1})}),tt(()=>{window.removeEventListener("popstate",a),r==null||r(),i==null||i()}));function a(s){var o;(o=s.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}const ia=Symbol("rippleStop"),em=80;function Ks(e,t){e.style.transform=t,e.style.webkitTransform=t}function aa(e){return e.constructor.name==="TouchEvent"}function fu(e){return e.constructor.name==="KeyboardEvent"}const tm=function(e,t){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;if(!fu(e)){const d=t.getBoundingClientRect(),m=aa(e)?e.touches[e.touches.length-1]:e;r=m.clientX-d.left,i=m.clientY-d.top}let a=0,s=.3;(f=t._ripple)!=null&&f.circle?(s=.15,a=t.clientWidth/2,a=n.center?a:a+Math.sqrt((r-a)**2+(i-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const o=`${(t.clientWidth-a*2)/2}px`,l=`${(t.clientHeight-a*2)/2}px`,u=n.center?o:`${r-a}px`,c=n.center?l:`${i-a}px`;return{radius:a,scale:s,x:u,y:c,centerX:o,centerY:l}},Lr={show(e,t){var m;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((m=t==null?void 0:t._ripple)!=null&&m.enabled))return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:a,scale:s,x:o,y:l,centerX:u,centerY:c}=tm(e,t,n),f=`${a*2}px`;i.className="v-ripple__animation",i.style.width=f,i.style.height=f,t.appendChild(r);const d=window.getComputedStyle(t);d&&d.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),Ks(i,`translate(${o}, ${l}) scale3d(${s},${s},${s})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),Ks(i,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var a;if(!((a=e==null?void 0:e._ripple)!=null&&a.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===e&&e.removeChild(n.parentNode)},300)},i)}};function vu(e){return typeof e>"u"||!!e}function Jn(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[ia])){if(e[ia]=!0,aa(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||fu(e),n._ripple.class&&(t.class=n._ripple.class),aa(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Lr.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},em)}else Lr.show(e,n,t)}}function Zs(e){e[ia]=!0}function qe(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{qe(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Lr.hide(t)}}function mu(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let er=!1;function pu(e){!er&&(e.keyCode===Os.enter||e.keyCode===Os.space)&&(er=!0,Jn(e))}function gu(e){er=!1,qe(e)}function hu(e){er&&(er=!1,qe(e))}function _u(e,t,n){const{value:r,modifiers:i}=t,a=vu(r);if(a||Lr.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=a,e._ripple.centered=i.center,e._ripple.circle=i.circle,Uc(r)&&r.class&&(e._ripple.class=r.class),a&&!n){if(i.stop){e.addEventListener("touchstart",Zs,{passive:!0}),e.addEventListener("mousedown",Zs);return}e.addEventListener("touchstart",Jn,{passive:!0}),e.addEventListener("touchend",qe,{passive:!0}),e.addEventListener("touchmove",mu,{passive:!0}),e.addEventListener("touchcancel",qe),e.addEventListener("mousedown",Jn),e.addEventListener("mouseup",qe),e.addEventListener("mouseleave",qe),e.addEventListener("keydown",pu),e.addEventListener("keyup",gu),e.addEventListener("blur",hu),e.addEventListener("dragstart",qe,{passive:!0})}else!a&&n&&yu(e)}function yu(e){e.removeEventListener("mousedown",Jn),e.removeEventListener("touchstart",Jn),e.removeEventListener("touchend",qe),e.removeEventListener("touchmove",mu),e.removeEventListener("touchcancel",qe),e.removeEventListener("mouseup",qe),e.removeEventListener("mouseleave",qe),e.removeEventListener("keydown",pu),e.removeEventListener("keyup",gu),e.removeEventListener("dragstart",qe),e.removeEventListener("blur",hu)}function nm(e,t){_u(e,t,!1)}function rm(e){delete e._ripple,yu(e)}function im(e,t){if(t.value===t.oldValue)return;const n=vu(t.oldValue);_u(e,t,n)}const Wr={mounted:nm,unmounted:rm,updated:im},am=W({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Fe,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Fe,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Wn(),onClickOnce:Wn(),...un(),...ve(),...on(),...On(),...Ut(),...Ot(),...Qa(),...He(),...dt(),...ar({variant:"text"})},"VListItem"),Re=ae()({name:"VListItem",directives:{Ripple:Wr},props:am(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const a=Xa(e,n),s=w(()=>e.value===void 0?a.href.value:e.value),{select:o,isSelected:l,isIndeterminate:u,isGroupActivator:c,root:f,parent:d,openOnSelect:m}=cu(s,!1),v=su(),p=w(()=>{var M;return e.active!==!1&&(e.active||((M=a.isActive)==null?void 0:M.value)||l.value)}),y=w(()=>e.link!==!1&&a.isLink.value),g=w(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||e.value!=null&&!!v)),_=w(()=>e.rounded||e.nav),E=w(()=>e.color??e.activeColor),b=w(()=>({color:p.value?E.value??e.baseColor:e.baseColor,variant:e.variant}));ie(()=>{var M;return(M=a.isActive)==null?void 0:M.value},M=>{M&&d.value!=null&&f.open(d.value,!0),M&&m(M)},{immediate:!0});const{themeClasses:I}=gt(e),{borderClasses:C}=cn(e),{colorClasses:S,colorStyles:T,variantClasses:R}=Oa(b),{densityClasses:N}=wn(e),{dimensionStyles:A}=Pn(e),{elevationClasses:O}=Ht(e),{roundedClasses:x}=wt(_),P=w(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),F=w(()=>({isActive:p.value,select:o,isSelected:l.value,isIndeterminate:u.value}));function D(M){var V;i("click",M),!(c||!g.value)&&((V=a.navigate)==null||V.call(a,M),e.value!=null&&o(!l.value,M))}function k(M){(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),D(M))}return ue(()=>{const M=y.value?"a":e.tag,V=r.title||e.title!=null,Y=r.subtitle||e.subtitle!=null,j=!!(e.appendAvatar||e.appendIcon),X=!!(j||r.append),se=!!(e.prependAvatar||e.prependIcon),re=!!(se||r.prepend);return v==null||v.updateHasPrepend(re),e.activeColor&&Hc("active-color",["color","base-color"]),nn(h(M,{class:["v-list-item",{"v-list-item--active":p.value,"v-list-item--disabled":e.disabled,"v-list-item--link":g.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!re&&(v==null?void 0:v.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&p.value},I.value,C.value,S.value,N.value,O.value,P.value,x.value,R.value,e.class],style:[T.value,A.value,e.style],href:a.href.value,tabindex:g.value?v?-2:0:void 0,onClick:D,onKeydown:g.value&&!y.value&&k},{default:()=>{var Me;return[wa(g.value||p.value,"v-list-item"),re&&h("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?h(lt,{key:"prepend-defaults",disabled:!se,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var G;return[(G=r.prepend)==null?void 0:G.call(r,F.value)]}}):h(Ne,null,[e.prependAvatar&&h(wr,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(Ue,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),h("div",{class:"v-list-item__spacer"},null)]),h("div",{class:"v-list-item__content","data-no-activator":""},[V&&h(nt,{key:"title"},{default:()=>{var G;return[((G=r.title)==null?void 0:G.call(r,{title:e.title}))??e.title]}}),Y&&h(Kv,{key:"subtitle"},{default:()=>{var G;return[((G=r.subtitle)==null?void 0:G.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(Me=r.default)==null?void 0:Me.call(r,F.value)]),X&&h("div",{key:"append",class:"v-list-item__append"},[r.append?h(lt,{key:"append-defaults",disabled:!j,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var G;return[(G=r.append)==null?void 0:G.call(r,F.value)]}}):h(Ne,null,[e.appendIcon&&h(Ue,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(wr,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),h("div",{class:"v-list-item__spacer"},null)])]}}),[[ir("ripple"),g.value&&e.ripple]])}),{}}}),sm=W({color:String,inset:Boolean,sticky:Boolean,title:String,...ve(),...He()},"VListSubheader"),om=ae()({name:"VListSubheader",props:sm(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:i}=In(te(e,"color"));return ue(()=>{const a=!!(n.default||e.title);return h(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:i},e.style]},{default:()=>{var s;return[a&&h("div",{class:"v-list-subheader__text"},[((s=n.default)==null?void 0:s.call(n))??e.title])]}})}),{}}}),lm=W({items:Array,returnObject:Boolean},"VListChildren"),Eu=ae()({name:"VListChildren",props:lm(),setup(e,t){let{slots:n}=t;return au(),()=>{var r,i;return((r=n.default)==null?void 0:r.call(n))??((i=e.items)==null?void 0:i.map(a=>{var d,m;let{children:s,props:o,type:l,raw:u}=a;if(l==="divider")return((d=n.divider)==null?void 0:d.call(n,{props:o}))??h(Pa,o,null);if(l==="subheader")return((m=n.subheader)==null?void 0:m.call(n,{props:o}))??h(om,o,null);const c={subtitle:n.subtitle?v=>{var p;return(p=n.subtitle)==null?void 0:p.call(n,{...v,item:u})}:void 0,prepend:n.prepend?v=>{var p;return(p=n.prepend)==null?void 0:p.call(n,{...v,item:u})}:void 0,append:n.append?v=>{var p;return(p=n.append)==null?void 0:p.call(n,{...v,item:u})}:void 0,title:n.title?v=>{var p;return(p=n.title)==null?void 0:p.call(n,{...v,item:u})}:void 0},f=Qs.filterProps(o);return s?h(Qs,De({value:o==null?void 0:o.value},f),{activator:v=>{let{props:p}=v;const y={...o,...p,value:e.returnObject?u:o.value};return n.header?n.header({props:y}):h(Re,y,c)},default:()=>h(Eu,{items:s},n)}):n.item?n.item({props:o}):h(Re,De(o,{value:e.returnObject?u:o.value}),c)}))}}}),um=W({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Ia}},"list-items");function cm(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function dm(e,t){const n=xn(t,e.itemType,"item"),r=cm(t)?t:xn(t,e.itemTitle),i=xn(t,e.itemValue,void 0),a=xn(t,e.itemChildren),s=e.itemProps===!0?il(t,["children"]):xn(t,e.itemProps),o={title:r,value:i,...s};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&a?Su(e,a):void 0,raw:t}}function Su(e,t){const n=[];for(const r of t)n.push(dm(e,r));return n}function fm(e){return{items:w(()=>Su(e,e.items))}}const vm=W({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...qv({selectStrategy:"single-leaf",openStrategy:"list"}),...un(),...ve(),...on(),...On(),...Ut(),itemType:{type:String,default:"type"},...um(),...Ot(),...He(),...dt(),...ar({variant:"text"})},"VList"),qn=ae()({name:"VList",props:vm(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=fm(e),{themeClasses:i}=gt(e),{backgroundColorClasses:a,backgroundColorStyles:s}=It(te(e,"bgColor")),{borderClasses:o}=cn(e),{densityClasses:l}=wn(e),{dimensionStyles:u}=Pn(e),{elevationClasses:c}=Ht(e),{roundedClasses:f}=wt(e),{open:d,select:m}=jv(e),v=w(()=>e.lines?`v-list--${e.lines}-line`:void 0),p=te(e,"activeColor"),y=te(e,"baseColor"),g=te(e,"color");au(),tr({VListGroup:{activeColor:p,baseColor:y,color:g},VListItem:{activeClass:te(e,"activeClass"),activeColor:p,baseColor:y,color:g,density:te(e,"density"),disabled:te(e,"disabled"),lines:te(e,"lines"),nav:te(e,"nav"),slim:te(e,"slim"),variant:te(e,"variant")}});const _=fe(!1),E=z();function b(R){_.value=!0}function I(R){_.value=!1}function C(R){var N;!_.value&&!(R.relatedTarget&&((N=E.value)!=null&&N.contains(R.relatedTarget)))&&T()}function S(R){if(E.value){if(R.key==="ArrowDown")T("next");else if(R.key==="ArrowUp")T("prev");else if(R.key==="Home")T("first");else if(R.key==="End")T("last");else return;R.preventDefault()}}function T(R){if(E.value)return Bi(E.value,R)}return ue(()=>h(e.tag,{ref:E,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},i.value,a.value,o.value,l.value,c.value,v.value,f.value,e.class],style:[s.value,u.value,e.style],tabindex:e.disabled||_.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:b,onFocusout:I,onFocus:C,onKeydown:S},{default:()=>[h(Eu,{items:r.value,returnObject:e.returnObject},n)]})),{open:d,select:m,focus:T}}}),mm=Z({__name:"MediaContextMenuConvertToIframe",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){const i=window.prompt("URL of the iframe","https://");i&&(n.media.convertToIframe(i),n.media.user.save())}return(i,a)=>(B(),U(Re,{onClick:r},{default:$(()=>[h(nt,null,{default:$(()=>[me("Convert to iframe")]),_:1})]),_:1}))}}),pm=Z({__name:"MediaContextMenuConvertToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){n.media.convertToAlbum(),n.media.user.save()}return(i,a)=>(B(),U(Re,{onClick:r},{default:$(()=>[h(nt,null,{default:$(()=>[me("Convert to album")]),_:1})]),_:1}))}});function gm(e){return Yc()?(tt(e),!0):!1}function hm(){const e=new Set,t=i=>{e.delete(i)};return{on:i=>{e.add(i);const a=()=>t(i);return gm(a),{off:a}},off:t,trigger:i=>Promise.all(Array.from(e).map(a=>i?a(i):a()))}}const _m=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ym=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Em=_m?window.document:void 0,Sm={multiple:!0,accept:"*",reset:!1,directory:!1};function Xr(e={}){const{document:t=Em}=e,n=z(null),{on:r,trigger:i}=hm();let a;t&&(a=t.createElement("input"),a.type="file",a.onchange=l=>{const u=l.target;n.value=u.files,i(n.value)});const s=()=>{n.value=null,a&&(a.value="")},o=l=>{if(!a)return;const u={...Sm,...e,...l};a.multiple=u.multiple,a.accept=u.accept,a.webkitdirectory=u.directory,ym(u,"capture")&&(a.capture=u.capture),u.reset&&s(),a.click()};return{files:Sa(n),open:o,reset:s,onChange:r}}const Tm=Z({__name:"MediaContextMenuReplaceMedia",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{open:i,onChange:a}=Xr({accept:"image/*",multiple:!1});return a(s=>{if(!s)return;const o=s[0];n.media.setMediaImage(o),n.media.refresh(),n.media.save(),r("close")}),(s,o)=>(B(),U(Re,{onClick:J(i)},{default:$(()=>[h(nt,null,{default:$(()=>[me("Replace media")]),_:1})]),_:1},8,["onClick"]))}}),Im=Z({__name:"MediaContextMenuRemoveCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;function i(){n.media.removeCover(),n.media.refresh(),n.media.save(),r("close")}return(a,s)=>(B(),U(Re,{onClick:i},{default:$(()=>[h(nt,null,{default:$(()=>[me("Remove cover")]),_:1})]),_:1}))}}),bm=Z({__name:"MediaContextMenuReplaceCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:i,open:a,reset:s,onChange:o}=Xr({accept:"image/*",multiple:!1});return o(l=>{if(!l)return;const u=l[0];n.media.setCover(u),n.media.refresh(),n.media.save(),r("close")}),(l,u)=>(B(),U(Re,{onClick:J(a)},{default:$(()=>[h(nt,null,{default:$(()=>[me("Replace cover")]),_:1})]),_:1},8,["onClick"]))}}),Cm=Z({__name:"MediaContextMenuAddCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:i,open:a,reset:s,onChange:o}=Xr({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return o(l=>{if(!l)return;const u=l[0];n.media.setCover(u),n.media.save(),r("close")}),(l,u)=>(B(),U(Re,{onClick:J(a)},{default:$(()=>[h(nt,null,{default:$(()=>[me("Add cover")]),_:1})]),_:1},8,["onClick"]))}}),Rm=Z({__name:"MediaContextMenuRemoveFromAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;function i(){n.media.removeFromAlbum(),n.media.refresh(),n.media.save(),r("close")}return(a,s)=>(B(),U(Re,{onClick:i},{default:$(()=>[h(nt,null,{default:$(()=>[me("Remove from album")]),_:1})]),_:1}))}}),Om=Z({__name:"MediaContextMenuAddToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:i,open:a,reset:s,onChange:o}=Xr({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return o(l=>{if(!l)return;const u=l[0];n.media.addToAlbum(u),n.media.save(),r("close")}),(l,u)=>(B(),U(Re,{onClick:J(a)},{default:$(()=>[h(nt,null,{default:$(()=>[me("Add to album")]),_:1})]),_:1},8,["onClick"]))}}),wm=Z({__name:"MediaContextMenuGroup",props:{title:{}},setup(e){return(t,n)=>(B(),U(Re,{class:"px-0 mt-1"},{default:$(()=>[h(nt,{class:"text-overline px-4",textContent:Tt(t.title)},null,8,["textContent"]),h(qn,{density:"compact",class:"ma-0 pa-0"},{default:$(()=>[ba(t.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}}),Pm=Ee(wm,[["__scopeId","data-v-282b1627"]]),Dm=Z({__name:"MediaContextMenuCloneToReel",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){n.media.cloneToReel(),n.media.user.save()}return(i,a)=>(B(),U(Re,{onClick:r},{default:$(()=>[h(nt,null,{default:$(()=>[me("Clone to reel")]),_:1})]),_:1}))}});function Ii(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Am(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Js(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,i=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,a=n==="top"?0:n==="bottom"?t.height:n;return Ii({x:i,y:a},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,i=n==="left"?0:n==="right"?t.width:n,a=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return Ii({x:i,y:a},t)}return Ii({x:t.width/2,y:t.height/2},t)}const Tu={static:xm,connected:Nm},Mm=W({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Tu},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Lm(e,t){const n=z({}),r=z();Rt&&(kt(()=>!!(t.isActive.value&&e.locationStrategy),a=>{var s,o;ie(()=>e.locationStrategy,a),tt(()=>{r.value=void 0}),typeof e.locationStrategy=="function"?r.value=(s=e.locationStrategy(t,e,n))==null?void 0:s.updateLocation:r.value=(o=Tu[e.locationStrategy](t,e,n))==null?void 0:o.updateLocation}),window.addEventListener("resize",i,{passive:!0}),tt(()=>{window.removeEventListener("resize",i),r.value=void 0}));function i(a){var s;(s=r.value)==null||s.call(r,a)}return{contentStyles:n,updateLocation:r}}function xm(){}function km(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=yl(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function Nm(e,t,n){(Array.isArray(e.target.value)||bd(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:a}=zc(()=>{const v=Vi(t.location,e.isRtl.value),p=t.origin==="overlap"?v:t.origin==="auto"?ci(v):Vi(t.origin,e.isRtl.value);return v.side===p.side&&v.align===di(p).align?{preferredAnchor:As(v),preferredOrigin:As(p)}:{preferredAnchor:v,preferredOrigin:p}}),[s,o,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>w(()=>{const p=parseFloat(t[v]);return isNaN(p)?1/0:p})),c=w(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const d=new ResizeObserver(()=>{f&&m()});ie([e.target,e.contentEl],(v,p)=>{let[y,g]=v,[_,E]=p;_&&!Array.isArray(_)&&d.unobserve(_),y&&!Array.isArray(y)&&d.observe(y),E&&d.unobserve(E),g&&d.observe(g)},{immediate:!0}),tt(()=>{d.disconnect()});function m(){if(f=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>f=!0)}),!e.target.value||!e.contentEl.value)return;const v=_l(e.target.value),p=km(e.contentEl.value,e.isRtl.value),y=Pr(e.contentEl.value),g=12;y.length||(y.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const _=y.reduce((A,O)=>{const x=O.getBoundingClientRect(),P=new Kt({x:O===document.documentElement?0:x.x,y:O===document.documentElement?0:x.y,width:O.clientWidth,height:O.clientHeight});return A?new Kt({x:Math.max(A.left,P.left),y:Math.max(A.top,P.top),width:Math.min(A.right,P.right)-Math.max(A.left,P.left),height:Math.min(A.bottom,P.bottom)-Math.max(A.top,P.top)}):P},void 0);_.x+=g,_.y+=g,_.width-=g*2,_.height-=g*2;let E={anchor:i.value,origin:a.value};function b(A){const O=new Kt(p),x=Js(A.anchor,v),P=Js(A.origin,O);let{x:F,y:D}=Am(x,P);switch(A.anchor.side){case"top":D-=c.value[0];break;case"bottom":D+=c.value[0];break;case"left":F-=c.value[0];break;case"right":F+=c.value[0];break}switch(A.anchor.align){case"top":D-=c.value[1];break;case"bottom":D+=c.value[1];break;case"left":F-=c.value[1];break;case"right":F+=c.value[1];break}return O.x+=F,O.y+=D,O.width=Math.min(O.width,l.value),O.height=Math.min(O.height,u.value),{overflows:Ls(O,_),x:F,y:D}}let I=0,C=0;const S={x:0,y:0},T={x:!1,y:!1};let R=-1;for(;!(R++>10);){const{x:A,y:O,overflows:x}=b(E);I+=A,C+=O,p.x+=A,p.y+=O;{const P=Ms(E.anchor),F=x.x.before||x.x.after,D=x.y.before||x.y.after;let k=!1;if(["x","y"].forEach(M=>{if(M==="x"&&F&&!T.x||M==="y"&&D&&!T.y){const V={anchor:{...E.anchor},origin:{...E.origin}},Y=M==="x"?P==="y"?di:ci:P==="y"?ci:di;V.anchor=Y(V.anchor),V.origin=Y(V.origin);const{overflows:j}=b(V);(j[M].before<=x[M].before&&j[M].after<=x[M].after||j[M].before+j[M].after<(x[M].before+x[M].after)/2)&&(E=V,k=T[M]=!0)}}),k)continue}x.x.before&&(I+=x.x.before,p.x+=x.x.before),x.x.after&&(I-=x.x.after,p.x-=x.x.after),x.y.before&&(C+=x.y.before,p.y+=x.y.before),x.y.after&&(C-=x.y.after,p.y-=x.y.after);{const P=Ls(p,_);S.x=_.width-P.x.before-P.x.after,S.y=_.height-P.y.before-P.y.after,I+=P.x.before,p.x+=P.x.before,C+=P.y.before,p.y+=P.y.before}break}const N=Ms(E.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${E.anchor.side} ${E.anchor.align}`,transformOrigin:`${E.origin.side} ${E.origin.align}`,top:oe(bi(C)),left:e.isRtl.value?void 0:oe(bi(I)),right:e.isRtl.value?oe(bi(-I)):void 0,minWidth:oe(N==="y"?Math.min(s.value,v.width):s.value),maxWidth:oe(eo(Or(S.x,s.value===1/0?0:s.value,l.value))),maxHeight:oe(eo(Or(S.y,o.value===1/0?0:o.value,u.value)))}),{available:S,contentBox:p}}return ie(()=>[i.value,a.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>m()),ct(()=>{const v=m();if(!v)return;const{available:p,contentBox:y}=v;y.height>p.y&&requestAnimationFrame(()=>{m(),requestAnimationFrame(()=>{m()})})}),{updateLocation:m}}function bi(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function eo(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let sa=!0;const xr=[];function Bm(e){!sa||xr.length?(xr.push(e),oa()):(sa=!1,e(),oa())}let to=-1;function oa(){cancelAnimationFrame(to),to=requestAnimationFrame(()=>{const e=xr.shift();e&&e(),xr.length?oa():sa=!0})}const br={none:null,close:$m,block:Fm,reposition:Um},Gm=W({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in br}},"VOverlay-scroll-strategies");function Vm(e,t){if(!Rt)return;let n;Hr(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=al(),await ct(),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=br[e.scrollStrategy])==null||r.call(br,t,e,n)}))}),tt(()=>{n==null||n.stop()})}function $m(e){function t(n){e.isActive.value=!1}Iu(e.targetEl.value??e.contentEl.value,t)}function Fm(e,t){var s;const n=(s=e.root.value)==null?void 0:s.offsetParent,r=[...new Set([...Pr(e.targetEl.value,t.contained?n:void 0),...Pr(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,a=(o=>Aa(o)&&o)(n||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",oe(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",oe(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",oe(i)),o.classList.add("v-overlay-scroll-blocked")}),tt(()=>{r.forEach((o,l)=>{const u=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(o.style.getPropertyValue("--v-body-scroll-y"));o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-u,o.scrollTop=-c}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Um(e,t,n){let r=!1,i=-1,a=-1;function s(o){Bm(()=>{var c,f;const l=performance.now();(f=(c=e.updateLocation).value)==null||f.call(c,o),r=(performance.now()-l)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{Iu(e.targetEl.value??e.contentEl.value,o=>{r?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{s(o)})})):s(o)})})}),tt(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(i)})}function Iu(e,t){const n=[document,...Pr(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),tt(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const la=Symbol.for("vuetify:v-menu"),Hm=W({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Ym(e,t){const n={},r=i=>()=>{if(!Rt)return Promise.resolve(!0);const a=i==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(s=>{const o=parseInt(e[i]??0,10);n[i]=window.setTimeout(()=>{t==null||t(a),s(a)},o)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const zm=W({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Hm()},"VOverlay-activator");function qm(e,t){let{isActive:n,isTop:r}=t;const i=Vt("useActivator"),a=z();let s=!1,o=!1,l=!0;const u=w(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),c=w(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!u.value),{runOpenDelay:f,runCloseDelay:d}=Ym(e,S=>{S===(e.openOnHover&&s||u.value&&o)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==S&&(l=!0),n.value=S)}),m=z(),v={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(m.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var T;(T=S.sourceCapabilities)!=null&&T.firesTouchEvents||(s=!0,a.value=S.currentTarget||S.target,f())},onMouseleave:S=>{s=!1,d()},onFocus:S=>{qc(S.target,":focus-visible")!==!1&&(o=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,f())},onBlur:S=>{o=!1,S.stopPropagation(),d()}},p=w(()=>{const S={};return c.value&&(S.onClick=v.onClick),e.openOnHover&&(S.onMouseenter=v.onMouseenter,S.onMouseleave=v.onMouseleave),u.value&&(S.onFocus=v.onFocus,S.onBlur=v.onBlur),S}),y=w(()=>{const S={};if(e.openOnHover&&(S.onMouseenter=()=>{s=!0,f()},S.onMouseleave=()=>{s=!1,d()}),u.value&&(S.onFocusin=()=>{o=!0,f()},S.onFocusout=()=>{o=!1,d()}),e.closeOnContentClick){const T=Ae(la,null);S.onClick=()=>{n.value=!1,T==null||T.closeParents()}}return S}),g=w(()=>{const S={};return e.openOnHover&&(S.onMouseenter=()=>{l&&(s=!0,l=!1,f())},S.onMouseleave=()=>{s=!1,d()}),S});ie(r,S=>{S&&(e.openOnHover&&!s&&(!u.value||!o)||u.value&&!o&&(!e.openOnHover||!s))&&(n.value=!1)}),ie(n,S=>{S||setTimeout(()=>{m.value=void 0})},{flush:"post"});const _=z();Hr(()=>{_.value&&ct(()=>{a.value=ws(_.value)})});const E=z(),b=w(()=>e.target==="cursor"&&m.value?m.value:E.value?ws(E.value):bu(e.target,i)||a.value),I=w(()=>Array.isArray(b.value)?void 0:b.value);let C;return ie(()=>!!e.activator,S=>{S&&Rt?(C=al(),C.run(()=>{jm(e,i,{activatorEl:a,activatorEvents:p})})):C&&C.stop()},{flush:"post",immediate:!0}),tt(()=>{C==null||C.stop()}),{activatorEl:a,activatorRef:_,target:b,targetEl:I,targetRef:E,activatorEvents:p,contentEvents:y,scrimEvents:g}}function jm(e,t,n){let{activatorEl:r,activatorEvents:i}=n;ie(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=o(u);c&&s(c)}l&&ct(()=>a())},{immediate:!0}),ie(()=>e.activatorProps,()=>{a()}),tt(()=>{s()});function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&_d(l,De(i.value,u))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&yd(l,De(i.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=bu(l,t);return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,r.value}}function bu(e,t){var r,i;if(!e)return;let n;if(e==="parent"){let a=(i=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:i.parentNode;for(;a!=null&&a.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function Wm(){if(!Rt)return fe(!1);const{ssr:e}=sl();if(e){const t=fe(!1);return $t(()=>{t.value=!0}),t}else return fe(!0)}const Xm=W({eager:Boolean},"lazy");function Qm(e,t){const n=fe(!1),r=w(()=>n.value||e.eager||t.value);ie(t,()=>n.value=!0);function i(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:i}}function Qr(){const t=Vt("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const no=Symbol.for("vuetify:stack"),kn=Nt([]);function Km(e,t,n){const r=Vt("useStack"),i=!n,a=Ae(no,void 0),s=Nt({activeChildren:new Set});we(no,s);const o=fe(+t.value);kt(e,()=>{var f;const c=(f=kn.at(-1))==null?void 0:f[1];o.value=c?c+10:+t.value,i&&kn.push([r.uid,o.value]),a==null||a.activeChildren.add(r.uid),tt(()=>{if(i){const d=sn(kn).findIndex(m=>m[0]===r.uid);kn.splice(d,1)}a==null||a.activeChildren.delete(r.uid)})});const l=fe(!0);i&&Hr(()=>{var f;const c=((f=kn.at(-1))==null?void 0:f[0])===r.uid;setTimeout(()=>l.value=c)});const u=w(()=>!s.activeChildren.size);return{globalTop:Sa(l),localTop:u,stackStyles:w(()=>({zIndex:o.value}))}}function Zm(e){return{teleportTarget:w(()=>{const n=e.value;if(n===!0||!Rt)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let i=r.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",r.appendChild(i)),i})}}function Jm(){return!0}function Cu(e,t,n){if(!e||Ru(e,n)===!1)return!1;const r=El(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(t),!i.some(a=>a==null?void 0:a.contains(e.target))}function Ru(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Jm)(e)}function ep(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&Cu(e,t,n)&&setTimeout(()=>{Ru(e,n)&&r&&r(e)},0)}function ro(e,t){const n=El(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const tp={mounted(e,t){const n=i=>ep(i,e,t),r=i=>{e._clickOutside.lastMousedownWasOutside=Cu(i,e,t)};ro(e,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(ro(e,n=>{var a;if(!n||!((a=e._clickOutside)!=null&&a[t.instance.$.uid]))return;const{onClick:r,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function np(e){const{modelValue:t,color:n,...r}=e;return h(tn,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&h("div",De({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const Ka=W({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...zm(),...ve(),...On(),...Xm(),...Mm(),...Gm(),...dt(),...fl()},"VOverlay"),kr=ae()({name:"VOverlay",directives:{ClickOutside:tp},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ka()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:i}=t;const a=ut(e,"modelValue"),s=w({get:()=>a.value,set:X=>{X&&e.disabled||(a.value=X)}}),{teleportTarget:o}=Zm(w(()=>e.attach||e.contained)),{themeClasses:l}=gt(e),{rtlClasses:u,isRtl:c}=Ft(),{hasContent:f,onAfterLeave:d}=Qm(e,s),m=It(w(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:p,stackStyles:y}=Km(s,te(e,"zIndex"),e._disableGlobalStack),{activatorEl:g,activatorRef:_,target:E,targetEl:b,targetRef:I,activatorEvents:C,contentEvents:S,scrimEvents:T}=qm(e,{isActive:s,isTop:p}),{dimensionStyles:R}=Pn(e),N=Wm(),{scopeId:A}=Qr();ie(()=>e.disabled,X=>{X&&(s.value=!1)});const O=z(),x=z(),{contentStyles:P,updateLocation:F}=Lm(e,{isRtl:c,contentEl:x,target:E,isActive:s});Vm(e,{root:O,contentEl:x,targetEl:b,isActive:s,updateLocation:F});function D(X){i("click:outside",X),e.persistent?j():s.value=!1}function k(){return s.value&&v.value}Rt&&ie(s,X=>{X?window.addEventListener("keydown",M):window.removeEventListener("keydown",M)},{immediate:!0});function M(X){var se,re;X.key==="Escape"&&v.value&&(e.persistent?j():(s.value=!1,(se=x.value)!=null&&se.contains(document.activeElement)&&((re=g.value)==null||re.focus())))}const V=du();kt(()=>e.closeOnBack,()=>{Jv(V,X=>{v.value&&s.value?(X(!1),e.persistent?j():s.value=!1):X()})});const Y=z();ie(()=>s.value&&(e.absolute||e.contained)&&o.value==null,X=>{if(X){const se=Td(O.value);se&&se!==document.scrollingElement&&(Y.value=se.scrollTop)}});function j(){e.noClickAnimation||x.value&&Vn(x.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Fi})}return ue(()=>{var X;return h(Ne,null,[(X=n.activator)==null?void 0:X.call(n,{isActive:s.value,props:De({ref:_,targetRef:I},C.value,e.activatorProps)}),N.value&&f.value&&h(jc,{disabled:!o.value,to:o.value},{default:()=>[h("div",De({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":s.value,"v-overlay--contained":e.contained},l.value,u.value,e.class],style:[y.value,{top:oe(Y.value)},e.style],ref:O},A,r),[h(np,De({color:m,modelValue:s.value&&!!e.scrim},T.value),null),h(Ra,{appear:!0,persisted:!0,transition:e.transition,target:E.value,onAfterLeave:()=>{d(),i("afterLeave")}},{default:()=>{var se;return[nn(h("div",De({ref:x,class:["v-overlay__content",e.contentClass],style:[R.value,P.value]},S.value,e.contentProps),[(se=n.default)==null?void 0:se.call(n,{isActive:s})]),[[Ta,s.value],[ir("click-outside"),{handler:D,closeConditional:k,include:()=>[g.value]}]])]}})])]})])}),{activatorEl:g,target:E,animateClick:j,contentEl:x,globalTop:v,localTop:p,updateLocation:F}}}),Ci=Symbol("Forwarded refs");function Ri(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ou(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[Ci]=n,new Proxy(e,{get(i,a){if(Reflect.has(i,a))return Reflect.get(i,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const s of n)if(s.value&&Reflect.has(s.value,a)){const o=Reflect.get(s.value,a);return typeof o=="function"?o.bind(s.value):o}}},has(i,a){if(Reflect.has(i,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,a))return!0;return!1},set(i,a,s){if(Reflect.has(i,a))return Reflect.set(i,a,s);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,a))return Reflect.set(o.value,a,s);return!1},getOwnPropertyDescriptor(i,a){var o;const s=Reflect.getOwnPropertyDescriptor(i,a);if(s)return s;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=Ri(l.value,a)??("_"in l.value?Ri((o=l.value._)==null?void 0:o.setupState,a):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Ci];if(!u)continue;const c=u.slice();for(;c.length;){const f=c.shift(),d=Ri(f.value,a);if(d)return d;const m=f.value&&f.value[Ci];m&&c.push(...m)}}}}})}const rp=W({id:String,...il(Ka({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:iu}}),["absolute"])},"VMenu"),ip=ae()({name:"VMenu",props:rp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ut(e,"modelValue"),{scopeId:i}=Qr(),a=nr(),s=w(()=>e.id||`v-menu-${a}`),o=z(),l=Ae(la,null),u=fe(0);we(la,{register(){++u.value},unregister(){--u.value},closeParents(){setTimeout(()=>{u.value||(r.value=!1,l==null||l.closeParents())},40)}});async function c(p){var _,E,b;const y=p.relatedTarget,g=p.target;await ct(),r.value&&y!==g&&((_=o.value)!=null&&_.contentEl)&&((E=o.value)!=null&&E.globalTop)&&![document,o.value.contentEl].includes(g)&&!o.value.contentEl.contains(g)&&((b=Gi(o.value.contentEl)[0])==null||b.focus())}ie(r,p=>{p?(l==null||l.register(),document.addEventListener("focusin",c,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",c))});function f(){l==null||l.closeParents()}function d(p){var y,g,_;e.disabled||p.key==="Tab"&&(Wc(Gi((y=o.value)==null?void 0:y.contentEl,!1),p.shiftKey?"prev":"next",b=>b.tabIndex>=0)||(r.value=!1,(_=(g=o.value)==null?void 0:g.activatorEl)==null||_.focus()))}function m(p){var g;if(e.disabled)return;const y=(g=o.value)==null?void 0:g.contentEl;y&&r.value?p.key==="ArrowDown"?(p.preventDefault(),Bi(y,"next")):p.key==="ArrowUp"&&(p.preventDefault(),Bi(y,"prev")):["ArrowDown","ArrowUp"].includes(p.key)&&(r.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>m(p))))}const v=w(()=>De({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":s.value,onKeydown:m},e.activatorProps));return ue(()=>{const p=kr.filterProps(e);return h(kr,De({ref:o,class:["v-menu",e.class],style:e.style},p,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,absolute:!0,activatorProps:v.value,"onClick:outside":f,onKeydown:d},i),{activator:n.activator,default:function(){for(var y=arguments.length,g=new Array(y),_=0;_<y;_++)g[_]=arguments[_];return h(lt,{root:"VMenu"},{default:()=>{var E;return[(E=n.default)==null?void 0:E.call(n,...g)]}})}})}),Ou({id:s,openChildren:u},o)}}),ap=Z({__name:"MediaContextMenu",props:{media:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t;function i(){n.media.remove(),n.media.user.save()}function a(){r("update:modelValue",!1)}return(s,o)=>{const l=Dm,u=Pm,c=Om,f=Rm,d=Cm,m=bm,v=Im,p=Tm,y=pm,g=mm;return B(),U(ip,{"content-class":"ig-media__context-menu",transition:"slide-y-transition",attach:"","close-on-content-click":!1},{default:$(()=>[h(qn,{density:"compact",class:"ma-3 py-2"},{default:$(()=>[["video","iframe"].includes(s.media.type)&&!s.media.isReel?(B(),U(u,{key:0,title:"Reel"},{default:$(()=>[["video","iframe"].includes(s.media.type)&&!s.media.isReel?(B(),U(l,{key:0,media:s.media,onClose:a},null,8,["media"])):ee("",!0)]),_:1})):ee("",!0),["album"].includes(s.media.type)?(B(),U(u,{key:1,title:"Album"},{default:$(()=>[h(c,{media:s.media,onClose:a},null,8,["media"]),s.media.data.list.length>1?(B(),U(f,{key:0,media:s.media,onClose:a},null,8,["media"])):ee("",!0)]),_:1})):ee("",!0),["video","iframe"].includes(s.media.type)?(B(),U(u,{key:2,title:"Cover"},{default:$(()=>[s.media.data.cover?ee("",!0):(B(),U(d,{key:0,media:s.media,onClose:a},null,8,["media"])),s.media.data.cover?(B(),U(m,{key:1,media:s.media,onClose:a},null,8,["media"])):ee("",!0),s.media.data.cover?(B(),U(v,{key:2,media:s.media,onClose:a},null,8,["media"])):ee("",!0)]),_:1})):ee("",!0),["image","video"].includes(s.media.type)?(B(),U(u,{key:3,title:"Media"},{default:$(()=>[h(p,{media:s.media,onClose:a},null,8,["media"]),s.media.isReel?ee("",!0):(B(),U(y,{key:0,media:s.media,onClose:a},null,8,["media"])),s.media.type==="image"?(B(),U(g,{key:1,media:s.media,onClose:a},null,8,["media"])):ee("",!0)]),_:1})):ee("",!0),h(Pa,{class:"my-2"}),h(Re,{onClick:o[0]||(o[0]=_=>i()),class:"text-red"},{default:$(()=>[h(nt,null,{default:$(()=>[me("Remove")]),_:1})]),_:1})]),_:1})]),_:1})}}}),sp={class:"ig-media__icon"},op=Z({__name:"MediaContainer",props:{media:{},type:{},contextMenu:{type:Boolean}},setup(e){const t=z(!1);function n(r){r.preventDefault(),t.value=!t.value}return(r,i)=>{const a=ap;return B(),le("div",{class:Rn(["ig-media",`ig-media--${r.type}`]),onContextmenu:n},[(B(),U(rn,null,{default:$(()=>[ba(r.$slots,"default",{},void 0,!0)]),_:3})),ne("div",sp,[r.type==="album"?(B(),U(Ue,{key:0},{default:$(()=>[me("mdi-folder-multiple-image")]),_:1})):ee("",!0),r.type==="video"?(B(),U(Ue,{key:1},{default:$(()=>[me("mdi-play")]),_:1})):ee("",!0)]),r.contextMenu?(B(),U(a,{key:0,modelValue:J(t),"onUpdate:modelValue":i[0]||(i[0]=s=>Tn(t)?t.value=s:null),media:r.media},null,8,["modelValue","media"])):ee("",!0)],34)}}}),Kr=Ee(op,[["__scopeId","data-v-41c95045"]]),Za=Z({__name:"MediaImage",props:{media:{}},async setup(e){let t,n;const r=e,i=([t,n]=ol(()=>ll(r.media)),t=await t,n(),t);return(a,s)=>{const o=Kr;return B(),U(o,{type:"image",media:a.media},{default:$(()=>[h(vl,{cover:"",height:"100%",src:J(i)},null,8,["src"])]),_:1},8,["media"])}}}),lp=["src"],up=Z({__name:"MediaIframe",props:{media:{},reel:{type:Boolean}},setup(e){const n=z(typeof e.media.data.cover!="object");return(r,i)=>{const a=Za,s=Kr;return B(),U(s,{type:J(n)?"iframe":"video",media:r.media,class:Rn({"ig-media--reel":r.reel})},{default:$(()=>[J(n)?(B(),le("iframe",{key:1,src:r.media.data.href},null,8,lp)):(B(),U(a,{key:0,media:r.media.data.cover,onClick:i[0]||(i[0]=o=>n.value=!0)},null,8,["media"]))]),_:1},8,["type","media","class"])}}}),wu=Ee(up,[["__scopeId","data-v-a94fc81b"]]),Ja=Symbol.for("vuetify:v-slider");function cp(e,t,n){const r=n==="vertical",i=t.getBoundingClientRect(),a="touches"in e?e.touches[0]:e;return r?a.clientY-(i.top+i.height/2):a.clientX-(i.left+i.width/2)}function dp(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const fp=W({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Ot(),...Ut({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),vp=e=>{const t=w(()=>parseFloat(e.min)),n=w(()=>parseFloat(e.max)),r=w(()=>+e.step>0?parseFloat(e.step):0),i=w(()=>Math.max(Ps(r.value),Ps(t.value)));function a(s){if(s=parseFloat(s),r.value<=0)return s;const o=Or(s,t.value,n.value),l=t.value%r.value,u=Math.round((o-l)/r.value)*r.value+l;return parseFloat(Math.min(u,n.value).toFixed(i.value))}return{min:t,max:n,step:r,decimals:i,roundValue:a}},mp=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:i,onSliderEnd:a,getActiveThumb:s}=e;const{isRtl:o}=Ft(),l=te(t,"reverse"),u=w(()=>t.direction==="vertical"),c=w(()=>u.value!==l.value),{min:f,max:d,step:m,decimals:v,roundValue:p}=n,y=w(()=>parseInt(t.thumbSize,10)),g=w(()=>parseInt(t.tickSize,10)),_=w(()=>parseInt(t.trackSize,10)),E=w(()=>(d.value-f.value)/m.value),b=te(t,"disabled"),I=w(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),C=w(()=>t.error||t.disabled?void 0:t.trackColor??t.color),S=w(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),T=fe(!1),R=fe(0),N=z(),A=z();function O(G){var de;const K=t.direction==="vertical",H=K?"top":"left",ce=K?"height":"width",pe=K?"clientY":"clientX",{[H]:Xe,[ce]:ht}=(de=N.value)==null?void 0:de.$el.getBoundingClientRect(),vn=dp(G,pe);let q=Math.min(Math.max((vn-Xe-R.value)/ht,0),1)||0;return(K?c.value:c.value!==o.value)&&(q=1-q),p(f.value+q*(d.value-f.value))}const x=G=>{a({value:O(G)}),T.value=!1,R.value=0},P=G=>{A.value=s(G),A.value&&(A.value.focus(),T.value=!0,A.value.contains(G.target)?R.value=cp(G,A.value,t.direction):(R.value=0,i({value:O(G)})),r({value:O(G)}))},F={passive:!0,capture:!0};function D(G){i({value:O(G)})}function k(G){G.stopPropagation(),G.preventDefault(),x(G),window.removeEventListener("mousemove",D,F),window.removeEventListener("mouseup",k)}function M(G){var K;x(G),window.removeEventListener("touchmove",D,F),(K=G.target)==null||K.removeEventListener("touchend",M)}function V(G){var K;P(G),window.addEventListener("touchmove",D,F),(K=G.target)==null||K.addEventListener("touchend",M,{passive:!1})}function Y(G){G.preventDefault(),P(G),window.addEventListener("mousemove",D,F),window.addEventListener("mouseup",k,{passive:!1})}const j=G=>{const K=(G-f.value)/(d.value-f.value)*100;return Or(isNaN(K)?0:K,0,100)},X=te(t,"showTicks"),se=w(()=>X.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(G=>({value:G,position:j(G),label:G.toString()})):Object.keys(t.ticks).map(G=>({value:parseFloat(G),position:j(parseFloat(G)),label:t.ticks[G]})):E.value!==1/0?Xc(E.value+1).map(G=>{const K=f.value+G*m.value;return{value:K,position:j(K)}}):[]:[]),re=w(()=>se.value.some(G=>{let{label:K}=G;return!!K})),Me={activeThumbRef:A,color:te(t,"color"),decimals:v,disabled:b,direction:te(t,"direction"),elevation:te(t,"elevation"),hasLabels:re,isReversed:l,indexFromEnd:c,min:f,max:d,mousePressed:T,numTicks:E,onSliderMousedown:Y,onSliderTouchstart:V,parsedTicks:se,parseMouseMove:O,position:j,readonly:te(t,"readonly"),rounded:te(t,"rounded"),roundValue:p,showTicks:X,startOffset:R,step:m,thumbSize:y,thumbColor:I,thumbLabel:te(t,"thumbLabel"),ticks:te(t,"ticks"),tickSize:g,trackColor:C,trackContainerRef:N,trackFillColor:S,trackSize:_,vertical:u};return we(Ja,Me),Me},pp=W({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...ve()},"VSliderThumb"),gp=ae()({name:"VSliderThumb",directives:{Ripple:Wr},props:pp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const i=Ae(Ja),{isRtl:a,rtlClasses:s}=Ft();if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:u,thumbSize:c,thumbLabel:f,direction:d,isReversed:m,vertical:v,readonly:p,elevation:y,mousePressed:g,decimals:_,indexFromEnd:E}=i,{textColorClasses:b,textColorStyles:I}=In(o),{pageup:C,pagedown:S,end:T,home:R,left:N,right:A,down:O,up:x}=Qc,P=[C,S,T,R,N,A,O,x],F=w(()=>l.value?[1,2,3]:[1,5,10]);function D(M,V){if(!P.includes(M.key))return;M.preventDefault();const Y=l.value||.1,j=(e.max-e.min)/Y;if([N,A,O,x].includes(M.key)){const se=(v.value?[a.value?N:A,m.value?O:x]:E.value!==a.value?[N,x]:[A,x]).includes(M.key)?1:-1,re=M.shiftKey?2:M.ctrlKey?1:0;V=V+se*Y*F.value[re]}else if(M.key===R)V=e.min;else if(M.key===T)V=e.max;else{const X=M.key===S?1:-1;V=V-X*Y*(j>100?j/10:10)}return Math.max(e.min,Math.min(e.max,V))}function k(M){const V=D(M,e.modelValue);V!=null&&r("update:modelValue",V)}return ue(()=>{const M=oe(E.value?100-e.position:e.position,"%"),{elevationClasses:V}=Ht(w(()=>u.value?void 0:y.value));return h("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&g.value},e.class,s.value],style:[{"--v-slider-thumb-position":M,"--v-slider-thumb-size":oe(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!p.value,"aria-orientation":d.value,onKeydown:p.value?void 0:k},[h("div",{class:["v-slider-thumb__surface",b.value,V.value],style:{...I.value}},null),nn(h("div",{class:["v-slider-thumb__ripple",b.value],style:I.value},null),[[ir("ripple"),e.ripple,null,{circle:!0,center:!0}]]),h(Bv,{origin:"bottom center"},{default:()=>{var Y;return[nn(h("div",{class:"v-slider-thumb__label-container"},[h("div",{class:["v-slider-thumb__label"]},[h("div",null,[((Y=n["thumb-label"])==null?void 0:Y.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?_.value:1)])])]),[[Ta,f.value&&e.focused||f.value==="always"]])]}})])}),{}}}),hp=W({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ve()},"VSliderTrack"),_p=ae()({name:"VSliderTrack",props:hp(),emits:{},setup(e,t){let{slots:n}=t;const r=Ae(Ja);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,parsedTicks:a,rounded:s,showTicks:o,tickSize:l,trackColor:u,trackFillColor:c,trackSize:f,vertical:d,min:m,max:v,indexFromEnd:p}=r,{roundedClasses:y}=wt(s),{backgroundColorClasses:g,backgroundColorStyles:_}=It(c),{backgroundColorClasses:E,backgroundColorStyles:b}=It(u),I=w(()=>`inset-${d.value?"block":"inline"}-${p.value?"end":"start"}`),C=w(()=>d.value?"height":"width"),S=w(()=>({[I.value]:"0%",[C.value]:"100%"})),T=w(()=>e.stop-e.start),R=w(()=>({[I.value]:oe(e.start,"%"),[C.value]:oe(T.value,"%")})),N=w(()=>o.value?(d.value?a.value.slice().reverse():a.value).map((O,x)=>{var F;const P=O.value!==m.value&&O.value!==v.value?oe(O.position,"%"):void 0;return h("div",{key:O.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":O.position>=e.start&&O.position<=e.stop,"v-slider-track__tick--first":O.value===m.value,"v-slider-track__tick--last":O.value===v.value}],style:{[I.value]:P}},[(O.label||n["tick-label"])&&h("div",{class:"v-slider-track__tick-label"},[((F=n["tick-label"])==null?void 0:F.call(n,{tick:O,index:x}))??O.label])])}):[]);return ue(()=>h("div",{class:["v-slider-track",y.value,e.class],style:[{"--v-slider-track-size":oe(f.value),"--v-slider-tick-size":oe(l.value)},e.style]},[h("div",{class:["v-slider-track__background",E.value,{"v-slider-track__background--opacity":!!i.value||!c.value}],style:{...S.value,...b.value}},null),h("div",{class:["v-slider-track__fill",g.value],style:{...R.value,..._.value}},null),o.value&&h("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[N.value])])),{}}});function yp(e){const{t}=Kc();function n(r){let{name:i}=r;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],s=e[`onClick:${i}`],o=s&&a?t(`$vuetify.input.${a}`,e.label??""):void 0;return h(Ue,{icon:e[`${i}Icon`],"aria-label":o,onClick:s},null)}return{InputIcon:n}}const Ep=W({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ve(),...fl({transition:{component:Gv,leaveAbsolute:!0,group:!0}})},"VMessages"),Sp=ae()({name:"VMessages",props:Ep(),setup(e,t){let{slots:n}=t;const r=w(()=>Fn(e.messages)),{textColorClasses:i,textColorStyles:a}=In(w(()=>e.color));return ue(()=>h(Ra,{transition:e.transition,tag:"div",class:["v-messages",i.value,e.class],style:[a.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((s,o)=>h("div",{class:"v-messages__message",key:`${o}-${r.value}`},[n.message?n.message({message:s}):s]))]})),{}}}),Pu=W({focused:Boolean,"onUpdate:focused":Wn()},"focus");function Tp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rr();const n=ut(e,"focused"),r=w(()=>({[`${t}--focused`]:n.value}));function i(){n.value=!0}function a(){n.value=!1}return{focusClasses:r,isFocused:n,focus:i,blur:a}}const Ip=Symbol.for("vuetify:form");function bp(){return Ae(Ip,null)}const Cp=W({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Pu()},"validation");function Rp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nr();const r=ut(e,"modelValue"),i=w(()=>e.validationValue===void 0?r.value:e.validationValue),a=bp(),s=z([]),o=fe(!0),l=w(()=>!!(Fn(r.value===""?null:r.value).length||Fn(i.value===""?null:i.value).length)),u=w(()=>!!(e.disabled??(a==null?void 0:a.isDisabled.value))),c=w(()=>!!(e.readonly??(a==null?void 0:a.isReadonly.value))),f=w(()=>{var b;return(b=e.errorMessages)!=null&&b.length?Fn(e.errorMessages).concat(s.value).slice(0,Math.max(0,+e.maxErrors)):s.value}),d=w(()=>{let b=(e.validateOn??(a==null?void 0:a.validateOn.value))||"input";b==="lazy"&&(b="input lazy");const I=new Set((b==null?void 0:b.split(" "))??[]);return{blur:I.has("blur")||I.has("input"),input:I.has("input"),submit:I.has("submit"),lazy:I.has("lazy")}}),m=w(()=>{var b;return e.error||(b=e.errorMessages)!=null&&b.length?!1:e.rules.length?o.value?s.value.length||d.value.lazy?null:!0:!s.value.length:!0}),v=fe(!1),p=w(()=>({[`${t}--error`]:m.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),y=w(()=>e.name??J(n));ul(()=>{a==null||a.register({id:y.value,validate:E,reset:g,resetValidation:_})}),Gt(()=>{a==null||a.unregister(y.value)}),$t(async()=>{d.value.lazy||await E(!0),a==null||a.update(y.value,m.value,f.value)}),kt(()=>d.value.input,()=>{ie(i,()=>{if(i.value!=null)E();else if(e.focused){const b=ie(()=>e.focused,I=>{I||E(),b()})}})}),kt(()=>d.value.blur,()=>{ie(()=>e.focused,b=>{b||E()})}),ie(m,()=>{a==null||a.update(y.value,m.value,f.value)});function g(){r.value=null,ct(_)}function _(){o.value=!0,d.value.lazy?s.value=[]:E(!0)}async function E(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const I=[];v.value=!0;for(const C of e.rules){if(I.length>=+(e.maxErrors??1))break;const T=await(typeof C=="function"?C:()=>C)(i.value);if(T!==!0){if(T!==!1&&typeof T!="string"){console.warn(`${T} is not a valid value. Rule functions must return boolean true or a string.`);continue}I.push(T||"")}}return s.value=I,v.value=!1,o.value=b,s.value}return{errorMessages:f,isDirty:l,isDisabled:u,isReadonly:c,isPristine:o,isValid:m,isValidating:v,reset:g,resetValidation:_,validate:E,validationClasses:p}}const Du=W({id:String,appendIcon:Fe,centerAffix:{type:Boolean,default:!0},prependIcon:Fe,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Wn(),"onClick:append":Wn(),...ve(),...on(),...Cp()},"VInput"),io=ae()({name:"VInput",props:{...Du()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const{densityClasses:a}=wn(e),{rtlClasses:s}=Ft(),{InputIcon:o}=yp(e),l=nr(),u=w(()=>e.id||`input-${l}`),c=w(()=>`${u.value}-messages`),{errorMessages:f,isDirty:d,isDisabled:m,isReadonly:v,isPristine:p,isValid:y,isValidating:g,reset:_,resetValidation:E,validate:b,validationClasses:I}=Rp(e,"v-input",u),C=w(()=>({id:u,messagesId:c,isDirty:d,isDisabled:m,isReadonly:v,isPristine:p,isValid:y,isValidating:g,reset:_,resetValidation:E,validate:b})),S=w(()=>{var T;return(T=e.errorMessages)!=null&&T.length||!p.value&&f.value.length?f.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return ue(()=>{var O,x,P,F;const T=!!(r.prepend||e.prependIcon),R=!!(r.append||e.appendIcon),N=S.value.length>0,A=!e.hideDetails||e.hideDetails==="auto"&&(N||!!r.details);return h("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,s.value,I.value,e.class],style:e.style},[T&&h("div",{key:"prepend",class:"v-input__prepend"},[(O=r.prepend)==null?void 0:O.call(r,C.value),e.prependIcon&&h(o,{key:"prepend-icon",name:"prepend"},null)]),r.default&&h("div",{class:"v-input__control"},[(x=r.default)==null?void 0:x.call(r,C.value)]),R&&h("div",{key:"append",class:"v-input__append"},[e.appendIcon&&h(o,{key:"append-icon",name:"append"},null),(P=r.append)==null?void 0:P.call(r,C.value)]),A&&h("div",{class:"v-input__details"},[h(Sp,{id:c.value,active:N,messages:S.value},{message:r.message}),(F=r.details)==null?void 0:F.call(r,C.value)])])}),{reset:_,resetValidation:E,validate:b,isValid:y,errorMessages:f}}}),Op=W({text:String,clickable:Boolean,...ve(),...dt()},"VLabel"),wp=ae()({name:"VLabel",props:Op(),setup(e,t){let{slots:n}=t;return ue(()=>{var r;return h("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),Pp=W({...Pu(),...fp(),...Du(),modelValue:{type:[Number,String],default:0}},"VSlider"),Dp=ae()({name:"VSlider",props:Pp(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const i=z(),{rtlClasses:a}=Ft(),s=vp(e),o=ut(e,"modelValue",void 0,C=>s.roundValue(C??s.min.value)),{min:l,max:u,mousePressed:c,roundValue:f,onSliderMousedown:d,onSliderTouchstart:m,trackContainerRef:v,position:p,hasLabels:y,readonly:g}=mp({props:e,steps:s,onSliderStart:()=>{r("start",o.value)},onSliderEnd:C=>{let{value:S}=C;const T=f(S);o.value=T,r("end",T)},onSliderMove:C=>{let{value:S}=C;return o.value=f(S)},getActiveThumb:()=>{var C;return(C=i.value)==null?void 0:C.$el}}),{isFocused:_,focus:E,blur:b}=Tp(e),I=w(()=>p(o.value));return ue(()=>{const C=io.filterProps(e),S=!!(e.label||n.label||n.prepend);return h(io,De({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||y.value,"v-slider--focused":_.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style},C,{focused:_.value}),{...n,prepend:S?T=>{var R,N;return h(Ne,null,[((R=n.label)==null?void 0:R.call(n,T))??(e.label?h(wp,{id:T.id.value,class:"v-slider__label",text:e.label},null):void 0),(N=n.prepend)==null?void 0:N.call(n,T)])}:void 0,default:T=>{let{id:R,messagesId:N}=T;return h("div",{class:"v-slider__container",onMousedown:g.value?void 0:d,onTouchstartPassive:g.value?void 0:m},[h("input",{id:R.value,name:e.name||R.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:o.value},null),h(_p,{ref:v,start:0,stop:I.value},{"tick-label":n["tick-label"]}),h(gp,{ref:i,"aria-describedby":N.value,focused:_.value,min:l.value,max:u.value,modelValue:o.value,"onUpdate:modelValue":A=>o.value=A,position:I.value,elevation:e.elevation,onFocus:E,onBlur:b,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Ap=Z({__name:"MediaVideoCoverSelector",props:{media:{},maxLength:{}},emits:["updateCoverTime"],setup(e,{emit:t}){const n=t,r=e,i=z(typeof r.media.data.coverTime=="number"?r.media.data.coverTime:0);function a(){n("updateCoverTime",i.value)}return(s,o)=>r.maxLength>0?(B(),U(Dp,{key:0,modelValue:J(i),"onUpdate:modelValue":o[0]||(o[0]=l=>Tn(i)?i.value=l:null),color:"white",max:s.maxLength,class:"ig-media--video-slider",onEnd:a,"thumb-label":"always"},null,8,["modelValue","max"])):ee("",!0)}}),Mp=Ee(Ap,[["__scopeId","data-v-eb646cca"]]),Lp=["src","autoplay"],xp=Z({__name:"MediaVideo",props:{media:{},coverSelector:{type:Boolean},playable:{type:Boolean},reel:{type:Boolean}},async setup(e){let t,n;const r=e,i=z(!1),a=([t,n]=ol(()=>ll(r.media)),t=await t,n(),t),s=z(null),o=z(0);function l(u){s.value&&(s.value.currentTime=u,r.media.setCoverTime(u),r.media.save())}return $t(()=>{s.value&&s.value.addEventListener("loadedmetadata",()=>{!s.value||typeof r.media.data.cover=="object"||r.media.data.cover||(s.value.currentTime=r.media.data.coverTime,o.value=s.value.duration)},!1)}),ie(()=>i.value,u=>{if(!s.value||!r.playable)return!1;u?s.value.play():s.value.pause()}),(u,c)=>{const f=Mp,d=Za,m=Kr;return B(),U(m,{type:"video",media:u.media,class:Rn({"ig-media--reel":u.reel})},{default:$(()=>[!u.media.data.cover||u.media.data.coverTime?(B(),le(Ne,{key:0},[ne("video",{ref_key:"videoRef",ref:s,src:J(a),autoplay:J(i),onClick:c[0]||(c[0]=v=>i.value=!J(i))},null,8,Lp),u.coverSelector?(B(),U(f,{key:0,media:u.media,"max-length":J(o),onUpdateCoverTime:l},null,8,["media","max-length"])):ee("",!0)],64)):typeof u.media.data.cover=="object"?(B(),U(d,{key:1,media:u.media.data.cover,onClick:c[1]||(c[1]=v=>i.value=!0)},null,8,["media"])):ee("",!0)]),_:1},8,["media","class"])}}}),Au=Ee(xp,[["__scopeId","data-v-23ec7962"]]),kp=Z({__name:"MediaReel",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const r=Au,i=wu;return B(),le(Ne,null,[(B(),U(rn,null,{default:$(()=>[t.media.type==="video"?(B(),U(r,{key:0,media:t.media,"context-menu":t.contextMenu,"cover-selector":"",reel:""},null,8,["media","context-menu"])):ee("",!0)]),_:1})),t.media.type==="iframe"?(B(),U(i,{key:0,media:t.media,reel:""},null,8,["media"])):ee("",!0)],64)}}});/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const xe={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},ao={itemsToShow:{default:xe.itemsToShow,type:Number},itemsToScroll:{default:xe.itemsToScroll,type:Number},wrapAround:{default:xe.wrapAround,type:Boolean},throttle:{default:xe.throttle,type:Number},snapAlign:{default:xe.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:xe.transition,type:Number},breakpoints:{default:xe.breakpoints,type:Object},autoplay:{default:xe.autoplay,type:Number},pauseAutoplayOnHover:{default:xe.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:xe.mouseDrag,type:Boolean},touchDrag:{default:xe.touchDrag,type:Boolean},dir:{default:xe.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:xe.i18n,type:Object},settings:{default(){return{}},type:Object}};function Np({config:e,slidesCount:t}){const{snapAlign:n,wrapAround:r,itemsToShow:i=1}=e;if(r)return Math.max(t-1,0);let a;switch(n){case"start":a=t-i;break;case"end":a=t-1;break;case"center":case"center-odd":a=t-Math.ceil((i-.5)/2);break;case"center-even":a=t-Math.ceil(i/2);break;default:a=0;break}return Math.max(a,0)}function Bp({config:e,slidesCount:t}){const{wrapAround:n,snapAlign:r,itemsToShow:i=1}=e;let a=0;if(n||i>t)return a;switch(r){case"start":a=0;break;case"end":a=i-1;break;case"center":case"center-odd":a=Math.floor((i-1)/2);break;case"center-even":a=Math.floor((i-2)/2);break;default:a=0;break}return a}function ua({val:e,max:t,min:n}){return t<n?e:Math.min(Math.max(e,n),t)}function Gp({config:e,currentSlide:t,slidesCount:n}){const{snapAlign:r,wrapAround:i,itemsToShow:a=1}=e;let s=t;switch(r){case"center":case"center-odd":s-=(a-1)/2;break;case"center-even":s-=(a-2)/2;break;case"end":s-=a-1;break}return i?s:ua({val:s,max:n-a,min:0})}function Mu(e){return e?e.reduce((t,n)=>{var r;return n.type===Ne?[...t,...Mu(n.children)]:((r=n.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...t,n]:t},[]):[]}function ca({val:e,max:t,min:n=0}){return e>t?ca({val:e-(t+1),max:t,min:n}):e<n?ca({val:e+(t+1),max:t,min:n}):e}function Vp(e,t){let n;return t?function(...r){const i=this;n||(e.apply(i,r),n=!0,setTimeout(()=>n=!1,t))}:e}function $p(e,t){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{e(...r),n=null},t)}}function Fp(e="",t={}){return Object.entries(t).reduce((n,[r,i])=>n.replace(`{${r}}`,String(i)),e)}var Up=Z({name:"ARIA",setup(){const e=Ae("config",Nt(Object.assign({},xe))),t=Ae("currentSlide",z(0)),n=Ae("slidesCount",z(0));return()=>je("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Fp(e.i18n.itemXofY,{currentSlide:t.value+1,slidesCount:n.value}))}}),Hp=Z({name:"Carousel",props:ao,setup(e,{slots:t,emit:n,expose:r}){var i;const a=z(null),s=z([]),o=z(0),l=z(0),u=Nt(Object.assign({},xe));let c=Object.assign({},xe),f;const d=z((i=e.modelValue)!==null&&i!==void 0?i:0),m=z(0),v=z(0),p=z(0),y=z(0);let g,_;we("config",u),we("slidesCount",l),we("currentSlide",d),we("maxSlide",p),we("minSlide",y),we("slideWidth",o);function E(){f=Object.assign({},e.breakpoints),c=Object.assign(Object.assign(Object.assign({},c),e),{i18n:Object.assign(Object.assign({},c.i18n),e.i18n),breakpoints:void 0}),I(c)}function b(){if(!f||!Object.keys(f).length)return;const q=Object.keys(f).map(he=>Number(he)).sort((he,rt)=>+rt-+he);let de=Object.assign({},c);q.some(he=>{const rt=window.matchMedia(`(min-width: ${he}px)`).matches;return rt&&(de=Object.assign(Object.assign({},de),f[he])),rt}),I(de)}function I(q){Object.entries(q).forEach(([de,he])=>u[de]=he)}const C=$p(()=>{b(),S()},16);function S(){if(!a.value)return;const q=a.value.getBoundingClientRect();o.value=q.width/u.itemsToShow}function T(){l.value<=0||(v.value=Math.ceil((l.value-1)/2),p.value=Np({config:u,slidesCount:l.value}),y.value=Bp({config:u,slidesCount:l.value}),u.wrapAround||(d.value=ua({val:d.value,max:p.value,min:y.value})))}$t(()=>{ct(()=>S()),setTimeout(()=>S(),1e3),b(),Y(),window.addEventListener("resize",C,{passive:!0}),n("init")}),Zc(()=>{_&&clearTimeout(_),g&&clearInterval(g),window.removeEventListener("resize",C,{passive:!0})});let R=!1;const N={x:0,y:0},A={x:0,y:0},O=Nt({x:0,y:0}),x=z(!1),P=z(!1),F=()=>{x.value=!0},D=()=>{x.value=!1};function k(q){["INPUT","TEXTAREA","SELECT"].includes(q.target.tagName)||(R=q.type==="touchstart",R||q.preventDefault(),!(!R&&q.button!==0||X.value)&&(N.x=R?q.touches[0].clientX:q.clientX,N.y=R?q.touches[0].clientY:q.clientY,document.addEventListener(R?"touchmove":"mousemove",M,!0),document.addEventListener(R?"touchend":"mouseup",V,!0)))}const M=Vp(q=>{P.value=!0,A.x=R?q.touches[0].clientX:q.clientX,A.y=R?q.touches[0].clientY:q.clientY;const de=A.x-N.x,he=A.y-N.y;O.y=he,O.x=de},u.throttle);function V(){const q=u.dir==="rtl"?-1:1,de=Math.sign(O.x)*.4,he=Math.round(O.x/o.value+de)*q;if(he&&!R){const rt=Se=>{Se.stopPropagation(),window.removeEventListener("click",rt,!0)};window.addEventListener("click",rt,!0)}se(d.value-he),O.x=0,O.y=0,P.value=!1,document.removeEventListener(R?"touchmove":"mousemove",M,!0),document.removeEventListener(R?"touchend":"mouseup",V,!0)}function Y(){!u.autoplay||u.autoplay<=0||(g=setInterval(()=>{u.pauseAutoplayOnHover&&x.value||re()},u.autoplay))}function j(){g&&(clearInterval(g),g=null),Y()}const X=z(!1);function se(q){const de=u.wrapAround?q:ua({val:q,max:p.value,min:y.value});d.value===de||X.value||(n("slide-start",{slidingToIndex:q,currentSlideIndex:d.value,prevSlideIndex:m.value,slidesCount:l.value}),X.value=!0,m.value=d.value,d.value=de,_=setTimeout(()=>{if(u.wrapAround){const he=ca({val:de,max:p.value,min:0});he!==d.value&&(d.value=he,n("loop",{currentSlideIndex:d.value,slidingToIndex:q}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:m.value,slidesCount:l.value}),X.value=!1,j()},u.transition))}function re(){se(d.value+u.itemsToScroll)}function Me(){se(d.value-u.itemsToScroll)}const G={slideTo:se,next:re,prev:Me};we("nav",G),we("isSliding",X);const K=w(()=>Gp({config:u,currentSlide:d.value,slidesCount:l.value}));we("slidesToScroll",K);const H=w(()=>{const q=u.dir==="rtl"?-1:1,de=K.value*o.value*q;return{transform:`translateX(${O.x-de}px)`,transition:`${X.value?u.transition:0}ms`,margin:u.wrapAround?`0 -${l.value*o.value}px`:"",width:"100%"}});function ce(){E(),b(),T(),S(),j()}Object.keys(ao).forEach(q=>{["modelValue"].includes(q)||ie(()=>e[q],ce)}),ie(()=>e.modelValue,q=>{q!==d.value&&se(Number(q))}),ie(l,T),n("before-init"),E();const pe={config:u,slidesCount:l,slideWidth:o,next:re,prev:Me,slideTo:se,currentSlide:d,maxSlide:p,minSlide:y,middleSlide:v};r({updateBreakpointsConfigs:b,updateSlidesData:T,updateSlideWidth:S,initDefaultConfigs:E,restartCarousel:ce,slideTo:se,next:re,prev:Me,nav:G,data:pe});const Xe=t.default||t.slides,ht=t.addons,vn=Nt(pe);return()=>{const q=Mu(Xe==null?void 0:Xe(vn)),de=(ht==null?void 0:ht(vn))||[];q.forEach((Pt,Dt)=>Pt.props.index=Dt);let he=q;if(u.wrapAround){const Pt=q.map((Yt,zt)=>Ds(Yt,{index:-q.length+zt,isClone:!0,key:`clone-before-${zt}`})),Dt=q.map((Yt,zt)=>Ds(Yt,{index:q.length+zt,isClone:!0,key:`clone-after-${zt}`}));he=[...Pt,...q,...Dt]}s.value=q,l.value=Math.max(q.length,1);const rt=je("ol",{class:"carousel__track",style:H.value,onMousedownCapture:u.mouseDrag?k:null,onTouchstartPassiveCapture:u.touchDrag?k:null},he),Se=je("div",{class:"carousel__viewport"},rt);return je("section",{ref:a,class:{carousel:!0,"is-sliding":X.value,"is-dragging":P.value,"is-hover":x.value,"carousel--rtl":u.dir==="rtl"},dir:u.dir,"aria-label":u.i18n.ariaGallery,tabindex:"0",onMouseenter:F,onMouseleave:D},[Se,de,je(Up)])}}}),so;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(so||(so={}));var Yp=Z({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=Ae("config",Nt(Object.assign({},xe))),r=Ae("currentSlide",z(0)),i=Ae("slidesToScroll",z(0)),a=Ae("isSliding",z(!1)),s=()=>e.index===r.value,o=()=>e.index===r.value-1,l=()=>e.index===r.value+1,u=()=>{const c=Math.floor(i.value),f=Math.ceil(i.value+n.itemsToShow-1);return e.index>=c&&e.index<=f};return()=>{var c;return je("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":u(),"carousel__slide--active":s(),"carousel__slide--prev":o(),"carousel__slide--next":l(),"carousel__slide--sliding":a.value},"aria-hidden":!u()},(c=t.default)===null||c===void 0?void 0:c.call(t))}}});const zp=Z({__name:"MediaAlbum",props:{media:{}},setup(e){const t=e,n=z(0);function r(){t.media.data.list&&(n.value===t.media.data.list.length-1?n.value=0:n.value++)}return ie(()=>n.value,i=>{t.media.setListIndex(i)}),(i,a)=>{const s=Lu,o=Kr;return B(),U(o,{type:"album",media:i.media,onClick:r},{default:$(()=>[h(J(Hp),{"model-value":J(n)},{default:$(()=>[(B(!0),le(Ne,null,Yr(i.media.data.list,(l,u)=>(B(),U(J(Yp),{key:u},{default:$(()=>[h(s,{"context-menu":!1,media:l},null,8,["media"])]),_:2},1024))),128))]),_:1},8,["model-value"])]),_:1},8,["media"])}}}),Lu=Z({__name:"MediaPost",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const r=Za,i=Au,a=zp,s=wu;return B(),le(Ne,null,[(B(),U(rn,null,{default:$(()=>[t.media.type==="image"?(B(),U(r,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):ee("",!0)]),_:1})),(B(),U(rn,null,{default:$(()=>[t.media.type==="video"?(B(),U(i,{key:0,"context-menu":t.contextMenu,media:t.media,"cover-selector":""},null,8,["context-menu","media"])):ee("",!0)]),_:1})),t.media.type==="album"?(B(),U(a,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):ee("",!0),t.media.type==="iframe"?(B(),U(s,{key:1,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):ee("",!0)],64)}}}),qp=Z({__name:"ProfileMediaGrid",props:{user:{},mode:{}},setup(e){const t=e,n=z(),r=z(!1);function i(){t.user.save()}function a(){r.value=!0}function s(){r.value=!1}return(o,l)=>{const u=Lu,c=kp;return B(),U(ml,{class:"ig-profile-page__media-grid-container pt-1 px-0"},{default:$(()=>[ne("div",{class:Rn(["ig-profile-page__media-grid",{"ig-profile-page__media-grid--dragging":J(r)}]),ref_key:"gridListRef",ref:n},[t.user.media[t.mode].length>0?(B(),U(J(Jc),{key:0,list:t.user.media[t.mode],"onUpdate:list":[l[0]||(l[0]=f=>t.user.media[t.mode]=f),i],axis:"xy",class:"v-row","use-drag-handle":"","press-delay":100,"press-threshold":100,onSortStart:a,onSortEnd:s},{default:$(()=>[(B(!0),le(Ne,null,Yr(t.user.media[t.mode],(f,d)=>(B(),U(J(ed),{key:f.id,index:d,class:"ig-profile-page__media-grid__item v-col v-col-4"},{default:$(()=>[h(J(td),{class:"ig-profile-page__media-grid__drag-handle"},{default:$(()=>[h(Ue,{icon:"mdi-drag",color:"white"})]),_:1}),o.mode==="posts"?(B(),U(u,{key:0,media:f,"context-menu":""},null,8,["media"])):ee("",!0),o.mode==="reels"?(B(),U(c,{key:1,media:f,"context-menu":""},null,8,["media"])):ee("",!0)]),_:2},1032,["index"]))),128))]),_:1},8,["list"])):ee("",!0)],2)]),_:1})}}}),jp={class:"ig-profile-page__tabs"},Wp=["onClick"],Xp=Z({__name:"ProfileTabs",props:{media:{},active:{}},emits:["select"],setup(e,{emit:t}){const n=t,r=e,i=[];return r.media.posts.length>0&&i.push({name:"posts",label:"Posts",icon:"mdi-grid"}),r.media.reels.length>0&&i.push({name:"reels",label:"Reels",icon:"mdi-play-box-multiple-outline"}),(a,s)=>(B(),le("div",jp,[(B(),le(Ne,null,Yr(i,(o,l)=>ne("div",{key:l,class:Rn(["ig-profile-page__tabs__tab",{"ig-profile-page__tabs__tab--active":a.active===o.name}]),onClick:u=>n("select",o.name)},[h(Ue,{size:"15"},{default:$(()=>[me(Tt(o.icon),1)]),_:2},1024),me(" "+Tt(o.label),1)],10,Wp)),64))]))}}),Qp=Ee(Xp,[["__scopeId","data-v-5e59de8f"]]),es=e=>(cl("data-v-b05677cc"),e=e(),dl(),e),Kp=["textContent"],Zp=es(()=>ne("span",null,"posts",-1)),Jp=["textContent"],eg=es(()=>ne("span",null,"followers",-1)),tg=["textContent"],ng=es(()=>ne("span",null,"following",-1)),rg=Z({__name:"ProfileHeaderStats",props:{profile:{},mobile:{type:Boolean}},setup(e){return(t,n)=>(B(),le("ul",{class:Rn(["ig-profile-page__header__stats",{"ig-profile-page__header__stats--mobile":t.mobile}])},[ne("li",null,[ne("b",{textContent:Tt(t.profile.posts_count)},null,8,Kp),me(),Zp]),ne("li",null,[ne("b",{textContent:Tt(t.profile.followers_count)},null,8,Jp),me(),eg]),ne("li",null,[ne("b",{textContent:Tt(t.profile.follows_count)},null,8,tg),me(),ng])],2))}}),xu=Ee(rg,[["__scopeId","data-v-b05677cc"]]),ig=["href"],ag=Z({__name:"ProfileHeaderWebsite",props:{profile:{}},setup(e){return(t,n)=>t.profile.website?(B(),le("a",{key:0,class:"ig-profile-page__header__website",href:t.profile.website.href,target:"_blank"},[h(Ue,{icon:"mdi-link-variant",size:16}),me(" "+Tt(t.profile.website.label),1)],8,ig)):ee("",!0)}}),sg=Ee(ag,[["__scopeId","data-v-6dab466a"]]),og=["textContent"],lg=Z({__name:"ProfileHeaderName",props:{profile:{}},setup(e){return(t,n)=>t.profile.name?(B(),le("p",{key:0,class:"ig-profile-page__header__name",textContent:Tt(t.profile.name)},null,8,og)):ee("",!0)}}),ug=Ee(lg,[["__scopeId","data-v-fddc3fa5"]]),cg={class:"ig-profile-page__header__inner"},dg=["innerHTML"],fg=Z({__name:"ProfileHeaderInner",props:{profile:{}},setup(e){const t=e,n=w(()=>{var r;return(r=t.profile.biography)==null?void 0:r.replace(/(?:\r\n|\r|\n)/g,"<br>")});return(r,i)=>{const a=ug,s=sg;return B(),le("div",cg,[h(a,{profile:r.profile},null,8,["profile"]),ne("p",{class:"ig-profile-page__header__biography",innerHTML:J(n)},null,8,dg),h(s,{profile:r.profile},null,8,["profile"])])}}}),ku=Ee(fg,[["__scopeId","data-v-1249a0b8"]]),vg={class:"ig-profile-page__header__username"},mg=["textContent"],pg=Z({__name:"ProfileHeaderUsername",props:{profile:{}},setup(e){return(t,n)=>(B(),le("div",vg,[ne("span",{textContent:Tt(t.profile.username)},null,8,mg),t.profile.verified?(B(),U(Ue,{key:0,icon:"mdi-check-decagram"})):ee("",!0)]))}}),Nu=Ee(pg,[["__scopeId","data-v-800b7250"]]),gg={class:"ig-profile-page__header"},hg={class:"ig-profile-page__header__top py-4"},_g={class:"my-8"},yg={class:"my-4 mt-n6"},Eg=Z({__name:"ProfileHeaderMobile",props:{profile:{}},setup(e){return(t,n)=>{const r=Nu,i=Da,a=ku,s=xu;return B(),le("div",gg,[ne("div",hg,[h(Ue,{icon:"mdi-arrow-left",class:"mr-4",style:{"margin-top":"-2px"}}),h(r,{profile:t.profile,class:"mb-5"},null,8,["profile"])]),h(Pa,{class:"mx-n4"}),ne("div",_g,[h(xa,null,{default:$(()=>[h(Xn,{cols:"3",class:"ig-profile-page__header__avatar text-left"},{default:$(()=>[(B(),U(rn,null,{default:$(()=>{var o;return[h(i,{size:120,avatar:(o=t.profile)==null?void 0:o.avatar},null,8,["avatar"])]}),_:1}))]),_:1}),h(Xn,{cols:"9"})]),_:1})]),ne("div",yg,[h(a,{profile:t.profile},null,8,["profile"])]),h(s,{mobile:"",profile:t.profile},null,8,["profile"])])}}}),Sg=Ee(Eg,[["__scopeId","data-v-b8da6b40"]]),Tg={class:"ig-profile-page__header py-12"},Ig=Z({__name:"ProfileHeaderDesktop",props:{profile:{}},setup(e){return(t,n)=>{const r=Da,i=Nu,a=xu,s=ku;return B(),le("div",Tg,[h(xa,null,{default:$(()=>[h(Xn,{cols:"4",class:"ig-profile-page__header__avatar text-center"},{default:$(()=>[(B(),U(rn,null,{default:$(()=>{var o;return[h(r,{avatar:(o=t.profile)==null?void 0:o.avatar},null,8,["avatar"])]}),_:1}))]),_:1}),h(Xn,{cols:"8"},{default:$(()=>[h(i,{profile:t.profile,class:"mb-5"},null,8,["profile"]),h(a,{profile:t.profile,class:"mb-5"},null,8,["profile"]),h(s,{profile:t.profile},null,8,["profile"])]),_:1})]),_:1})])}}}),bg=Ee(Ig,[["__scopeId","data-v-8182020b"]]),Cg=Z({__name:"ProfileHeader",props:{profile:{}},setup(e){return(t,n)=>{const r=bg,i=Sg;return t.$vuetify.display.smAndUp?(B(),U(r,{key:0,profile:t.profile},null,8,["profile"])):(B(),U(i,{key:1,profile:t.profile},null,8,["profile"]))}}}),oo={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Zr=W({location:String},"location");function Jr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Ft();return{locationStyles:w(()=>{if(!e.location)return{};const{side:a,align:s}=Vi(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function o(u){return n?n(u):0}const l={};return a!=="center"&&(t?l[oo[a]]=`calc(100% - ${o(a)}px)`:l[a]=0),s!=="center"?t?l[oo[s]]=`calc(100% - ${o(s)}px)`:l[s]=0:(a==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),l})}}const Rg=["static","relative","fixed","absolute","sticky"],ts=W({position:{type:String,validator:e=>Rg.includes(e)}},"position");function ns(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rr();return{positionClasses:w(()=>e.position?`${t}--${e.position}`:void 0)}}const Og=W({color:String,...un(),...ve(),...On(),...Ut(),...Zr(),...ts(),...Ot(),...He(),...dt()},"VSheet"),wg=ae()({name:"VSheet",props:Og(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=gt(e),{backgroundColorClasses:i,backgroundColorStyles:a}=It(te(e,"color")),{borderClasses:s}=cn(e),{dimensionStyles:o}=Pn(e),{elevationClasses:l}=Ht(e),{locationStyles:u}=Jr(e),{positionClasses:c}=ns(e),{roundedClasses:f}=wt(e);return ue(()=>h(e.tag,{class:["v-sheet",r.value,i.value,s.value,l.value,c.value,f.value,e.class],style:[a.value,o.value,u.value,e.style]},n)),{}}}),Pg=Z({__name:"Profile",props:{user:{}},setup(e){const t=z("posts");return(n,r)=>{const i=Cg,a=Qp,s=qp;return B(),U(wg,{color:"transparent",class:"ig-profile-page"},{default:$(()=>[h(ml,{class:"py-0"},{default:$(()=>[h(i,{profile:n.user.profile},null,8,["profile"]),h(a,{media:n.user.media,active:J(t),onSelect:r[0]||(r[0]=o=>t.value=o)},null,8,["media","active"]),h(s,{user:n.user,mode:J(t)},null,8,["user","mode"])]),_:1})]),_:1})}}}),Bu=W({divided:Boolean,...un(),...ve(),...on(),...Ut(),...Ot(),...He(),...dt(),...ar()},"VBtnGroup"),lo=ae()({name:"VBtnGroup",props:Bu(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=gt(e),{densityClasses:i}=wn(e),{borderClasses:a}=cn(e),{elevationClasses:s}=Ht(e),{roundedClasses:o}=wt(e);tr({VBtn:{height:"auto",color:te(e,"color"),density:te(e,"density"),flat:!0,variant:te(e,"variant")}}),ue(()=>h(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,a.value,i.value,s.value,o.value,e.class],style:e.style},n))}}),Dg=W({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Ag=W({value:null,disabled:Boolean,selectedClass:String},"group-item");function Mg(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Vt("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=nr();we(Symbol.for(`${t.description}:id`),i);const a=Ae(t,null);if(!a){if(!n)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const s=te(e,"value"),o=w(()=>!!(a.disabled.value||e.disabled));a.register({id:i,value:s,disabled:o},r),Gt(()=>{a.unregister(i)});const l=w(()=>a.isSelected(i)),u=w(()=>l.value&&[a.selectedClass.value,e.selectedClass]);return ie(l,c=>{r.emit("group:selected",{value:c})}),{id:i,isSelected:l,toggle:()=>a.select(i,!l.value),select:c=>a.select(i,c),selectedClass:u,value:s,disabled:o,group:a}}function Lg(e,t){let n=!1;const r=Nt([]),i=ut(e,"modelValue",[],d=>d==null?[]:Gu(r,Fn(d)),d=>{const m=kg(r,d);return e.multiple?m:m[0]}),a=Vt("useGroup");function s(d,m){const v=d,p=Symbol.for(`${t.description}:id`),g=nd(p,a==null?void 0:a.vnode).indexOf(m);g>-1?r.splice(g,0,v):r.push(v)}function o(d){if(n)return;l();const m=r.findIndex(v=>v.id===d);r.splice(m,1)}function l(){const d=r.find(m=>!m.disabled);d&&e.mandatory==="force"&&!i.value.length&&(i.value=[d.id])}$t(()=>{l()}),Gt(()=>{n=!0});function u(d,m){const v=r.find(p=>p.id===d);if(!(m&&(v!=null&&v.disabled)))if(e.multiple){const p=i.value.slice(),y=p.findIndex(_=>_===d),g=~y;if(m=m??!g,g&&e.mandatory&&p.length<=1||!g&&e.max!=null&&p.length+1>e.max)return;y<0&&m?p.push(d):y>=0&&!m&&p.splice(y,1),i.value=p}else{const p=i.value.includes(d);if(e.mandatory&&p)return;i.value=m??!p?[d]:[]}}function c(d){if(e.multiple,i.value.length){const m=i.value[0],v=r.findIndex(g=>g.id===m);let p=(v+d)%r.length,y=r[p];for(;y.disabled&&p!==v;)p=(p+d)%r.length,y=r[p];if(y.disabled)return;i.value=[r[p].id]}else{const m=r.find(v=>!v.disabled);m&&(i.value=[m.id])}}const f={register:s,unregister:o,selected:i,select:u,disabled:te(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:d=>i.value.includes(d),selectedClass:w(()=>e.selectedClass),items:w(()=>r),getItemIndex:d=>xg(r,d)};return we(t,f),f}function xg(e,t){const n=Gu(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function Gu(e,t){const n=[];return t.forEach(r=>{const i=e.find(s=>Ia(r,s.value)),a=e[r];(i==null?void 0:i.value)!=null?n.push(i.id):a!=null&&n.push(a.id)}),n}function kg(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(a=>a.id===r);if(~i){const a=e[i];n.push(a.value!=null?a.value:i)}}),n}const Vu=Symbol.for("vuetify:v-btn-toggle"),Ng=W({...Bu(),...Dg()},"VBtnToggle");ae()({name:"VBtnToggle",props:Ng(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:i,prev:a,select:s,selected:o}=Lg(e,Vu);return ue(()=>{const l=lo.filterProps(e);return h(lo,De({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,next:i,prev:a,select:s,selected:o})]}})}),{next:i,prev:a,select:s}}});function $u(e,t){const n=z(),r=fe(!1);if(rd){const i=new IntersectionObserver(a=>{e==null||e(a,i),r.value=!!a.find(s=>s.isIntersecting)},t);Gt(()=>{i.disconnect()}),ie(n,(a,s)=>{s&&(i.unobserve(s),r.value=!1),a&&i.observe(a)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const Bg=W({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ve(),...pl(),...He({tag:"div"}),...dt()},"VProgressCircular"),Gg=ae()({name:"VProgressCircular",props:Bg(),setup(e,t){let{slots:n}=t;const r=20,i=2*Math.PI*r,a=z(),{themeClasses:s}=gt(e),{sizeClasses:o,sizeStyles:l}=gl(e),{textColorClasses:u,textColorStyles:c}=In(te(e,"color")),{textColorClasses:f,textColorStyles:d}=In(te(e,"bgColor")),{intersectionRef:m,isIntersecting:v}=$u(),{resizeRef:p,contentRect:y}=id(),g=w(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),_=w(()=>Number(e.width)),E=w(()=>l.value?Number(e.size):y.value?y.value.width:Math.max(_.value,32)),b=w(()=>r/(1-_.value/E.value)*2),I=w(()=>_.value/E.value*b.value),C=w(()=>oe((100-g.value)/100*i));return Hr(()=>{m.value=a.value,p.value=a.value}),ue(()=>h(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},s.value,o.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:g.value},{default:()=>[h("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[h("circle",{class:["v-progress-circular__underlay",f.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":I.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),h("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":I.value,"stroke-dasharray":i,"stroke-dashoffset":C.value},null)]),n.default&&h("div",{class:"v-progress-circular__content"},[n.default({value:g.value})])]})),{}}}),Vg=W({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ve(),...Zr({location:"top"}),...Ot(),...He(),...dt()},"VProgressLinear"),$g=ae()({name:"VProgressLinear",props:Vg(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ut(e,"modelValue"),{isRtl:i,rtlClasses:a}=Ft(),{themeClasses:s}=gt(e),{locationStyles:o}=Jr(e),{textColorClasses:l,textColorStyles:u}=In(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:f}=It(w(()=>e.bgColor||e.color)),{backgroundColorClasses:d,backgroundColorStyles:m}=It(e,"color"),{roundedClasses:v}=wt(e),{intersectionRef:p,isIntersecting:y}=$u(),g=w(()=>parseInt(e.max,10)),_=w(()=>parseInt(e.height,10)),E=w(()=>parseFloat(e.bufferValue)/g.value*100),b=w(()=>parseFloat(r.value)/g.value*100),I=w(()=>i.value!==e.reverse),C=w(()=>e.indeterminate?"fade-transition":"slide-x-transition"),S=w(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function T(R){if(!p.value)return;const{left:N,right:A,width:O}=p.value.getBoundingClientRect(),x=I.value?O-R.clientX+(A-O):R.clientX-N;r.value=Math.round(x/O*g.value)}return ue(()=>h(e.tag,{ref:p,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&y.value,"v-progress-linear--reverse":I.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,s.value,a.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?oe(_.value):0,"--v-progress-linear-height":oe(_.value),...o.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:b.value,onClick:e.clickable&&T},{default:()=>[e.stream&&h("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[I.value?"left":"right"]:oe(-_.value),borderTop:`${oe(_.value/2)} dotted`,opacity:S.value,top:`calc(50% - ${oe(_.value/4)})`,width:oe(100-E.value,"%"),"--v-progress-linear-stream-to":oe(_.value*(I.value?1:-1))}},null),h("div",{class:["v-progress-linear__background",c.value],style:[f.value,{opacity:S.value,width:oe(e.stream?E.value:100,"%")}]},null),h(tn,{name:C.value},{default:()=>[e.indeterminate?h("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(R=>h("div",{key:R,class:["v-progress-linear__indeterminate",R,d.value],style:m.value},null))]):h("div",{class:["v-progress-linear__determinate",d.value],style:[m.value,{width:oe(b.value,"%")}]},null)]}),n.default&&h("div",{class:"v-progress-linear__content"},[n.default({value:b.value,buffer:E.value})])]})),{}}}),Fu=W({loading:[Boolean,String]},"loader");function Uu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rr();return{loaderClasses:w(()=>({[`${t}--loading`]:e.loading}))}}function Fg(e,t){var r;let{slots:n}=t;return h("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||h($g,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}function Ug(e,t){ie(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&ct(()=>{t(!0)})},{immediate:!0})}const Hg=W({active:{type:Boolean,default:void 0},symbol:{type:null,default:Vu},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Fe,appendIcon:Fe,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...un(),...ve(),...on(),...On(),...Ut(),...Ag(),...Fu(),...Zr(),...ts(),...Ot(),...Qa(),...pl(),...He({tag:"button"}),...dt(),...ar({variant:"elevated"})},"VBtn"),Hu=ae()({name:"VBtn",directives:{Ripple:Wr},props:Hg(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=gt(e),{borderClasses:a}=cn(e),{colorClasses:s,colorStyles:o,variantClasses:l}=Oa(e),{densityClasses:u}=wn(e),{dimensionStyles:c}=Pn(e),{elevationClasses:f}=Ht(e),{loaderClasses:d}=Uu(e),{locationStyles:m}=Jr(e),{positionClasses:v}=ns(e),{roundedClasses:p}=wt(e),{sizeClasses:y,sizeStyles:g}=gl(e),_=Mg(e,e.symbol,!1),E=Xa(e,n),b=w(()=>{var R;return e.active!==void 0?e.active:E.isLink.value?(R=E.isActive)==null?void 0:R.value:_==null?void 0:_.isSelected.value}),I=w(()=>(_==null?void 0:_.disabled.value)||e.disabled),C=w(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),S=w(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function T(R){var N;I.value||E.isLink.value&&(R.metaKey||R.ctrlKey||R.shiftKey||R.button!==0||n.target==="_blank")||((N=E.navigate)==null||N.call(E,R),_==null||_.toggle())}return Ug(E,_==null?void 0:_.select),ue(()=>{var P,F;const R=E.isLink.value?"a":e.tag,N=!!(e.prependIcon||r.prepend),A=!!(e.appendIcon||r.append),O=!!(e.icon&&e.icon!==!0),x=(_==null?void 0:_.isSelected.value)&&(!E.isLink.value||((P=E.isActive)==null?void 0:P.value))||!_||((F=E.isActive)==null?void 0:F.value);return nn(h(R,{type:R==="a"?void 0:"button",class:["v-btn",_==null?void 0:_.selectedClass.value,{"v-btn--active":b.value,"v-btn--block":e.block,"v-btn--disabled":I.value,"v-btn--elevated":C.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},i.value,a.value,x?s.value:void 0,u.value,f.value,d.value,v.value,p.value,y.value,l.value,e.class],style:[x?o.value:void 0,c.value,m.value,g.value,e.style],disabled:I.value||void 0,href:E.href.value,onClick:T,value:S.value},{default:()=>{var D;return[wa(!0,"v-btn"),!e.icon&&N&&h("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?h(lt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):h(Ue,{key:"prepend-icon",icon:e.prependIcon},null)]),h("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&O?h(Ue,{key:"content-icon",icon:e.icon},null):h(lt,{key:"content-defaults",disabled:!O,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var k;return[((k=r.default)==null?void 0:k.call(r))??e.text]}})]),!e.icon&&A&&h("span",{key:"append",class:"v-btn__append"},[r.append?h(lt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):h(Ue,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&h("span",{key:"loader",class:"v-btn__loader"},[((D=r.loader)==null?void 0:D.call(r))??h(Gg,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[ir("ripple"),!I.value&&e.ripple,null]])}),{}}}),Yg={},zg=e=>(cl("data-v-b88a181d"),e=e(),dl(),e),qg=zg(()=>ne("p",{class:"mt-3"},[ne("a",{href:"https://github.com/dxlliv/ig-planner",target:"_blank"},[ne("strong",null,"ig-planner")]),me(" is currently under development."),ne("br"),me(" Get support and ask for new features! ")],-1)),jg={class:"mt-5"};function Wg(e,t){return B(),le(Ne,null,[qg,ne("div",jg,[h(Hu,{border:"",href:"https://patreon.com/dxlliv",target:"_blank"},{default:$(()=>[me("Become a Patron")]),_:1})])],64)}const Xg=Ee(Yg,[["render",Wg],["__scopeId","data-v-b88a181d"]]),Qg=ae()({name:"VCardActions",props:ve(),setup(e,t){let{slots:n}=t;return tr({VBtn:{slim:!0,variant:"text"}}),ue(()=>{var r;return h("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),Kg=sr("v-card-subtitle"),rs=sr("v-card-title"),Zg=W({appendAvatar:String,appendIcon:Fe,prependAvatar:String,prependIcon:Fe,subtitle:[String,Number],title:[String,Number],...ve(),...on()},"VCardItem"),Jg=ae()({name:"VCardItem",props:Zg(),setup(e,t){let{slots:n}=t;return ue(()=>{var u;const r=!!(e.prependAvatar||e.prependIcon),i=!!(r||n.prepend),a=!!(e.appendAvatar||e.appendIcon),s=!!(a||n.append),o=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return h("div",{class:["v-card-item",e.class],style:e.style},[i&&h("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?h(lt,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},n.prepend):r&&h(wr,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),h("div",{class:"v-card-item__content"},[o&&h(rs,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&h(Kg,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),s&&h("div",{key:"append",class:"v-card-item__append"},[n.append?h(lt,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},n.append):a&&h(wr,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),eh=sr("v-card-text"),th=W({appendAvatar:String,appendIcon:Fe,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Fe,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...un(),...ve(),...on(),...On(),...Ut(),...Fu(),...Zr(),...ts(),...Ot(),...Qa(),...He(),...dt(),...ar({variant:"elevated"})},"VCard"),Yu=ae()({name:"VCard",directives:{Ripple:Wr},props:th(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=gt(e),{borderClasses:a}=cn(e),{colorClasses:s,colorStyles:o,variantClasses:l}=Oa(e),{densityClasses:u}=wn(e),{dimensionStyles:c}=Pn(e),{elevationClasses:f}=Ht(e),{loaderClasses:d}=Uu(e),{locationStyles:m}=Jr(e),{positionClasses:v}=ns(e),{roundedClasses:p}=wt(e),y=Xa(e,n),g=w(()=>e.link!==!1&&y.isLink.value),_=w(()=>!e.disabled&&e.link!==!1&&(e.link||y.isClickable.value));return ue(()=>{const E=g.value?"a":e.tag,b=!!(r.title||e.title!=null),I=!!(r.subtitle||e.subtitle!=null),C=b||I,S=!!(r.append||e.appendAvatar||e.appendIcon),T=!!(r.prepend||e.prependAvatar||e.prependIcon),R=!!(r.image||e.image),N=C||T||S,A=!!(r.text||e.text!=null);return nn(h(E,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":_.value},i.value,a.value,s.value,u.value,f.value,d.value,v.value,p.value,l.value,e.class],style:[o.value,c.value,m.value,e.style],href:y.href.value,onClick:_.value&&y.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var O;return[R&&h("div",{key:"image",class:"v-card__image"},[r.image?h(lt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):h(vl,{key:"image-img",cover:!0,src:e.image},null)]),h(Fg,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),N&&h(Jg,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),A&&h(eh,{key:"text"},{default:()=>{var x;return[((x=r.text)==null?void 0:x.call(r))??e.text]}}),(O=r.default)==null?void 0:O.call(r),r.actions&&h(Qg,null,{default:r.actions}),wa(_.value,"v-card")]}}),[[ir("ripple"),_.value&&e.ripple]])}),{}}}),nh=W({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ka({origin:"center center",scrollStrategy:"block",transition:{component:iu},zIndex:2400})},"VDialog"),zu=ae()({name:"VDialog",props:nh(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ut(e,"modelValue"),{scopeId:i}=Qr(),a=z();function s(l){var f,d;const u=l.relatedTarget,c=l.target;if(u!==c&&((f=a.value)!=null&&f.contentEl)&&((d=a.value)!=null&&d.globalTop)&&![document,a.value.contentEl].includes(c)&&!a.value.contentEl.contains(c)){const m=Gi(a.value.contentEl);if(!m.length)return;const v=m[0],p=m[m.length-1];u===v?p.focus():v.focus()}}Rt&&ie(()=>r.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)},{immediate:!0}),ie(r,async l=>{var u,c;await ct(),l?(u=a.value.contentEl)==null||u.focus({preventScroll:!0}):(c=a.value.activatorEl)==null||c.focus({preventScroll:!0})});const o=w(()=>De({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return ue(()=>{const l=kr.filterProps(e);return h(kr,De({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},l,{modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,"aria-modal":"true",activatorProps:o.value,role:"dialog"},i),{activator:n.activator,default:function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return h(lt,{root:"VDialog"},{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,...c)]}})}})}),Ou({},a)}}),rh=ne("p",null,[me(" Some changes have been made to this profile"),ne("br"),me(" and have now been stored in your browser. ")],-1),ih=Z({__name:"ProfileExport",emits:["close"],setup(e,{emit:t}){const n=t;return(r,i)=>{const a=Xg;return B(),U(zu,{"content-class":"ig-user-export","max-width":700,onClose:i[0]||(i[0]=s=>n("close"))},{default:$(()=>[h(Yu,{height:"70vh"},{default:$(()=>[h(rs,{textContent:"Profile export"}),h(xa,{class:"ma-0"},{default:$(()=>[h(Xn,{"align-self":"center",class:"text-center"},{default:$(()=>[rh,h(a)]),_:1})]),_:1})]),_:1})]),_:1})}}});/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ah=e=>e instanceof HTMLElement,sh=(e,t=[],n=[])=>{const r={...e},i=[],a=[],s=()=>({...r}),o=()=>{const v=[...i];return i.length=0,v},l=()=>{const v=[...a];a.length=0,v.forEach(({type:p,data:y})=>{u(p,y)})},u=(v,p,y)=>{if(y&&!document.hidden){a.push({type:v,data:p});return}m[v]&&m[v](p),i.push({type:v,data:p})},c=(v,...p)=>d[v]?d[v](...p):null,f={getState:s,processActionQueue:o,processDispatchQueue:l,dispatch:u,query:c};let d={};t.forEach(v=>{d={...v(r),...d}});let m={};return n.forEach(v=>{m={...v(u,c,r),...m}}),f},oh=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},ge=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},Bt=e=>{const t={};return ge(e,n=>{oh(t,n,e[n])}),t},Ie=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},lh="http://www.w3.org/2000/svg",uh=["svg","path"],uo=e=>uh.includes(e),Nr=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=uo(e)?document.createElementNS(lh,e):document.createElement(e);return t&&(uo(e)?Ie(r,"class",t):r.className=t),ge(n,(i,a)=>{Ie(r,i,a)}),r},ch=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},dh=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),fh=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),vh=typeof window<"u"&&typeof window.document<"u",qu=()=>vh,mh=qu()?Nr("svg"):{},ph="children"in mh?e=>e.children.length:e=>e.childNodes.length,ju=(e,t,n,r)=>{const i=n[0]||e.left,a=n[1]||e.top,s=i+e.width,o=a+e.height*(r[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:i,top:a,right:s,bottom:o}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{co(l.inner,{...u.inner}),co(l.outer,{...u.outer})}),fo(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,fo(l.outer),l},co=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},fo=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Wt=e=>typeof e=="number",gh=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,hh=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,i=null,a=0,s=!1;const u=Bt({interpolate:(c,f)=>{if(s)return;if(!(Wt(r)&&Wt(i))){s=!0,a=0;return}const d=-(i-r)*e;a+=d/n,i+=a,a*=t,gh(i,r,a)||f?(i=r,a=0,s=!0,u.onupdate(i),u.oncomplete(i)):u.onupdate(i)},target:{set:c=>{if(Wt(c)&&!Wt(i)&&(i=c),r===null&&(r=c,i=c),r=c,i===r||typeof r>"u"){s=!0,a=0,u.onupdate(i),u.oncomplete(i);return}s=!1},get:()=>r},resting:{get:()=>s},onupdate:c=>{},oncomplete:c=>{}});return u},_h=e=>e<.5?2*e*e:-1+(4-2*e)*e,yh=({duration:e=500,easing:t=_h,delay:n=0}={})=>{let r=null,i,a,s=!0,o=!1,l=null;const c=Bt({interpolate:(f,d)=>{s||l===null||(r===null&&(r=f),!(f-r<n)&&(i=f-r-n,i>=e||d?(i=1,a=o?0:1,c.onupdate(a*l),c.oncomplete(a*l),s=!0):(a=i/e,c.onupdate((i>=0?t(o?1-a:a):0)*l))))},target:{get:()=>o?0:l,set:f=>{if(l===null){l=f,c.onupdate(f),c.oncomplete(f);return}f<l?(l=1,o=!0):(o=!1,l=f),s=!1,r=null}},resting:{get:()=>s},onupdate:f=>{},oncomplete:f=>{}});return c},vo={spring:hh,tween:yh},Eh=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,i=typeof r=="string"?r:r.type,a=typeof r=="object"?{...r}:{};return vo[i]?vo[i](a):null},is=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(i=>{e.forEach(a=>{let s=a,o=()=>n[a],l=u=>n[a]=u;typeof a=="object"&&(s=a.key,o=a.getter||o,l=a.setter||l),!(i[s]&&!r)&&(i[s]={get:o,set:l})})})},Sh=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const i={...t},a=[];return ge(e,(s,o)=>{const l=Eh(o);if(!l)return;l.onupdate=c=>{t[s]=c},l.target=i[s],is([{key:s,setter:c=>{l.target!==c&&(l.target=c)},getter:()=>t[s]}],[n,r],t,!0),a.push(l)}),{write:s=>{let o=document.hidden,l=!0;return a.forEach(u=>{u.resting||(l=!1),u.interpolate(s,o)}),l},destroy:()=>{}}},Th=e=>(t,n)=>{e.addEventListener(t,n)},Ih=e=>(t,n)=>{e.removeEventListener(t,n)},bh=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:i,view:a})=>{const s=[],o=Th(a.element),l=Ih(a.element);return r.on=(u,c)=>{s.push({type:u,fn:c}),o(u,c)},r.off=(u,c)=>{s.splice(s.findIndex(f=>f.type===u&&f.fn===c),1),l(u,c)},{write:()=>!0,destroy:()=>{s.forEach(u=>{l(u.type,u.fn)})}}},Ch=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{is(e,n,t)},ke=e=>e!=null,Rh={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Oh=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:i})=>{const a={...t},s={};is(e,[n,r],t);const o=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],u=()=>i.rect?ju(i.rect,i.childViews,o(),l()):null;return n.rect={get:u},r.rect={get:u},e.forEach(c=>{t[c]=typeof a[c]>"u"?Rh[c]:a[c]}),{write:()=>{if(wh(s,t))return Ph(i.element,t),Object.assign(s,{...t}),!0},destroy:()=>{}}},wh=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},Ph=(e,{opacity:t,perspective:n,translateX:r,translateY:i,scaleX:a,scaleY:s,rotateX:o,rotateY:l,rotateZ:u,originX:c,originY:f,width:d,height:m})=>{let v="",p="";(ke(c)||ke(f))&&(p+=`transform-origin: ${c||0}px ${f||0}px;`),ke(n)&&(v+=`perspective(${n}px) `),(ke(r)||ke(i))&&(v+=`translate3d(${r||0}px, ${i||0}px, 0) `),(ke(a)||ke(s))&&(v+=`scale3d(${ke(a)?a:1}, ${ke(s)?s:1}, 1) `),ke(u)&&(v+=`rotateZ(${u}rad) `),ke(o)&&(v+=`rotateX(${o}rad) `),ke(l)&&(v+=`rotateY(${l}rad) `),v.length&&(p+=`transform:${v};`),ke(t)&&(p+=`opacity:${t};`,t===0&&(p+="visibility:hidden;"),t<1&&(p+="pointer-events:none;")),ke(m)&&(p+=`height:${m}px;`),ke(d)&&(p+=`width:${d}px;`);const y=e.elementCurrentStyle||"";(p.length!==y.length||p!==y)&&(e.style.cssText=p,e.elementCurrentStyle=p)},Dh={styles:Oh,listeners:bh,animations:Sh,apis:Ch},mo=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),be=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:i=()=>{},create:a=()=>{},destroy:s=()=>{},filterFrameActionsForChild:o=(m,v)=>v,didCreateView:l=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:f=!1,mixins:d=[]}={})=>(m,v={})=>{const p=Nr(e,`filepond--${t}`,n),y=window.getComputedStyle(p,null),g=mo();let _=null,E=!1;const b=[],I=[],C={},S={},T=[i],R=[r],N=[s],A=()=>p,O=()=>b.concat(),x=()=>C,P=G=>(K,H)=>K(G,H),F=()=>_||(_=ju(g,b,[0,0],[1,1]),_),D=()=>y,k=()=>{_=null,b.forEach(H=>H._read()),!(f&&g.width&&g.height)&&mo(g,p,y);const K={root:re,props:v,rect:g};R.forEach(H=>H(K))},M=(G,K,H)=>{let ce=K.length===0;return T.forEach(pe=>{pe({props:v,root:re,actions:K,timestamp:G,shouldOptimize:H})===!1&&(ce=!1)}),I.forEach(pe=>{pe.write(G)===!1&&(ce=!1)}),b.filter(pe=>!!pe.element.parentNode).forEach(pe=>{pe._write(G,o(pe,K),H)||(ce=!1)}),b.forEach((pe,Xe)=>{pe.element.parentNode||(re.appendChild(pe.element,Xe),pe._read(),pe._write(G,o(pe,K),H),ce=!1)}),E=ce,u({props:v,root:re,actions:K,timestamp:G}),ce},V=()=>{I.forEach(G=>G.destroy()),N.forEach(G=>{G({root:re,props:v})}),b.forEach(G=>G._destroy())},Y={element:{get:A},style:{get:D},childViews:{get:O}},j={...Y,rect:{get:F},ref:{get:x},is:G=>t===G,appendChild:ch(p),createChildView:P(m),linkView:G=>(b.push(G),G),unlinkView:G=>{b.splice(b.indexOf(G),1)},appendChildView:dh(p,b),removeChildView:fh(p,b),registerWriter:G=>T.push(G),registerReader:G=>R.push(G),registerDestroyer:G=>N.push(G),invalidateLayout:()=>p.layoutCalculated=!1,dispatch:m.dispatch,query:m.query},X={element:{get:A},childViews:{get:O},rect:{get:F},resting:{get:()=>E},isRectIgnored:()=>c,_read:k,_write:M,_destroy:V},se={...Y,rect:{get:()=>g}};Object.keys(d).sort((G,K)=>G==="styles"?1:K==="styles"?-1:0).forEach(G=>{const K=Dh[G]({mixinConfig:d[G],viewProps:v,viewState:S,viewInternalAPI:j,viewExternalAPI:X,view:Bt(se)});K&&I.push(K)});const re=Bt(j);a({root:re,props:v});const Me=ph(p);return b.forEach((G,K)=>{re.appendChild(G.element,Me+K)}),l(re),Bt(X)},Ah=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const i=window[r],a=1e3/n;let s=null,o=null,l=null,u=null;const c=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),a),u=()=>window.clearTimeout(o)):(l=()=>window.requestAnimationFrame(f),u=()=>window.cancelAnimationFrame(o))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),f(performance.now())});const f=d=>{o=l(f),s||(s=d);const m=d-s;m<=a||(s=d-m%a,i.readers.forEach(v=>v()),i.writers.forEach(v=>v(d)))};return c(),f(performance.now()),{pause:()=>{u(o)}}},Ge=(e,t)=>({root:n,props:r,actions:i=[],timestamp:a,shouldOptimize:s})=>{i.filter(o=>e[o.type]).forEach(o=>e[o.type]({root:n,props:r,action:o.data,timestamp:a,shouldOptimize:s})),t&&t({root:n,props:r,actions:i,timestamp:a,shouldOptimize:s})},po=(e,t)=>t.parentNode.insertBefore(e,t),go=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),ei=e=>Array.isArray(e),bt=e=>e==null,Mh=e=>e.trim(),ti=e=>""+e,Lh=(e,t=",")=>bt(e)?[]:ei(e)?e:ti(e).split(t).map(Mh).filter(n=>n.length),Wu=e=>typeof e=="boolean",Xu=e=>Wu(e)?e:e==="true",Be=e=>typeof e=="string",Qu=e=>Wt(e)?e:Be(e)?ti(e).replace(/[a-z]+/gi,""):0,Cr=e=>parseInt(Qu(e),10),ho=e=>parseFloat(Qu(e)),Dn=e=>Wt(e)&&isFinite(e)&&Math.floor(e)===e,_o=(e,t=1e3)=>{if(Dn(e))return e;let n=ti(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Cr(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Cr(n)*t):Cr(n)},Xt=e=>typeof e=="function",xh=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},yo={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},kh=e=>{const t={};return t.url=Be(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},ge(yo,n=>{t[n]=Nh(n,e[n],yo[n],t.timeout,t.headers)}),t.process=e.process||Be(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Nh=(e,t,n,r,i)=>{if(t===null)return null;if(typeof t=="function")return t;const a={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(Be(t))return a.url=t,a;if(Object.assign(a,t),Be(a.headers)){const s=a.headers.split(/:(.+)/);a.headers={header:s[0],value:s[1]}}return a.withCredentials=Xu(a.withCredentials),a},Bh=e=>kh(e),Gh=e=>e===null,Pe=e=>typeof e=="object"&&e!==null,Vh=e=>Pe(e)&&Be(e.url)&&Pe(e.process)&&Pe(e.revert)&&Pe(e.restore)&&Pe(e.fetch),da=e=>ei(e)?"array":Gh(e)?"null":Dn(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Vh(e)?"api":typeof e,$h=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Fh={array:Lh,boolean:Xu,int:e=>da(e)==="bytes"?_o(e):Cr(e),number:ho,float:ho,bytes:_o,string:e=>Xt(e)?e:ti(e),function:e=>xh(e),serverapi:Bh,object:e=>{try{return JSON.parse($h(e))}catch{return null}}},Uh=(e,t)=>Fh[t](e),Ku=(e,t,n)=>{if(e===t)return e;let r=da(e);if(r!==n){const i=Uh(e,n);if(r=da(i),i===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=i}return e},Hh=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=Ku(r,e,t)}}},Yh=e=>{const t={};return ge(e,n=>{const r=e[n];t[n]=Hh(r[0],r[1])}),Bt(t)},zh=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Yh(e)}),ni=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),qh=(e,t)=>{const n={};return ge(t,r=>{n[r]={get:()=>e.getState().options[r],set:i=>{e.dispatch(`SET_${ni(r,"_").toUpperCase()}`,{value:i})}}}),n},jh=e=>(t,n,r)=>{const i={};return ge(e,a=>{const s=ni(a,"_").toUpperCase();i[`SET_${s}`]=o=>{try{r.options[a]=o.value}catch{}t(`DID_SET_${s}`,{value:r.options[a]})}}),i},Wh=e=>t=>{const n={};return ge(e,r=>{n[`GET_${ni(r,"_").toUpperCase()}`]=i=>t.options[r]}),n},et={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},as=()=>Math.random().toString(36).substring(2,11),ss=(e,t)=>e.splice(t,1),Xh=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},ri=()=>{const e=[],t=(r,i)=>{ss(e,e.findIndex(a=>a.event===r&&(a.cb===i||!i)))},n=(r,i,a)=>{e.filter(s=>s.event===r).map(s=>s.cb).forEach(s=>Xh(()=>s(...i),a))};return{fireSync:(r,...i)=>{n(r,i,!0)},fire:(r,...i)=>{n(r,i,!1)},on:(r,i)=>{e.push({event:r,cb:i})},onOnce:(r,i)=>{e.push({event:r,cb:(...a)=>{t(r,i),i(...a)}})},off:t}},Zu=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},Qh=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],$e=e=>{const t={};return Zu(e,t,Qh),t},Kh=e=>{e.forEach((t,n)=>{t.released&&ss(e,n)})},Q={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Oe={INPUT:1,LIMBO:2,LOCAL:3},Ju=e=>/[^0-9]+/.exec(e),ec=()=>Ju(1.1.toLocaleString())[0],Zh=()=>{const e=ec(),t=1e3.toLocaleString();return t!=="1000"?Ju(t)[0]:e==="."?",":"."},L={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},os=[],at=(e,t,n)=>new Promise((r,i)=>{const a=os.filter(o=>o.key===e).map(o=>o.cb);if(a.length===0){r(t);return}const s=a.shift();a.reduce((o,l)=>o.then(u=>l(u,n)),s(t,n)).then(o=>r(o)).catch(o=>i(o))}),dn=(e,t,n)=>os.filter(r=>r.key===e).map(r=>r.cb(t,n)),Jh=(e,t)=>os.push({key:e,cb:t}),e_=e=>Object.assign(yn,e),Br=()=>({...yn}),t_=e=>{ge(e,(t,n)=>{yn[t]&&(yn[t][0]=Ku(n,yn[t][0],yn[t][1]))})},yn={id:[null,L.STRING],name:["filepond",L.STRING],disabled:[!1,L.BOOLEAN],className:[null,L.STRING],required:[!1,L.BOOLEAN],captureMethod:[null,L.STRING],allowSyncAcceptAttribute:[!0,L.BOOLEAN],allowDrop:[!0,L.BOOLEAN],allowBrowse:[!0,L.BOOLEAN],allowPaste:[!0,L.BOOLEAN],allowMultiple:[!1,L.BOOLEAN],allowReplace:[!0,L.BOOLEAN],allowRevert:[!0,L.BOOLEAN],allowRemove:[!0,L.BOOLEAN],allowProcess:[!0,L.BOOLEAN],allowReorder:[!1,L.BOOLEAN],allowDirectoriesOnly:[!1,L.BOOLEAN],storeAsFile:[!1,L.BOOLEAN],forceRevert:[!1,L.BOOLEAN],maxFiles:[null,L.INT],checkValidity:[!1,L.BOOLEAN],itemInsertLocationFreedom:[!0,L.BOOLEAN],itemInsertLocation:["before",L.STRING],itemInsertInterval:[75,L.INT],dropOnPage:[!1,L.BOOLEAN],dropOnElement:[!0,L.BOOLEAN],dropValidation:[!1,L.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],L.ARRAY],instantUpload:[!0,L.BOOLEAN],maxParallelUploads:[2,L.INT],allowMinimumUploadDuration:[!0,L.BOOLEAN],chunkUploads:[!1,L.BOOLEAN],chunkForce:[!1,L.BOOLEAN],chunkSize:[5e6,L.INT],chunkRetryDelays:[[500,1e3,3e3],L.ARRAY],server:[null,L.SERVER_API],fileSizeBase:[1e3,L.INT],labelFileSizeBytes:["bytes",L.STRING],labelFileSizeKilobytes:["KB",L.STRING],labelFileSizeMegabytes:["MB",L.STRING],labelFileSizeGigabytes:["GB",L.STRING],labelDecimalSeparator:[ec(),L.STRING],labelThousandsSeparator:[Zh(),L.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',L.STRING],labelInvalidField:["Field contains invalid files",L.STRING],labelFileWaitingForSize:["Waiting for size",L.STRING],labelFileSizeNotAvailable:["Size not available",L.STRING],labelFileCountSingular:["file in list",L.STRING],labelFileCountPlural:["files in list",L.STRING],labelFileLoading:["Loading",L.STRING],labelFileAdded:["Added",L.STRING],labelFileLoadError:["Error during load",L.STRING],labelFileRemoved:["Removed",L.STRING],labelFileRemoveError:["Error during remove",L.STRING],labelFileProcessing:["Uploading",L.STRING],labelFileProcessingComplete:["Upload complete",L.STRING],labelFileProcessingAborted:["Upload cancelled",L.STRING],labelFileProcessingError:["Error during upload",L.STRING],labelFileProcessingRevertError:["Error during revert",L.STRING],labelTapToCancel:["tap to cancel",L.STRING],labelTapToRetry:["tap to retry",L.STRING],labelTapToUndo:["tap to undo",L.STRING],labelButtonRemoveItem:["Remove",L.STRING],labelButtonAbortItemLoad:["Abort",L.STRING],labelButtonRetryItemLoad:["Retry",L.STRING],labelButtonAbortItemProcessing:["Cancel",L.STRING],labelButtonUndoItemProcessing:["Undo",L.STRING],labelButtonRetryItemProcessing:["Retry",L.STRING],labelButtonProcessItem:["Upload",L.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',L.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',L.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',L.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',L.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',L.STRING],oninit:[null,L.FUNCTION],onwarning:[null,L.FUNCTION],onerror:[null,L.FUNCTION],onactivatefile:[null,L.FUNCTION],oninitfile:[null,L.FUNCTION],onaddfilestart:[null,L.FUNCTION],onaddfileprogress:[null,L.FUNCTION],onaddfile:[null,L.FUNCTION],onprocessfilestart:[null,L.FUNCTION],onprocessfileprogress:[null,L.FUNCTION],onprocessfileabort:[null,L.FUNCTION],onprocessfilerevert:[null,L.FUNCTION],onprocessfile:[null,L.FUNCTION],onprocessfiles:[null,L.FUNCTION],onremovefile:[null,L.FUNCTION],onpreparefile:[null,L.FUNCTION],onupdatefiles:[null,L.FUNCTION],onreorderfiles:[null,L.FUNCTION],beforeDropFile:[null,L.FUNCTION],beforeAddFile:[null,L.FUNCTION],beforeRemoveFile:[null,L.FUNCTION],beforePrepareFile:[null,L.FUNCTION],stylePanelLayout:[null,L.STRING],stylePanelAspectRatio:[null,L.STRING],styleItemPanelAspectRatio:[null,L.STRING],styleButtonRemoveItemPosition:["left",L.STRING],styleButtonProcessItemPosition:["right",L.STRING],styleLoadIndicatorPosition:["right",L.STRING],styleProgressIndicatorPosition:["right",L.STRING],styleButtonRemoveItemAlign:[!1,L.BOOLEAN],files:[[],L.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],L.ARRAY]},Qt=(e,t)=>bt(t)?e[0]||null:Dn(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),tc=e=>{if(bt(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},st=e=>e.filter(t=>!t.archived),n_={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let gr=null;const r_=()=>{if(gr===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,gr=t.files.length===1}catch{gr=!1}return gr},i_=[Q.LOAD_ERROR,Q.PROCESSING_ERROR,Q.PROCESSING_REVERT_ERROR],a_=[Q.LOADING,Q.PROCESSING,Q.PROCESSING_QUEUED,Q.INIT],s_=[Q.PROCESSING_COMPLETE],o_=e=>i_.includes(e.status),l_=e=>a_.includes(e.status),u_=e=>s_.includes(e.status),Eo=e=>Pe(e.options.server)&&(Pe(e.options.server.process)||Xt(e.options.server.process)),c_=e=>({GET_STATUS:()=>{const t=st(e.items),{EMPTY:n,ERROR:r,BUSY:i,IDLE:a,READY:s}=n_;return t.length===0?n:t.some(o_)?r:t.some(l_)?i:t.some(u_)?s:a},GET_ITEM:t=>Qt(e.items,t),GET_ACTIVE_ITEM:t=>Qt(st(e.items),t),GET_ACTIVE_ITEMS:()=>st(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Qt(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Qt(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:tc(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>st(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>st(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&r_()&&!Eo(e),IS_ASYNC:()=>Eo(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),d_=e=>{const t=st(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},nc=(e,t,n)=>Math.max(Math.min(n,e),t),f_=(e,t,n)=>e.splice(t,0,n),v_=(e,t,n)=>bt(t)?null:typeof n>"u"?(e.push(t),t):(n=nc(n,0,e.length),f_(e,n,t),t),fa=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),ur=e=>e.split("/").pop().split("?").shift(),ii=e=>e.split(".").pop(),m_=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Nn=(e,t="")=>(t+e).slice(-t.length),rc=(e=new Date)=>`${e.getFullYear()}-${Nn(e.getMonth()+1,"00")}-${Nn(e.getDate(),"00")}_${Nn(e.getHours(),"00")}-${Nn(e.getMinutes(),"00")}-${Nn(e.getSeconds(),"00")}`,bn=(e,t,n=null,r=null)=>{const i=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return i.lastModifiedDate=new Date,e._relativePath&&(i._relativePath=e._relativePath),Be(t)||(t=rc()),t&&r===null&&ii(t)?i.name=t:(r=r||m_(i.type),i.name=t+(r?"."+r:"")),i},p_=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,ic=(e,t)=>{const n=p_();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},g_=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return ic(n,t)},ac=e=>(/^data:(.+);/.exec(e)||[])[1]||null,h_=e=>e.split(",")[1].replace(/\s/g,""),__=e=>atob(h_(e)),y_=e=>{const t=ac(e),n=__(e);return g_(n,t)},E_=(e,t,n)=>bn(y_(e),t,null,n),S_=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},T_=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},I_=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,ls=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const i=S_(r);if(i){t.name=i;continue}const a=T_(r);if(a){t.size=a;continue}const s=I_(r);if(s){t.source=s;continue}}return t},b_=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},i=()=>{const o=t.source;s.fire("init",o),o instanceof File?s.fire("load",o):o instanceof Blob?s.fire("load",bn(o,o.name)):fa(o)?s.fire("load",E_(o)):a(o)},a=o=>{if(!e){s.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(o,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=bn(l,l.name||ur(o))),s.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{s.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,u,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=u/c,s.fire("progress",t.progress)},()=>{s.fire("abort")},l=>{const u=ls(typeof l=="string"?l:l.headers);s.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},s={...ri(),setSource:o=>t.source=o,getProgress:n,abort:r,load:i};return s},So=e=>/GET|HEAD/.test(e),Zt=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{i=!0,s.abort()}};let i=!1,a=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),So(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const s=new XMLHttpRequest,o=So(n.method)?s:s.upload;return o.onprogress=l=>{i||r.onprogress(l.lengthComputable,l.loaded,l.total)},s.onreadystatechange=()=>{s.readyState<2||s.readyState===4&&s.status===0||a||(a=!0,r.onheaders(s))},s.onload=()=>{s.status>=200&&s.status<300?r.onload(s):r.onerror(s)},s.onerror=()=>r.onerror(s),s.onabort=()=>{i=!0,r.onabort()},s.ontimeout=()=>r.ontimeout(s),s.open(n.method,t,!0),Dn(n.timeout)&&(s.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const u=unescape(encodeURIComponent(n.headers[l]));s.setRequestHeader(l,u)}),n.responseType&&(s.responseType=n.responseType),n.withCredentials&&(s.withCredentials=!0),s.send(e),r},_e=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),Jt=e=>t=>{e(_e("error",0,"Timeout",t.getAllResponseHeaders()))},To=e=>/\?/.test(e),jn=(...e)=>{let t="";return e.forEach(n=>{t+=To(t)&&To(n)?n.replace(/\?/,"&"):n}),t},Oi=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Be(t.url))return null;const n=t.onload||(i=>i),r=t.onerror||(i=>null);return(i,a,s,o,l,u)=>{const c=Zt(i,jn(e,t.url),{...t,responseType:"blob"});return c.onload=f=>{const d=f.getAllResponseHeaders(),m=ls(d).name||ur(i);a(_e("load",f.status,t.method==="HEAD"?null:bn(n(f.response),m),d))},c.onerror=f=>{s(_e("error",f.status,r(f.response)||f.statusText,f.getAllResponseHeaders()))},c.onheaders=f=>{u(_e("headers",f.status,null,f.getAllResponseHeaders()))},c.ontimeout=Jt(s),c.onprogress=o,c.onabort=l,c}},Ke={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},C_=(e,t,n,r,i,a,s,o,l,u,c)=>{const f=[],{chunkTransferId:d,chunkServer:m,chunkSize:v,chunkRetryDelays:p}=c,y={serverId:d,aborted:!1},g=t.ondata||(P=>P),_=t.onload||((P,F)=>F==="HEAD"?P.getResponseHeader("Upload-Offset"):P.response),E=t.onerror||(P=>null),b=P=>{const F=new FormData;Pe(i)&&F.append(n,JSON.stringify(i));const D=typeof t.headers=="function"?t.headers(r,i):{...t.headers,"Upload-Length":r.size},k={...t,headers:D},M=Zt(g(F),jn(e,t.url),k);M.onload=V=>P(_(V,k.method)),M.onerror=V=>s(_e("error",V.status,E(V.response)||V.statusText,V.getAllResponseHeaders())),M.ontimeout=Jt(s)},I=P=>{const F=jn(e,m.url,y.serverId),k={headers:typeof t.headers=="function"?t.headers(y.serverId):{...t.headers},method:"HEAD"},M=Zt(null,F,k);M.onload=V=>P(_(V,k.method)),M.onerror=V=>s(_e("error",V.status,E(V.response)||V.statusText,V.getAllResponseHeaders())),M.ontimeout=Jt(s)},C=Math.floor(r.size/v);for(let P=0;P<=C;P++){const F=P*v,D=r.slice(F,F+v,"application/offset+octet-stream");f[P]={index:P,size:D.size,offset:F,data:D,file:r,progress:0,retries:[...p],status:Ke.QUEUED,error:null,request:null,timeout:null}}const S=()=>a(y.serverId),T=P=>P.status===Ke.QUEUED||P.status===Ke.ERROR,R=P=>{if(y.aborted)return;if(P=P||f.find(T),!P){f.every(Y=>Y.status===Ke.COMPLETE)&&S();return}P.status=Ke.PROCESSING,P.progress=null;const F=m.ondata||(Y=>Y),D=m.onerror||(Y=>null),k=jn(e,m.url,y.serverId),M=typeof m.headers=="function"?m.headers(P):{...m.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":P.offset,"Upload-Length":r.size,"Upload-Name":r.name},V=P.request=Zt(F(P.data),k,{...m,headers:M});V.onload=()=>{P.status=Ke.COMPLETE,P.request=null,O()},V.onprogress=(Y,j,X)=>{P.progress=Y?j:null,A()},V.onerror=Y=>{P.status=Ke.ERROR,P.request=null,P.error=D(Y.response)||Y.statusText,N(P)||s(_e("error",Y.status,D(Y.response)||Y.statusText,Y.getAllResponseHeaders()))},V.ontimeout=Y=>{P.status=Ke.ERROR,P.request=null,N(P)||Jt(s)(Y)},V.onabort=()=>{P.status=Ke.QUEUED,P.request=null,l()}},N=P=>P.retries.length===0?!1:(P.status=Ke.WAITING,clearTimeout(P.timeout),P.timeout=setTimeout(()=>{R(P)},P.retries.shift()),!0),A=()=>{const P=f.reduce((D,k)=>D===null||k.progress===null?null:D+k.progress,0);if(P===null)return o(!1,0,0);const F=f.reduce((D,k)=>D+k.size,0);o(!0,P,F)},O=()=>{f.filter(F=>F.status===Ke.PROCESSING).length>=1||R()},x=()=>{f.forEach(P=>{clearTimeout(P.timeout),P.request&&P.request.abort()})};return y.serverId?I(P=>{y.aborted||(f.filter(F=>F.offset<P).forEach(F=>{F.status=Ke.COMPLETE,F.progress=F.size}),O())}):b(P=>{y.aborted||(u(P),y.serverId=P,O())}),{abort:()=>{y.aborted=!0,x()}}},R_=(e,t,n,r)=>(i,a,s,o,l,u,c)=>{if(!i)return;const f=r.chunkUploads,d=f&&i.size>r.chunkSize,m=f&&(d||r.chunkForce);if(i instanceof Blob&&m)return C_(e,t,n,i,a,s,o,l,u,c,r);const v=t.ondata||(I=>I),p=t.onload||(I=>I),y=t.onerror||(I=>null),g=typeof t.headers=="function"?t.headers(i,a)||{}:{...t.headers},_={...t,headers:g};var E=new FormData;Pe(a)&&E.append(n,JSON.stringify(a)),(i instanceof Blob?[{name:null,file:i}]:i).forEach(I=>{E.append(n,I.file,I.name===null?I.file.name:`${I.name}${I.file.name}`)});const b=Zt(v(E),jn(e,t.url),_);return b.onload=I=>{s(_e("load",I.status,p(I.response),I.getAllResponseHeaders()))},b.onerror=I=>{o(_e("error",I.status,y(I.response)||I.statusText,I.getAllResponseHeaders()))},b.ontimeout=Jt(o),b.onprogress=l,b.onabort=u,b},O_=(e="",t,n,r)=>typeof t=="function"?(...i)=>t(n,...i,r):!t||!Be(t.url)?null:R_(e,t,n,r),Bn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Be(t.url))return(i,a)=>a();const n=t.onload||(i=>i),r=t.onerror||(i=>null);return(i,a,s)=>{const o=Zt(i,e+t.url,t);return o.onload=l=>{a(_e("load",l.status,n(l.response),l.getAllResponseHeaders()))},o.onerror=l=>{s(_e("error",l.status,r(l.response)||l.statusText,l.getAllResponseHeaders()))},o.ontimeout=Jt(s),o}},sc=(e=0,t=1)=>e+Math.random()*(t-e),w_=(e,t=1e3,n=0,r=25,i=250)=>{let a=null;const s=Date.now(),o=()=>{let l=Date.now()-s,u=sc(r,i);l+u>t&&(u=l+u-t);let c=l/t;if(c>=1||document.hidden){e(1);return}e(c),a=setTimeout(o,u)};return t>0&&o(),{clear:()=>{clearTimeout(a)}}},P_=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,i=(c,f)=>{const d=()=>{n.duration===0||n.progress===null||u.fire("progress",u.getProgress())},m=()=>{n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=w_(v=>{n.perceivedProgress=v,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&m()},r?sc(750,1500):0),n.request=e(c,f,v=>{n.response=Pe(v)?v:{type:"load",code:200,body:`${v}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&m()},v=>{n.perceivedPerformanceUpdater.clear(),u.fire("error",Pe(v)?v:{type:"error",code:0,body:`${v}`})},(v,p,y)=>{n.duration=Date.now()-n.timestamp,n.progress=v?p/y:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)},v=>{u.fire("transfer",v)})},a=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},s=()=>{a(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},o=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,u={...ri(),process:i,abort:a,getProgress:o,getDuration:l,reset:s};return u},oc=e=>e.substring(0,e.lastIndexOf("."))||e,D_=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||fa(e)?t[0]=e.name||rc():fa(e)?(t[1]=e.length,t[2]=ac(e)):Be(e)&&(t[0]=ur(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Cn=e=>!!(e instanceof File||e instanceof Blob&&e.name),lc=e=>{if(!Pe(e))return e;const t=ei(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&Pe(r)?lc(r):r}return t},A_=(e=null,t=null,n=null)=>{const r=as(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?Q.PROCESSING_COMPLETE:Q.INIT,activeLoader:null,activeProcessor:null};let a=null;const s={},o=T=>i.status=T,l=(T,...R)=>{i.released||i.frozen||C.fire(T,...R)},u=()=>ii(i.file.name),c=()=>i.file.type,f=()=>i.file.size,d=()=>i.file,m=(T,R,N)=>{if(i.source=T,C.fireSync("init"),i.file){C.fireSync("load-skip");return}i.file=D_(T),R.on("init",()=>{l("load-init")}),R.on("meta",A=>{i.file.size=A.size,i.file.filename=A.filename,A.source&&(e=Oe.LIMBO,i.serverFileReference=A.source,i.status=Q.PROCESSING_COMPLETE),l("load-meta")}),R.on("progress",A=>{o(Q.LOADING),l("load-progress",A)}),R.on("error",A=>{o(Q.LOAD_ERROR),l("load-request-error",A)}),R.on("abort",()=>{o(Q.INIT),l("load-abort")}),R.on("load",A=>{i.activeLoader=null;const O=P=>{i.file=Cn(P)?P:i.file,e===Oe.LIMBO&&i.serverFileReference?o(Q.PROCESSING_COMPLETE):o(Q.IDLE),l("load")},x=P=>{i.file=A,l("load-meta"),o(Q.LOAD_ERROR),l("load-file-error",P)};if(i.serverFileReference){O(A);return}N(A,O,x)}),R.setSource(T),i.activeLoader=R,R.load()},v=()=>{i.activeLoader&&i.activeLoader.load()},p=()=>{if(i.activeLoader){i.activeLoader.abort();return}o(Q.INIT),l("load-abort")},y=(T,R)=>{if(i.processingAborted){i.processingAborted=!1;return}if(o(Q.PROCESSING),a=null,!(i.file instanceof Blob)){C.on("load",()=>{y(T,R)});return}T.on("load",O=>{i.transferId=null,i.serverFileReference=O}),T.on("transfer",O=>{i.transferId=O}),T.on("load-perceived",O=>{i.activeProcessor=null,i.transferId=null,i.serverFileReference=O,o(Q.PROCESSING_COMPLETE),l("process-complete",O)}),T.on("start",()=>{l("process-start")}),T.on("error",O=>{i.activeProcessor=null,o(Q.PROCESSING_ERROR),l("process-error",O)}),T.on("abort",O=>{i.activeProcessor=null,i.serverFileReference=O,o(Q.IDLE),l("process-abort"),a&&a()}),T.on("progress",O=>{l("process-progress",O)});const N=O=>{i.archived||T.process(O,{...s})},A=console.error;R(i.file,N,A),i.activeProcessor=T},g=()=>{i.processingAborted=!1,o(Q.PROCESSING_QUEUED)},_=()=>new Promise(T=>{if(!i.activeProcessor){i.processingAborted=!0,o(Q.IDLE),l("process-abort"),T();return}a=()=>{T()},i.activeProcessor.abort()}),E=(T,R)=>new Promise((N,A)=>{const O=i.serverFileReference!==null?i.serverFileReference:i.transferId;if(O===null){N();return}T(O,()=>{i.serverFileReference=null,i.transferId=null,N()},x=>{if(!R){N();return}o(Q.PROCESSING_REVERT_ERROR),l("process-revert-error"),A(x)}),o(Q.IDLE),l("process-revert")}),b=(T,R,N)=>{const A=T.split("."),O=A[0],x=A.pop();let P=s;A.forEach(F=>P=P[F]),JSON.stringify(P[x])!==JSON.stringify(R)&&(P[x]=R,l("metadata-update",{key:O,value:s[O],silent:N}))},C={id:{get:()=>r},origin:{get:()=>e,set:T=>e=T},serverId:{get:()=>i.serverFileReference},transferId:{get:()=>i.transferId},status:{get:()=>i.status},filename:{get:()=>i.file.name},filenameWithoutExtension:{get:()=>oc(i.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:f},file:{get:d},relativePath:{get:()=>i.file._relativePath},source:{get:()=>i.source},getMetadata:T=>lc(T?s[T]:s),setMetadata:(T,R,N)=>{if(Pe(T)){const A=T;return Object.keys(A).forEach(O=>{b(O,A[O],R)}),T}return b(T,R,N),R},extend:(T,R)=>S[T]=R,abortLoad:p,retryLoad:v,requestProcessing:g,abortProcessing:_,load:m,process:y,revert:E,...ri(),freeze:()=>i.frozen=!0,release:()=>i.released=!0,released:{get:()=>i.released},archive:()=>i.archived=!0,archived:{get:()=>i.archived}},S=Bt(C);return S},M_=(e,t)=>bt(t)?0:Be(t)?e.findIndex(n=>n.id===t):-1,Io=(e,t)=>{const n=M_(e,t);if(!(n<0))return e[n]||null},bo=(e,t,n,r,i,a)=>{const s=Zt(null,e,{method:"GET",responseType:"blob"});return s.onload=o=>{const l=o.getAllResponseHeaders(),u=ls(l).name||ur(e);t(_e("load",o.status,bn(o.response,u),l))},s.onerror=o=>{n(_e("error",o.status,o.statusText,o.getAllResponseHeaders()))},s.onheaders=o=>{a(_e("headers",o.status,null,o.getAllResponseHeaders()))},s.ontimeout=Jt(n),s.onprogress=r,s.onabort=i,s},Co=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),L_=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Co(location.href)!==Co(e),hr=e=>(...t)=>Xt(e)?e(...t):e,x_=e=>!Cn(e.file),wi=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:st(t.items)})},0)},Ro=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),Pi=(e,t)=>{e.items.sort((n,r)=>t($e(n),$e(r)))},Ze=(e,t)=>({query:n,success:r=()=>{},failure:i=()=>{},...a}={})=>{const s=Qt(e.items,n);if(!s){i({error:_e("error",0,"Item not found"),file:null});return}t(s,r,i,a||{})},k_=(e,t,n)=>({ABORT_ALL:()=>{st(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const i=r.map(s=>({source:s.source?s.source:s,options:s.options}));let a=st(n.items);a.forEach(s=>{i.find(o=>o.source===s.source||o.source===s.file)||e("REMOVE_ITEM",{query:s,remove:!1})}),a=st(n.items),i.forEach((s,o)=>{a.find(l=>l.source===s.source||l.file===s.source)||e("ADD_ITEM",{...s,interactionMethod:et.NONE,index:o})})},DID_UPDATE_ITEM_METADATA:({id:r,action:i,change:a})=>{a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const s=Io(n.items,r);if(!t("IS_ASYNC")){at("SHOULD_PREPARE_OUTPUT",!1,{item:s,query:t,action:i,change:a}).then(c=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(c=f(s,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:s,success:d=>{e("DID_PREPARE_OUTPUT",{id:r,file:d})}},!0)});return}s.origin===Oe.LOCAL&&e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.source});const o=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},l=c=>{s.revert(Bn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?o:()=>{}).catch(()=>{})},u=c=>{s.abortProcessing().then(c?o:()=>{})};if(s.status===Q.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(s.status===Q.PROCESSING)return u(n.options.instantUpload);n.options.instantUpload&&o()},0))},MOVE_ITEM:({query:r,index:i})=>{const a=Qt(n.items,r);if(!a)return;const s=n.items.indexOf(a);i=nc(i,0,n.items.length-1),s!==i&&n.items.splice(i,0,n.items.splice(s,1)[0])},SORT:({compare:r})=>{Pi(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:i,interactionMethod:a,success:s=()=>{},failure:o=()=>{}})=>{let l=i;if(i===-1||typeof i>"u"){const m=t("GET_ITEM_INSERT_LOCATION"),v=t("GET_TOTAL_ITEMS");l=m==="before"?0:v}const u=t("GET_IGNORED_FILES"),c=m=>Cn(m)?!u.includes(m.name.toLowerCase()):!bt(m),d=r.filter(c).map(m=>new Promise((v,p)=>{e("ADD_ITEM",{interactionMethod:a,source:m.source||m,success:v,failure:p,index:l++,options:m.options||{}})}));Promise.all(d).then(s).catch(o)},ADD_ITEM:({source:r,index:i=-1,interactionMethod:a,success:s=()=>{},failure:o=()=>{},options:l={}})=>{if(bt(r)){o({error:_e("error",0,"No source"),file:null});return}if(Cn(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!d_(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const _=_e("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:_}),o({error:_,file:null});return}const g=st(n.items)[0];if(g.status===Q.PROCESSING_COMPLETE||g.status===Q.PROCESSING_REVERT_ERROR){const _=t("GET_FORCE_REVERT");if(g.revert(Bn(n.options.server.url,n.options.server.revert),_).then(()=>{_&&e("ADD_ITEM",{source:r,index:i,interactionMethod:a,success:s,failure:o,options:l})}).catch(()=>{}),_)return}e("REMOVE_ITEM",{query:g.id})}const u=l.type==="local"?Oe.LOCAL:l.type==="limbo"?Oe.LIMBO:Oe.INPUT,c=A_(u,u===Oe.INPUT?null:r,l.file);Object.keys(l.metadata||{}).forEach(g=>{c.setMetadata(g,l.metadata[g])}),dn("DID_CREATE_ITEM",c,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(i=f==="before"?-1:n.items.length),v_(n.items,c,i),Xt(f)&&r&&Pi(n,f);const d=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:d})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:d})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:d})}),c.on("load-progress",g=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:g})}),c.on("load-request-error",g=>{const _=hr(n.options.labelFileLoadError)(g);if(g.code>=400&&g.code<500){e("DID_THROW_ITEM_INVALID",{id:d,error:g,status:{main:_,sub:`${g.code} (${g.body})`}}),o({error:g,file:$e(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:g,status:{main:_,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",g=>{e("DID_THROW_ITEM_INVALID",{id:d,error:g.status,status:g.status}),o({error:g.status,file:$e(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:d})}),c.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:s}})}),c.on("load",()=>{const g=_=>{if(!_){e("REMOVE_ITEM",{query:d});return}c.on("metadata-update",E=>{e("DID_UPDATE_ITEM_METADATA",{id:d,change:E})}),at("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(E=>{const b=t("GET_BEFORE_PREPARE_FILE");b&&(E=b(c,E));const I=()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:s}}),wi(e,n)};if(E){e("REQUEST_PREPARE_OUTPUT",{query:d,item:c,success:C=>{e("DID_PREPARE_OUTPUT",{id:d,file:C}),I()}},!0);return}I()})};at("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{Ro(t("GET_BEFORE_ADD_FILE"),$e(c)).then(g)}).catch(_=>{if(!_||!_.error||!_.status)return g(!1);e("DID_THROW_ITEM_INVALID",{id:d,error:_.error,status:_.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:d})}),c.on("process-progress",g=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:g})}),c.on("process-error",g=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:g,status:{main:hr(n.options.labelFileProcessingError)(g),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",g=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:g,status:{main:hr(n.options.labelFileProcessingRevertError)(g),sub:n.options.labelTapToRetry}})}),c.on("process-complete",g=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:g}),e("DID_DEFINE_VALUE",{id:d,value:g})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:d})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:d}),e("DID_DEFINE_VALUE",{id:d,value:null})}),e("DID_ADD_ITEM",{id:d,index:i,interactionMethod:a}),wi(e,n);const{url:m,load:v,restore:p,fetch:y}=n.options.server||{};c.load(r,b_(u===Oe.INPUT?Be(r)&&L_(r)&&y?Oi(m,y):bo:u===Oe.LIMBO?Oi(m,p):Oi(m,v)),(g,_,E)=>{at("LOAD_FILE",g,{query:t}).then(_).catch(E)})},REQUEST_PREPARE_OUTPUT:({item:r,success:i,failure:a=()=>{}})=>{const s={error:_e("error",0,"Item not found"),file:null};if(r.archived)return a(s);at("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(o=>{at("COMPLETE_PREPARE_OUTPUT",o,{query:t,item:r}).then(l=>{if(r.archived)return a(s);i(l)})})},COMPLETE_LOAD_ITEM:({item:r,data:i})=>{const{success:a,source:s}=i,o=t("GET_ITEM_INSERT_LOCATION");if(Xt(o)&&s&&Pi(n,o),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===Oe.INPUT?null:s}),a($e(r)),r.origin===Oe.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===Oe.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||s});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:Ze(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:Ze(n,(r,i,a)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:s=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:s}),i({file:r,output:s})},failure:a},!0)}),REQUEST_ITEM_PROCESSING:Ze(n,(r,i,a)=>{if(!(r.status===Q.IDLE||r.status===Q.PROCESSING_ERROR)){const o=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:a}),l=()=>document.hidden?o():setTimeout(o,32);r.status===Q.PROCESSING_COMPLETE||r.status===Q.PROCESSING_REVERT_ERROR?r.revert(Bn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):r.status===Q.PROCESSING&&r.abortProcessing().then(l);return}r.status!==Q.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:i,failure:a},!0))}),PROCESS_ITEM:Ze(n,(r,i,a)=>{const s=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",Q.PROCESSING).length===s){n.processingQueue.push({id:r.id,success:i,failure:a});return}if(r.status===Q.PROCESSING)return;const l=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:f,success:d,failure:m}=c,v=Qt(n.items,f);if(!v||v.archived){l();return}e("PROCESS_ITEM",{query:f,success:d,failure:m},!0)};r.onOnce("process-complete",()=>{i($e(r)),l();const c=n.options.server;if(n.options.instantUpload&&r.origin===Oe.LOCAL&&Xt(c.remove)){const m=()=>{};r.origin=Oe.LIMBO,n.options.server.remove(r.source,m,m)}t("GET_ITEMS_BY_STATUS",Q.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",c=>{a({error:c,file:$e(r)}),l()});const u=n.options;r.process(P_(O_(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,f,d)=>{at("PREPARE_OUTPUT",c,{query:t,item:r}).then(m=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:m}),f(m)}).catch(d)})}),RETRY_ITEM_PROCESSING:Ze(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:Ze(n,r=>{Ro(t("GET_BEFORE_REMOVE_FILE"),$e(r)).then(i=>{i&&e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:Ze(n,r=>{r.release()}),REMOVE_ITEM:Ze(n,(r,i,a,s)=>{const o=()=>{const u=r.id;Io(n.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:r}),wi(e,n),i($e(r))},l=n.options.server;r.origin===Oe.LOCAL&&l&&Xt(l.remove)&&s.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,()=>o(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:_e("error",0,u,null),status:{main:hr(n.options.labelFileRemoveError)(u),sub:n.options.labelTapToRetry}})})):((s.revert&&r.origin!==Oe.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(Bn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),o())}),ABORT_ITEM_LOAD:Ze(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:Ze(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ze(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const i=o=>{o&&e("REVERT_ITEM_PROCESSING",{query:r})},a=t("GET_BEFORE_REMOVE_FILE");if(!a)return i(!0);const s=a($e(r));if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),REVERT_ITEM_PROCESSING:Ze(n,r=>{r.revert(Bn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||x_(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const i=Object.keys(r),a=N_.filter(o=>i.includes(o));[...a,...Object.keys(r).filter(o=>!a.includes(o))].forEach(o=>{e(`SET_${ni(o,"_").toUpperCase()}`,{value:r[o]})})}}),N_=["server"],us=e=>e,Ct=e=>document.createElement(e),ye=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Oo=(e,t,n,r)=>{const i=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}},B_=(e,t,n,r,i,a)=>{const s=Oo(e,t,n,i),o=Oo(e,t,n,r);return["M",s.x,s.y,"A",n,n,0,a,0,o.x,o.y].join(" ")},G_=(e,t,n,r,i)=>{let a=1;return i>r&&i-r<=.5&&(a=0),r>i&&r-i>=.5&&(a=0),B_(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,i)*360,a)},V_=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=Nr("svg");e.ref.path=Nr("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},$_=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(Ie(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let i=0,a=0;t.spin?(i=0,a=.5):(i=0,a=t.progress);const s=G_(r,r,r-n,i,a);Ie(e.ref.path,"d",s),Ie(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},wo=be({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:V_,write:$_,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),F_=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},U_=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,Ie(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},uc=be({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:F_,write:U_}),cc=(e,t=".",n=1e3,r={})=>{const{labelBytes:i="bytes",labelKilobytes:a="KB",labelMegabytes:s="MB",labelGigabytes:o="GB"}=r;e=Math.round(Math.abs(e));const l=n,u=n*n,c=n*n*n;return e<l?`${e} ${i}`:e<u?`${Math.floor(e/l)} ${a}`:e<c?`${Po(e/u,1,t)} ${s}`:`${Po(e/c,2,t)} ${o}`},Po=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),H_=({root:e,props:t})=>{const n=Ct("span");n.className="filepond--file-info-main",Ie(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=Ct("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,ye(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),ye(n,us(e.query("GET_ITEM_NAME",t.id)))},va=({root:e,props:t})=>{ye(e.ref.fileSize,cc(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),ye(e.ref.fileName,us(e.query("GET_ITEM_NAME",t.id)))},Do=({root:e,props:t})=>{if(Dn(e.query("GET_ITEM_SIZE",t.id))){va({root:e,props:t});return}ye(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Y_=be({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ge({DID_LOAD_ITEM:va,DID_UPDATE_ITEM_META:va,DID_THROW_ITEM_LOAD_ERROR:Do,DID_THROW_ITEM_INVALID:Do}),didCreateView:e=>{dn("CREATE_VIEW",{...e,view:e})},create:H_,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),dc=e=>Math.round(e*100),z_=({root:e})=>{const t=Ct("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=Ct("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,fc({root:e,action:{progress:null}})},fc=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${dc(t.progress)}%`;ye(e.ref.main,n),ye(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},q_=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${dc(t.progress)}%`;ye(e.ref.main,n),ye(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},j_=({root:e})=>{ye(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),ye(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},W_=({root:e})=>{ye(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),ye(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},X_=({root:e})=>{ye(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),ye(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Ao=({root:e})=>{ye(e.ref.main,""),ye(e.ref.sub,"")},Gn=({root:e,action:t})=>{ye(e.ref.main,t.status.main),ye(e.ref.sub,t.status.sub)},Q_=be({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ge({DID_LOAD_ITEM:Ao,DID_REVERT_ITEM_PROCESSING:Ao,DID_REQUEST_ITEM_PROCESSING:j_,DID_ABORT_ITEM_PROCESSING:W_,DID_COMPLETE_ITEM_PROCESSING:X_,DID_UPDATE_ITEM_PROCESS_PROGRESS:q_,DID_UPDATE_ITEM_LOAD_PROGRESS:fc,DID_THROW_ITEM_LOAD_ERROR:Gn,DID_THROW_ITEM_INVALID:Gn,DID_THROW_ITEM_PROCESSING_ERROR:Gn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Gn,DID_THROW_ITEM_REMOVE_ERROR:Gn}),didCreateView:e=>{dn("CREATE_VIEW",{...e,view:e})},create:z_,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),ma={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},pa=[];ge(ma,e=>{pa.push(e)});const ze=e=>{if(ga(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},K_=e=>e.ref.buttonAbortItemLoad.rect.element.width,_r=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Z_=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),J_=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),ey=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),ga=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),ty={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:J_},processProgressIndicator:{opacity:0,align:ey},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Mo={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ze},status:{translateX:ze}},Di={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},En={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ze},status:{translateX:ze,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ze},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ga},info:{translateX:ze},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ga},buttonRemoveItem:{opacity:1},info:{translateX:ze},status:{opacity:1,translateX:ze}},DID_LOAD_ITEM:Mo,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ze},status:{translateX:ze}},DID_START_ITEM_PROCESSING:Di,DID_REQUEST_ITEM_PROCESSING:Di,DID_UPDATE_ITEM_PROCESS_PROGRESS:Di,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ze}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ze},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Mo},ny=be({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),ry=({root:e,props:t})=>{const n=Object.keys(ma).reduce((v,p)=>(v[p]={...ma[p]},v),{}),{id:r}=t,i=e.query("GET_ALLOW_REVERT"),a=e.query("GET_ALLOW_REMOVE"),s=e.query("GET_ALLOW_PROCESS"),o=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;l?s&&!i?c=v=>!/RevertItemProcessing/.test(v):!s&&i?c=v=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(v):!s&&!i&&(c=v=>!/Process/.test(v)):c=v=>!/Process/.test(v);const f=c?pa.filter(c):pa.concat();if(o&&i&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!i){const v=En.DID_COMPLETE_ITEM_PROCESSING;v.info.translateX=Z_,v.info.translateY=_r,v.status.translateY=_r,v.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(v=>{En[v].status.translateY=_r}),En.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=K_),u&&i){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const v=En.DID_COMPLETE_ITEM_PROCESSING;v.info.translateX=ze,v.status.translateY=_r,v.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(n.RemoveItem.disabled=!0),ge(n,(v,p)=>{const y=e.createChildView(uc,{label:e.query(p.label),icon:e.query(p.icon),opacity:0});f.includes(v)&&e.appendChildView(y),p.disabled&&(y.element.setAttribute("disabled","disabled"),y.element.setAttribute("hidden","hidden")),y.element.dataset.align=e.query(`GET_STYLE_${p.align}`),y.element.classList.add(p.className),y.on("click",g=>{g.stopPropagation(),!p.disabled&&e.dispatch(p.action,{query:r})}),e.ref[`button${v}`]=y}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(ny)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(Y_,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Q_,{id:r}));const d=e.appendChildView(e.createChildView(wo,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=d;const m=e.appendChildView(e.createChildView(wo,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=m,e.ref.activeStyles=[]},iy=({root:e,actions:t,props:n})=>{ay({root:e,actions:t,props:n});let r=t.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>En[i.type]);if(r){e.ref.activeStyles=[];const i=En[r.type];ge(ty,(a,s)=>{const o=e.ref[a];ge(s,(l,u)=>{const c=i[a]&&typeof i[a][l]<"u"?i[a][l]:u;e.ref.activeStyles.push({control:o,key:l,value:c})})})}e.ref.activeStyles.forEach(({control:i,key:a,value:s})=>{i[a]=typeof s=="function"?s(e):s})},ay=Ge({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),sy=be({create:ry,write:iy,didCreateView:e=>{dn("CREATE_VIEW",{...e,view:e})},name:"file"}),oy=({root:e,props:t})=>{e.ref.fileName=Ct("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(sy,{id:t.id})),e.ref.data=!1},ly=({root:e,props:t})=>{ye(e.ref.fileName,us(e.query("GET_ITEM_NAME",t.id)))},uy=be({create:oy,ignoreRect:!0,write:Ge({DID_LOAD_ITEM:ly}),didCreateView:e=>{dn("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Lo={type:"spring",damping:.6,mass:7},cy=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Lo},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Lo},styles:["translateY"]}}].forEach(n=>{dy(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},dy=(e,t,n)=>{const r=be({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),i=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(i)},fy=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=Wu(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,i=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(i-n.height-r.height)/100,e.ref.bottom.translateY=i-r.height},vc=be({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:fy,create:cy,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),vy=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},xo={type:"spring",stiffness:.75,damping:.45,mass:10},ko="spring",No={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},my=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(uy,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(vc,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let i=!1;const a={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const s=vy(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:s});const o=u=>{if(!u.isPrimary)return;u.stopPropagation(),u.preventDefault(),t.dragOffset={x:u.pageX-a.x,y:u.pageY-a.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!i&&(i=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:s})},l=u=>{u.isPrimary&&(document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",l),t.dragOffset={x:u.pageX-a.x,y:u.pageY-a.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:s}),i&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",o),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},py=Ge({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),gy=Ge({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let i=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>No[s.type]);i&&i.type!==n.currentState&&(n.currentState=i.type,e.element.dataset.filepondItemState=No[n.currentState]||"");const a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?r||(e.height=e.rect.element.width*a):(py({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),hy=be({create:my,write:gy,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ko,scaleY:ko,translateX:xo,translateY:xo,opacity:{type:"tween",duration:150}}}});var cs=(e,t)=>Math.max(1,Math.floor((e+1)/t));const ds=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,i=t.length;let a=null;if(i===0||n.top<t[0].rect.element.top)return-1;const o=t[0].rect.element,l=o.marginLeft+o.marginRight,u=o.width+l,c=cs(r,u);if(c===1){for(let m=0;m<i;m++){const v=t[m],p=v.rect.outer.top+v.rect.element.height*.5;if(n.top<p)return m}return i}const f=o.marginTop+o.marginBottom,d=o.height+f;for(let m=0;m<i;m++){const v=m%c,p=Math.floor(m/c),y=v*u,g=p*d,_=g-o.marginTop,E=y+u,b=g+d+o.marginBottom;if(n.top<b&&n.top>_){if(n.left<E)return m;m!==i-1?a=m:a=null}}return a!==null?a:i},yr={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},_y=({root:e})=>{Ie(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},yy=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:i}=t;e.ref.addIndex=r;const a=Date.now();let s=a,o=1;if(i!==et.NONE){o=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),u=a-e.ref.lastItemSpanwDate;s=u<l?a+(l-u):a}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(hy,{spawnDate:s,id:n,opacity:o,interactionMethod:i}),r)},Bo=(e,t,n,r=0,i=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Ey(e,t,n,r,i),e.scaleX=1,e.scaleY=1,e.opacity=1))},Ey=(e,t,n,r,i)=>{e.interactionMethod===et.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===et.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-i*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===et.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===et.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Sy=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(i=>i.id===n);r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},Ai=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,Ty=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Iy=({root:e,action:t})=>{const{id:n,dragState:r}=t,i=e.query("GET_ITEM",{id:n}),a=e.childViews.find(y=>y.id===n),s=e.childViews.length,o=r.getItemIndex(i);if(!a)return;const l={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},u=Ai(a),c=Ty(a);let f=Math.floor(e.rect.outer.width/c);f>s&&(f=s);const d=Math.floor(s/f+1);yr.setHeight=u*d,yr.setWidth=c*f;var m={y:Math.floor(l.y/u),x:Math.floor(l.x/c),getGridIndex:function(){return l.y>yr.getHeight||l.y<0||l.x>yr.getWidth||l.x<0?o:this.y*f+this.x},getColIndex:function(){const g=e.query("GET_ACTIVE_ITEMS"),_=e.childViews.filter(A=>A.rect.element.height),E=g.map(A=>_.find(O=>O.id===A.id)),b=E.findIndex(A=>A===a),I=Ai(a),C=E.length;let S=C,T=0,R=0,N=0;for(let A=0;A<C;A++)if(T=Ai(E[A]),N=R,R=N+T,l.y<R){if(b>A){if(l.y<N+I){S=A;break}continue}S=A;break}return S}};const v=f>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:v});const p=r.getIndex();if(p===void 0||p!==v){if(r.setIndex(v),p===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:o,target:v})}},by=Ge({DID_ADD_ITEM:yy,DID_REMOVE_ITEM:Sy,DID_DRAG_ITEM:Iy}),Cy=({root:e,props:t,actions:n,shouldOptimize:r})=>{by({root:e,props:t,actions:n});const{dragCoordinates:i}=t,a=e.rect.element.width,s=e.childViews.filter(E=>E.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(E=>s.find(b=>b.id===E.id)).filter(E=>E),l=i?ds(e,o,i):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,f=0,d=0;if(o.length===0)return;const m=o[0].rect.element,v=m.marginTop+m.marginBottom,p=m.marginLeft+m.marginRight,y=m.width+p,g=m.height+v,_=cs(a,y);if(_===1){let E=0,b=0;o.forEach((I,C)=>{if(l){let R=C-l;R===-2?b=-v*.25:R===-1?b=-v*.75:R===0?b=v*.75:R===1?b=v*.25:b=0}r&&(I.translateX=null,I.translateY=null),I.markedForRemoval||Bo(I,0,E+b);let T=(I.rect.element.height+v)*(I.markedForRemoval?I.opacity:1);E+=T})}else{let E=0,b=0;o.forEach((I,C)=>{C===l&&(c=1),C===u&&(d+=1),I.markedForRemoval&&I.opacity<.5&&(f-=1);const S=C+d+c+f,T=S%_,R=Math.floor(S/_),N=T*y,A=R*g,O=Math.sign(N-E),x=Math.sign(A-b);E=N,b=A,!I.markedForRemoval&&(r&&(I.translateX=null,I.translateY=null),Bo(I,N,A,O,x))})}},Ry=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Oy=be({create:_y,write:Cy,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Ry,mixins:{apis:["dragCoordinates"]}}),wy=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Oy)),t.dragCoordinates=null,t.overflowing=!1},Py=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Dy=({props:e})=>{e.dragCoordinates=null},Ay=Ge({DID_DRAG:Py,DID_END_DRAG:Dy}),My=({root:e,props:t,actions:n})=>{if(Ay({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},Ly=be({create:wy,write:My,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),ot=(e,t,n,r="")=>{n?Ie(e,t,r):e.removeAttribute(t)},xy=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Ct("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},ky=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,Ie(e.element,"name",e.query("GET_NAME")),Ie(e.element,"aria-controls",`filepond--assistant-${t.id}`),Ie(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),mc({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),pc({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),gc({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),ha({root:e}),hc({root:e,action:{value:e.query("GET_REQUIRED")}}),_c({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(i=>(i._relativePath=i.webkitRelativePath,i));setTimeout(()=>{t.onload(r),xy(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},mc=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&ot(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},pc=({root:e,action:t})=>{ot(e.element,"multiple",t.value)},gc=({root:e,action:t})=>{ot(e.element,"webkitdirectory",t.value)},ha=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;ot(e.element,"disabled",r)},hc=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&ot(e.element,"required",!0):ot(e.element,"required",!1)},_c=({root:e,action:t})=>{ot(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Go=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(ot(t,"required",!1),ot(t,"name",!1)):(ot(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&ot(t,"required",!0))},Ny=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},By=be({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:ky,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Ge({DID_LOAD_ITEM:Go,DID_REMOVE_ITEM:Go,DID_THROW_ITEM_INVALID:Ny,DID_SET_DISABLED:ha,DID_SET_ALLOW_BROWSE:ha,DID_SET_ALLOW_DIRECTORIES_ONLY:gc,DID_SET_ALLOW_MULTIPLE:pc,DID_SET_ACCEPTED_FILE_TYPES:mc,DID_SET_CAPTURE_METHOD:_c,DID_SET_REQUIRED:hc})}),Vo={ENTER:13,SPACE:32},Gy=({root:e,props:t})=>{const n=Ct("label");Ie(n,"for",`filepond--browser-${t.id}`),Ie(n,"id",`filepond--drop-label-${t.id}`),Ie(n,"aria-hidden","true"),e.ref.handleKeyDown=r=>{(r.keyCode===Vo.ENTER||r.keyCode===Vo.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),yc(n,t.caption),e.appendChild(n),e.ref.label=n},yc=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&Ie(n,"tabindex","0"),t},Vy=be({name:"drop-label",ignoreRect:!0,create:Gy,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Ge({DID_SET_LABEL_IDLE:({root:e,action:t})=>{yc(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),$y=be({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Fy=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView($y,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},Uy=({root:e,action:t})=>{if(!e.ref.blob){Fy({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},Hy=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Yy=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},zy=({root:e,props:t,actions:n})=>{qy({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},qy=Ge({DID_DRAG:Uy,DID_DROP:Yy,DID_END_DRAG:Hy}),jy=be({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:zy}),Ec=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},Wy=({root:e})=>e.ref.fields={},ai=(e,t)=>e.ref.fields[t],fs=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},$o=({root:e})=>fs(e),Xy=({root:e,action:t})=>{const i=!(e.query("GET_ITEM",t.id).origin===Oe.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),a=Ct("input");a.type=i?"file":"hidden",a.name=e.query("GET_NAME"),a.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=a,fs(e)},Qy=({root:e,action:t})=>{const n=ai(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);Ec(n,[r.file])},Ky=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=ai(e,t.id);n&&Ec(n,[t.file])},0)},Zy=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},Jy=({root:e,action:t})=>{const n=ai(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},eE=({root:e,action:t})=>{const n=ai(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.value=t.value,fs(e))},tE=Ge({DID_SET_DISABLED:Zy,DID_ADD_ITEM:Xy,DID_LOAD_ITEM:Qy,DID_REMOVE_ITEM:Jy,DID_DEFINE_VALUE:eE,DID_PREPARE_OUTPUT:Ky,DID_REORDER_ITEMS:$o,DID_SORT_ITEMS:$o}),nE=be({tag:"fieldset",name:"data",create:Wy,write:tE,ignoreRect:!0}),rE=e=>"getRootNode"in e?e.getRootNode():document,iE=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],aE=["css","csv","html","txt"],sE={zip:"zip|compressed",epub:"application/epub+zip"},Sc=(e="")=>(e=e.toLowerCase(),iE.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):aE.includes(e)?"text/"+e:sE[e]||""),vs=e=>new Promise((t,n)=>{const r=mE(e);if(r.length&&!oE(e))return t(r);lE(e).then(t)}),oE=e=>e.files?e.files.length>0:!1,lE=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(i=>uE(i)).map(i=>cE(i));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(i=>{const a=[];i.forEach(s=>{a.push.apply(a,s)}),t(a.filter(s=>s).map(s=>(s._relativePath||(s._relativePath=s.webkitRelativePath),s)))}).catch(console.error)}),uE=e=>{if(Tc(e)){const t=ms(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},cE=e=>new Promise((t,n)=>{if(vE(e)){dE(ms(e)).then(t).catch(n);return}t([e.getAsFile()])}),dE=e=>new Promise((t,n)=>{const r=[];let i=0,a=0;const s=()=>{a===0&&i===0&&t(r)},o=l=>{i++;const u=l.createReader(),c=()=>{u.readEntries(f=>{if(f.length===0){i--,s();return}f.forEach(d=>{d.isDirectory?o(d):(a++,d.file(m=>{const v=fE(m);d.fullPath&&(v._relativePath=d.fullPath),r.push(v),a--,s()}))}),c()},n)};c()};o(e)}),fE=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=Sc(ii(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},vE=e=>Tc(e)&&(ms(e)||{}).isDirectory,Tc=e=>"webkitGetAsEntry"in e,ms=e=>e.webkitGetAsEntry(),mE=e=>{let t=[];try{if(t=gE(e),t.length)return t;t=pE(e)}catch{}return t},pE=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},gE=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Gr=[],en=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),hE=(e,t,n)=>{const r=_E(t),i={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return i.destroy=r.addListener(i),i},_E=e=>{const t=Gr.find(r=>r.element===e);if(t)return t;const n=yE(e);return Gr.push(n),n},yE=e=>{const t=[],n={dragenter:SE,dragover:TE,dragleave:bE,drop:IE},r={};ge(n,(a,s)=>{r[a]=s(e,t),e.addEventListener(a,r[a],!1)});const i={element:e,addListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1),t.length===0&&(Gr.splice(Gr.indexOf(i),1),ge(n,s=>{e.removeEventListener(s,r[s],!1)}))})};return i},EE=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),ps=(e,t)=>{const n=rE(t),r=EE(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)};let Ic=null;const Er=(e,t)=>{try{e.dropEffect=t}catch{}},SE=(e,t)=>n=>{n.preventDefault(),Ic=n.target,t.forEach(r=>{const{element:i,onenter:a}=r;ps(n,i)&&(r.state="enter",a(en(n)))})},TE=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;vs(r).then(i=>{let a=!1;t.some(s=>{const{filterElement:o,element:l,onenter:u,onexit:c,ondrag:f,allowdrop:d}=s;Er(r,"copy");const m=d(i);if(!m){Er(r,"none");return}if(ps(n,l)){if(a=!0,s.state===null){s.state="enter",u(en(n));return}if(s.state="over",o&&!m){Er(r,"none");return}f(en(n))}else o&&!a&&Er(r,"none"),s.state&&(s.state=null,c(en(n)))})})},IE=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;vs(r).then(i=>{t.forEach(a=>{const{filterElement:s,element:o,ondrop:l,onexit:u,allowdrop:c}=a;if(a.state=null,!(s&&!ps(n,o))){if(!c(i))return u(en(n));l(en(n),i)}})})},bE=(e,t)=>n=>{Ic===n.target&&t.forEach(r=>{const{onexit:i}=r;r.state=null,i(en(n))})},CE=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:i,filterItems:a=c=>c}=n,s=hE(e,r?document.documentElement:e,i);let o="",l="";s.allowdrop=c=>t(a(c)),s.ondrop=(c,f)=>{const d=a(f);if(!t(d)){u.ondragend(c);return}l="drag-drop",u.onload(d,c)},s.ondrag=c=>{u.ondrag(c)},s.onenter=c=>{l="drag-over",u.ondragstart(c)},s.onexit=c=>{l="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{o!==l&&(e.dataset.hopperState=l,o=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return u};let _a=!1;const Sn=[],bc=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,r=t;for(;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}vs(e.clipboardData).then(n=>{n.length&&Sn.forEach(r=>r(n))})},RE=e=>{Sn.includes(e)||(Sn.push(e),!_a&&(_a=!0,document.addEventListener("paste",bc)))},OE=e=>{ss(Sn,Sn.indexOf(e)),Sn.length===0&&(document.removeEventListener("paste",bc),_a=!1)},wE=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{OE(e)},onload:()=>{}};return RE(e),t},PE=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,Ie(e.element,"role","status"),Ie(e.element,"aria-live","polite"),Ie(e.element,"aria-relevant","additions")};let Fo=null,Uo=null;const Mi=[],si=(e,t)=>{e.element.textContent=t},DE=e=>{e.element.textContent=""},Cc=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");si(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Uo),Uo=setTimeout(()=>{DE(e)},1500)},Rc=e=>e.element.parentNode.contains(document.activeElement),AE=({root:e,action:t})=>{if(!Rc(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);Mi.push(n.filename),clearTimeout(Fo),Fo=setTimeout(()=>{Cc(e,Mi.join(", "),e.query("GET_LABEL_FILE_ADDED")),Mi.length=0},750)},ME=({root:e,action:t})=>{if(!Rc(e))return;const n=t.item;Cc(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},LE=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");si(e,`${r} ${i}`)},Ho=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");si(e,`${r} ${i}`)},Sr=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;si(e,`${t.status.main} ${r} ${t.status.sub}`)},xE=be({create:PE,ignoreRect:!0,ignoreRectUpdate:!0,write:Ge({DID_LOAD_ITEM:AE,DID_REMOVE_ITEM:ME,DID_COMPLETE_ITEM_PROCESSING:LE,DID_ABORT_ITEM_PROCESSING:Ho,DID_REVERT_ITEM_PROCESSING:Ho,DID_THROW_ITEM_REMOVE_ERROR:Sr,DID_THROW_ITEM_LOAD_ERROR:Sr,DID_THROW_ITEM_INVALID:Sr,DID_THROW_ITEM_PROCESSING_ERROR:Sr}),tag:"span",name:"assistant"}),Oc=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),wc=(e,t=16,n=!0)=>{let r=Date.now(),i=null;return(...a)=>{clearTimeout(i);const s=Date.now()-r,o=()=>{r=Date.now(),e(...a)};s<t?n||(i=setTimeout(o,t-s)):o()}},kE=1e6,Vr=e=>e.preventDefault(),NE=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(Vy,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Ly,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(vc,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(xE,{...t})),e.ref.data=e.appendChildView(e.createChildView(nE,{...t})),e.ref.measure=Ct("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!bt(l.value)).map(({name:l,value:u})=>{e.element.dataset[l]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=wc(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!i&&(e.element.addEventListener("touchmove",Vr,{passive:!1}),e.element.addEventListener("gesturestart",Vr));const s=e.query("GET_CREDITS");if(s.length===2){const l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=s[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=s[1],e.element.appendChild(l),e.ref.credits=l}},BE=({root:e,props:t,actions:n})=>{if(UE({root:e,props:t,actions:n}),n.filter(C=>/^DID_SET_STYLE_/.test(C.type)).filter(C=>!bt(C.data.value)).map(({type:C,data:S})=>{const T=Oc(C.substring(8).toLowerCase(),"_");e.element.dataset[T]=S.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=$E(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:i,label:a,list:s,panel:o}=e.ref;i&&i.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),f=u?e.query("GET_MAX_FILES")||kE:1,d=c===f,m=n.find(C=>C.type==="DID_ADD_ITEM");if(d&&m){const C=m.data.interactionMethod;a.opacity=0,u?a.translateY=-40:C===et.API?a.translateX=40:C===et.BROWSE?a.translateY=40:a.translateY=30}else d||(a.opacity=1,a.translateX=0,a.translateY=0);const v=GE(e),p=VE(e),y=a.rect.element.height,g=!u||d?0:y,_=d?s.rect.element.marginTop:0,E=c===0?0:s.rect.element.marginBottom,b=g+_+p.visual+E,I=g+_+p.bounds+E;if(s.translateY=Math.max(0,g-s.rect.element.marginTop)-v.top,l){const C=e.rect.element.width,S=C*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const T=e.ref.updateHistory;T.push(C);const R=2;if(T.length>R*2){const A=T.length,O=A-10;let x=0;for(let P=A;P>=O;P--)if(T[P]===T[P-2]&&x++,x>=R)return}o.scalable=!1,o.height=S;const N=S-g-(E-v.bottom)-(d?_:0);p.visual>N?s.overflow=N:s.overflow=null,e.height=S}else if(r.fixedHeight){o.scalable=!1;const C=r.fixedHeight-g-(E-v.bottom)-(d?_:0);p.visual>C?s.overflow=C:s.overflow=null}else if(r.cappedHeight){const C=b>=r.cappedHeight,S=Math.min(r.cappedHeight,b);o.scalable=!0,o.height=C?S:S-v.top-v.bottom;const T=S-g-(E-v.bottom)-(d?_:0);b>r.cappedHeight&&p.visual>T?s.overflow=T:s.overflow=null,e.height=Math.min(r.cappedHeight,I-v.top-v.bottom)}else{const C=c>0?v.top+v.bottom:0;o.scalable=!0,o.height=Math.max(y,b-C),e.height=Math.max(y,I-C)}e.ref.credits&&o.heightCurrent&&(e.ref.credits.style.transform=`translateY(${o.heightCurrent}px)`)},GE=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},VE=e=>{let t=0,n=0;const r=e.ref.list,i=r.childViews[0],a=i.childViews.filter(_=>_.rect.element.height),s=e.query("GET_ACTIVE_ITEMS").map(_=>a.find(E=>E.id===_.id)).filter(_=>_);if(s.length===0)return{visual:t,bounds:n};const o=i.rect.element.width,l=ds(i,s,r.dragCoordinates),u=s[0].rect.element,c=u.marginTop+u.marginBottom,f=u.marginLeft+u.marginRight,d=u.width+f,m=u.height+c,v=typeof l<"u"&&l>=0?1:0,p=s.find(_=>_.markedForRemoval&&_.opacity<.45)?-1:0,y=s.length+v+p,g=cs(o,d);return g===1?s.forEach(_=>{const E=_.rect.element.height+c;n+=E,t+=E*_.opacity}):(n=Math.ceil(y/g)*m,t=n),{visual:t,bounds:n}},$E=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},gs=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),i=e.query("GET_TOTAL_ITEMS");let a=e.query("GET_MAX_FILES");const s=t.length;return!r&&s>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:_e("warning",0,"Max files")}),!0):(a=r?a:1,!r&&n?!1:Dn(a)&&i+s>a?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:_e("warning",0,"Max files")}),!0):!1)},FE=(e,t,n)=>{const r=e.childViews[0];return ds(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Yo=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const i=CE(e.element,a=>{const s=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?a.every(l=>dn("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(u=>u===!0)&&s(l)):!0},{filterItems:a=>{const s=e.query("GET_IGNORED_FILES");return a.filter(o=>Cn(o)?!s.includes(o.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});i.onload=(a,s)=>{const l=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(c=>l.find(f=>f.id===c.id)).filter(c=>c);at("ADD_ITEMS",a,{dispatch:e.dispatch}).then(c=>{if(gs(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:FE(e.ref.list,u,s),interactionMethod:et.DROP})}),e.dispatch("DID_DROP",{position:s}),e.dispatch("DID_END_DRAG",{position:s})},i.ondragstart=a=>{e.dispatch("DID_START_DRAG",{position:a})},i.ondrag=wc(a=>{e.dispatch("DID_DRAG",{position:a})}),i.ondragend=a=>{e.dispatch("DID_END_DRAG",{position:a})},e.ref.hopper=i,e.ref.drip=e.appendChildView(e.createChildView(jy))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},zo=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),i=n&&!r;i&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(By,{...t,onload:a=>{at("ADD_ITEMS",a,{dispatch:e.dispatch}).then(s=>{if(gs(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:et.BROWSE})})}}),0):!i&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},qo=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=wE(),e.ref.paster.onload=i=>{at("ADD_ITEMS",i,{dispatch:e.dispatch}).then(a=>{if(gs(e,a))return!1;e.dispatch("ADD_ITEMS",{items:a,index:-1,interactionMethod:et.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},UE=Ge({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{zo(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Yo(e)},DID_SET_ALLOW_PASTE:({root:e})=>{qo(e)},DID_SET_DISABLED:({root:e,props:t})=>{Yo(e),qo(e),zo(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),HE=be({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:NE,write:BE,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Vr),e.element.removeEventListener("gesturestart",Vr)},mixins:{styles:["height"]}}),YE=(e={})=>{let t=null;const n=Br(),r=sh(zh(n),[c_,Wh(n)],[k_,jh(n)]);r.dispatch("SET_OPTIONS",{options:e});const i=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",i);let a=null,s=!1,o=!1,l=null,u=null;const c=()=>{s||(s=!0),clearTimeout(a),a=setTimeout(()=>{s=!1,l=null,u=null,o&&(o=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const f=HE(r,{id:as()});let d=!1,m=!1;const v={_read:()=>{s&&(u=window.innerWidth,l||(l=u),!o&&u!==l&&(r.dispatch("DID_START_RESIZE"),o=!0)),m&&d&&(d=f.element.offsetParent===null),!d&&(f._read(),m=f.rect.element.hidden)},_write:D=>{const k=r.processActionQueue().filter(M=>!/^SET_/.test(M.type));d&&!k.length||(_(k),d=f._write(D,k,o),Kh(r.query("GET_ITEMS")),d&&r.processDispatchQueue())}},p=D=>k=>{const M={type:D};if(!k)return M;if(k.hasOwnProperty("error")&&(M.error=k.error?{...k.error}:null),k.status&&(M.status={...k.status}),k.file&&(M.output=k.file),k.source)M.file=k.source;else if(k.item||k.id){const V=k.item?k.item:r.query("GET_ITEM",k.id);M.file=V?$e(V):null}return k.items&&(M.items=k.items.map($e)),/progress/.test(D)&&(M.progress=k.progress),k.hasOwnProperty("origin")&&k.hasOwnProperty("target")&&(M.origin=k.origin,M.target=k.target),M},y={DID_DESTROY:p("destroy"),DID_INIT:p("init"),DID_THROW_MAX_FILES:p("warning"),DID_INIT_ITEM:p("initfile"),DID_START_ITEM_LOAD:p("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:p("addfileprogress"),DID_LOAD_ITEM:p("addfile"),DID_THROW_ITEM_INVALID:[p("error"),p("addfile")],DID_THROW_ITEM_LOAD_ERROR:[p("error"),p("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[p("error"),p("removefile")],DID_PREPARE_OUTPUT:p("preparefile"),DID_START_ITEM_PROCESSING:p("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:p("processfileprogress"),DID_ABORT_ITEM_PROCESSING:p("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:p("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:p("processfiles"),DID_REVERT_ITEM_PROCESSING:p("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[p("error"),p("processfile")],DID_REMOVE_ITEM:p("removefile"),DID_UPDATE_ITEMS:p("updatefiles"),DID_ACTIVATE_ITEM:p("activatefile"),DID_REORDER_ITEMS:p("reorderfiles")},g=D=>{const k={pond:F,...D};delete k.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${D.type}`,{detail:k,bubbles:!0,cancelable:!0,composed:!0}));const M=[];D.hasOwnProperty("error")&&M.push(D.error),D.hasOwnProperty("file")&&M.push(D.file);const V=["type","error","file"];Object.keys(D).filter(j=>!V.includes(j)).forEach(j=>M.push(D[j])),F.fire(D.type,...M);const Y=r.query(`GET_ON${D.type.toUpperCase()}`);Y&&Y(...M)},_=D=>{D.length&&D.filter(k=>y[k.type]).forEach(k=>{const M=y[k.type];(Array.isArray(M)?M:[M]).forEach(V=>{k.type==="DID_INIT_ITEM"?g(V(k.data)):setTimeout(()=>{g(V(k.data))},0)})})},E=D=>r.dispatch("SET_OPTIONS",{options:D}),b=D=>r.query("GET_ACTIVE_ITEM",D),I=D=>new Promise((k,M)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:D,success:V=>{k(V)},failure:V=>{M(V)}})}),C=(D,k={})=>new Promise((M,V)=>{R([{source:D,options:k}],{index:k.index}).then(Y=>M(Y&&Y[0])).catch(V)}),S=D=>D.file&&D.id,T=(D,k)=>(typeof D=="object"&&!S(D)&&!k&&(k=D,D=void 0),r.dispatch("REMOVE_ITEM",{...k,query:D}),r.query("GET_ACTIVE_ITEM",D)===null),R=(...D)=>new Promise((k,M)=>{const V=[],Y={};if(ei(D[0]))V.push.apply(V,D[0]),Object.assign(Y,D[1]||{});else{const j=D[D.length-1];typeof j=="object"&&!(j instanceof Blob)&&Object.assign(Y,D.pop()),V.push(...D)}r.dispatch("ADD_ITEMS",{items:V,index:Y.index,interactionMethod:et.API,success:k,failure:M})}),N=()=>r.query("GET_ACTIVE_ITEMS"),A=D=>new Promise((k,M)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:D,success:V=>{k(V)},failure:V=>{M(V)}})}),O=(...D)=>{const k=Array.isArray(D[0])?D[0]:D,M=k.length?k:N();return Promise.all(M.map(I))},x=(...D)=>{const k=Array.isArray(D[0])?D[0]:D;if(!k.length){const M=N().filter(V=>!(V.status===Q.IDLE&&V.origin===Oe.LOCAL)&&V.status!==Q.PROCESSING&&V.status!==Q.PROCESSING_COMPLETE&&V.status!==Q.PROCESSING_REVERT_ERROR);return Promise.all(M.map(A))}return Promise.all(k.map(A))},P=(...D)=>{const k=Array.isArray(D[0])?D[0]:D;let M;typeof k[k.length-1]=="object"?M=k.pop():Array.isArray(D[0])&&(M=D[1]);const V=N();return k.length?k.map(j=>Wt(j)?V[j]?V[j].id:null:j).filter(j=>j).map(j=>T(j,M)):Promise.all(V.map(j=>T(j,M)))},F={...ri(),...v,...qh(r,n),setOptions:E,addFile:C,addFiles:R,getFile:b,processFile:A,prepareFile:I,removeFile:T,moveFile:(D,k)=>r.dispatch("MOVE_ITEM",{query:D,index:k}),getFiles:N,processFiles:x,removeFiles:P,prepareFiles:O,sort:D=>r.dispatch("SORT",{compare:D}),browse:()=>{var D=f.element.querySelector("input[type=file]");D&&D.click()},destroy:()=>{F.fire("destroy",f.element),r.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",i),r.dispatch("DID_DESTROY")},insertBefore:D=>po(f.element,D),insertAfter:D=>go(f.element,D),appendTo:D=>D.appendChild(f.element),replaceElement:D=>{po(f.element,D),D.parentNode.removeChild(D),t=D},restoreElement:()=>{t&&(go(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:D=>f.element===D||t===D,element:{get:()=>f.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),Bt(F)},Pc=(e={})=>{const t={};return ge(Br(),(r,i)=>{t[r]=i[0]}),YE({...t,...e})},zE=e=>e.charAt(0).toLowerCase()+e.slice(1),qE=e=>Oc(e.replace(/^data-/,"")),Dc=(e,t)=>{ge(t,(n,r)=>{ge(e,(i,a)=>{const s=new RegExp(n);if(!s.test(i)||(delete e[i],r===!1))return;if(Be(r)){e[r]=a;return}const l=r.group;Pe(r)&&!e[l]&&(e[l]={}),e[l][zE(i.replace(s,""))]=a}),r.mapping&&Dc(e[r.group],r.mapping)})},jE=(e,t={})=>{const n=[];ge(e.attributes,i=>{n.push(e.attributes[i])});const r=n.filter(i=>i.name).reduce((i,a)=>{const s=Ie(e,a.name);return i[qE(a.name)]=s===a.name?!0:s,i},{});return Dc(r,t),r},WE=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};dn("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},i=jE(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(i).forEach(s=>{Pe(i[s])?(Pe(r[s])||(r[s]={}),Object.assign(r[s],i[s])):r[s]=i[s]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(s=>({source:s.value,options:{type:s.dataset.type}})));const a=Pc(r);return e.files&&Array.from(e.files).forEach(s=>{a.addFile(s)}),a.replaceElement(e),a},XE=(...e)=>ah(e[0])?WE(...e):Pc(...e),QE=["fire","_read","_write"],jo=e=>{const t={};return Zu(e,t,QE),t},KE=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),ZE=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(i,a)=>{},post:(i,a,s)=>{const o=as();r.onmessage=l=>{l.data.id===o&&a(l.data.message)},r.postMessage({id:o,message:i},s)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},JE=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=i=>{n(i)},r.src=e}),Ac=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},e0=e=>Ac(e,e.name),Wo=[],t0=e=>{if(Wo.includes(e))return;Wo.push(e);const t=e({addFilter:Jh,utils:{Type:L,forin:ge,isString:Be,isFile:Cn,toNaturalFileSize:cc,replaceInString:KE,getExtensionFromFilename:ii,getFilenameWithoutExtension:oc,guesstimateMimeType:Sc,getFileFromBlob:bn,getFilenameFromURL:ur,createRoute:Ge,createWorker:ZE,createView:be,createItemAPI:$e,loadImage:JE,copyFile:e0,renameFile:Ac,createBlob:ic,applyFilterChain:at,text:ye,getNumericAspectRatioFromString:tc},views:{fileActionButton:uc}});e_(t.options)},n0=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",r0=()=>"Promise"in window,i0=()=>"slice"in Blob.prototype,a0=()=>"URL"in window&&"createObjectURL"in window.URL,s0=()=>"visibilityState"in document,o0=()=>"performance"in window,l0=()=>"supports"in(window.CSS||{}),u0=()=>/MSIE|Trident/.test(window.navigator.userAgent),ya=(()=>{const e=qu()&&!n0()&&s0()&&r0()&&i0()&&a0()&&o0()&&(l0()||u0());return()=>e})(),Lt={apps:[]},c0="filepond",fn=()=>{};let $r={},Rr=fn,Li=fn,Xo=fn,Qo=fn,Ea=fn,Ko=fn,Zo=fn;if(ya()){Ah(()=>{Lt.apps.forEach(n=>n._read())},n=>{Lt.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:ya,create:Rr,destroy:Li,parse:Xo,find:Qo,registerPlugin:Ea,setOptions:Zo}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>ge(Br(),(n,r)=>{$r[n]=r[1]});$r={},t(),Rr=(...n)=>{const r=XE(...n);return r.on("destroy",Li),Lt.apps.push(r),jo(r)},Li=n=>{const r=Lt.apps.findIndex(i=>i.isAttachedTo(n));return r>=0?(Lt.apps.splice(r,1)[0].restoreElement(),!0):!1},Xo=n=>Array.from(n.querySelectorAll(`.${c0}`)).filter(a=>!Lt.apps.find(s=>s.isAttachedTo(a))).map(a=>Rr(a)),Qo=n=>{const r=Lt.apps.find(i=>i.isAttachedTo(n));return r?jo(r):null},Ea=(...n)=>{n.forEach(t0),t()},Ko=()=>{const n={};return ge(Br(),(r,i)=>{n[r]=i[0]}),n},Zo=n=>(Pe(n)&&(Lt.apps.forEach(r=>{r.setOptions(n)}),t_(n)),Ko())}/*!
 * vue-filepond v7.0.4
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2023 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const d0=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],f0=ya(),v0=e=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[e],Tr={},xi=[],ki=[];let m0={};const p0=(...e)=>{Ea(...e),xi.length=0;for(const t in $r){if(/^on/.test(t)){xi.push(t);continue}let n=[String,v0($r[t])];t=="labelFileProcessingError"&&n.push(Function),Tr[t]={type:n,default:void 0}}return{name:"FilePond",props:Tr,render(){const t=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((n,[r,i])=>(i!==void 0&&(n[r]=i),n),{});return je("div",{class:{"filepond--wrapper":!0}},[je("input",t)])},created(){this.watchers=Object.keys(Tr).map(t=>this.$watch(t,n=>{this._pond&&(this._pond[t]=n)}))},mounted(){if(!f0)return;this._element=this.$el.querySelector("input");const t=xi.reduce((r,i)=>(r[i]=(...a)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(i.substr(2),...a)},r),{}),n={};Object.keys(Tr).forEach(r=>{this[r]!==void 0&&(n[r]=this[r])}),this._pond=Rr(this._element,Object.assign({},m0,t,n)),Object.keys(this._pond).filter(r=>!d0.includes(r)).forEach(r=>{this[r]=this._pond[r]}),ki.push(this._pond)},beforeUnmount(){const{detached:t}=this.$options;if(!this.$el.offsetParent){t.call(this);return}const n=(i,a)=>{const o=((i[0]||{}).removedNodes||[])[0];!o||!o.contains(this.$el)||(a.disconnect(),t.call(this))};new MutationObserver(n).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(n=>n()),!this._pond)return;this._pond.destroy();const t=ki.indexOf(this._pond);t>=0&&ki.splice(t,1),this._pond=null}}},g0='<svg class="mb-3" height="77" role="img" viewBox="0 0 97.6 77.3" width="96"><path d="M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z" fill="currentColor"></path><path d="M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z" fill="currentColor"></path><path d="M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z" fill="currentColor"></path></svg>Drag photos and videos here<br /><div class="v-btn bg-primary mt-5 px-3 py-2 filepond--label-action">Select from computer</div>',h0=Z({__name:"MediaDropzone",emits:["add"],setup(e,{emit:t}){const n=t,r=p0(),i=z([]);function a(s){n("add",s.source)}return(s,o)=>(B(),U(J(r),{name:"test",class:"ig-dropzone","drop-on-element":!1,"drop-on-page":!0,"allow-multiple":"","label-idle":g0,credits:"","accepted-file-types":"image/jpeg, image/jpg, image/png, image/mp4",files:J(i),onInitfile:a},{default:$(()=>[h(Hu,{class:"d-none"})]),_:1},8,["files"]))}}),_0=Z({__name:"MediaCreate",emits:["close"],setup(e,{emit:t}){const n=Ca(),r=t,i=w(()=>n.user);function a(s){i.value.media.addMedia({file:s},"posts","unshift"),i.value.save(),r("close")}return(s,o)=>{const l=h0;return B(),U(zu,{"content-class":"ig-media-create","max-width":700,onClose:o[0]||(o[0]=u=>r("close"))},{default:$(()=>[h(Yu,{height:"70vh"},{default:$(()=>[h(rs,{textContent:"Create new post"}),h(l,{class:"mx-4",user:J(i),onAdd:a},null,8,["user"])]),_:1})]),_:1})}}}),y0={},E0={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},S0=ne("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),T0=ne("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"},null,-1),I0=ne("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"},null,-1),b0=[S0,T0,I0];function C0(e,t){return B(),le("svg",E0,b0)}const R0=Ee(y0,[["render",C0]]),O0={},w0={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},P0=ne("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"},null,-1),D0=[P0];function A0(e,t){return B(),le("svg",w0,D0)}const M0=Ee(O0,[["render",A0]]),L0={},x0={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},k0=ne("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),N0=ne("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"},null,-1),B0=[k0,N0];function G0(e,t){return B(),le("svg",x0,B0)}const V0=Ee(L0,[["render",G0]]),$0={},F0={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},U0=ne("polygon",{fill:"none",points:"13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),H0=ne("polygon",{"fill-rule":"evenodd",points:"10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"},null,-1),Y0=ne("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),z0=[U0,H0,Y0];function q0(e,t){return B(),le("svg",F0,z0)}const j0=Ee($0,[["render",q0]]),W0={},X0={fill:"currentColor",height:"22",role:"img",viewBox:"0 0 24 24",width:"24"},Q0=ne("path",{d:"M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"},null,-1),K0=[Q0];function Z0(e,t){return B(),le("svg",X0,K0)}const J0=Ee(W0,[["render",Z0]]),eS={},tS={class:"ig-logo",href:"https://github.com/dxlliv/ig-planner",target:"_blank"};function nS(e,t){return B(),le("a",tS," Planner ")}const rS=Ee(eS,[["render",nS],["__scopeId","data-v-e524de64"]]);function iS(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const i=fe(!1),a=fe(0),s=w(()=>{const u=typeof i.value=="boolean"?"top":i.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[u]:oe(a.value)}:{top:r.value.top}]});$t(()=>{ie(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Gt(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const u=o>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),f=parseFloat(r.value.top??0),d=window.scrollY-Math.max(0,a.value-f),m=c.height+Math.max(a.value,f)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-f?(i.value="top",a.value=f):u==="up"&&i.value==="bottom"||u==="down"&&i.value==="top"?(a.value=window.scrollY+c.top-v,i.value=!0):u==="down"&&m<=0?(a.value=0,i.value="bottom"):u==="up"&&d<=0&&(v?i.value!=="top"&&(a.value=-d+v+f,i.value="top"):(a.value=c.top+d,i.value="top")),o=window.scrollY}return{isStuck:i,stickyStyles:s}}const aS=100,sS=20;function Jo(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function el(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=Jo(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-r)*Math.abs(i),n===e.length-1&&(t*=.5)}return Jo(t)*1e3}function oS(){const e={};function t(i){Array.from(i.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new ad(sS))).push([i.timeStamp,a])})}function n(i){Array.from(i.changedTouches).forEach(a=>{delete e[a.identifier]})}function r(i){var u;const a=(u=e[i])==null?void 0:u.values().reverse();if(!a)throw new Error(`No samples for touch id ${i}`);const s=a[0],o=[],l=[];for(const c of a){if(s[0]-c[0]>aS)break;o.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:el(o),y:el(l),get direction(){const{x:c,y:f}=this,[d,m]=[Math.abs(c),Math.abs(f)];return d>m&&c>=0?"right":d>m&&c<=0?"left":m>d&&f>=0?"down":m>d&&f<=0?"up":lS()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function lS(){throw new Error}function uS(e){let{isActive:t,isTemporary:n,width:r,touchless:i,position:a}=e;$t(()=>{window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),Gt(()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",E)});const s=w(()=>["left","right"].includes(a.value)),{addMovement:o,endTouch:l,getVelocity:u}=oS();let c=!1;const f=fe(!1),d=fe(0),m=fe(0);let v;function p(I,C){return(a.value==="left"?I:a.value==="right"?document.documentElement.clientWidth-I:a.value==="top"?I:a.value==="bottom"?document.documentElement.clientHeight-I:hn())-(C?r.value:0)}function y(I){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(I-m.value)/r.value:a.value==="right"?(document.documentElement.clientWidth-I-m.value)/r.value:a.value==="top"?(I-m.value)/r.value:a.value==="bottom"?(document.documentElement.clientHeight-I-m.value)/r.value:hn();return C?Math.max(0,Math.min(1,S)):S}function g(I){if(i.value)return;const C=I.changedTouches[0].clientX,S=I.changedTouches[0].clientY,T=25,R=a.value==="left"?C<T:a.value==="right"?C>document.documentElement.clientWidth-T:a.value==="top"?S<T:a.value==="bottom"?S>document.documentElement.clientHeight-T:hn(),N=t.value&&(a.value==="left"?C<r.value:a.value==="right"?C>document.documentElement.clientWidth-r.value:a.value==="top"?S<r.value:a.value==="bottom"?S>document.documentElement.clientHeight-r.value:hn());(R||N||t.value&&n.value)&&(c=!0,v=[C,S],m.value=p(s.value?C:S,t.value),d.value=y(s.value?C:S),l(I),o(I))}function _(I){const C=I.changedTouches[0].clientX,S=I.changedTouches[0].clientY;if(c){if(!I.cancelable){c=!1;return}const R=Math.abs(C-v[0]),N=Math.abs(S-v[1]);(s.value?R>N&&R>3:N>R&&N>3)?(f.value=!0,c=!1):(s.value?N:R)>3&&(c=!1)}if(!f.value)return;I.preventDefault(),o(I);const T=y(s.value?C:S,!1);d.value=Math.max(0,Math.min(1,T)),T>1?m.value=p(s.value?C:S,!0):T<0&&(m.value=p(s.value?C:S,!1))}function E(I){if(c=!1,!f.value)return;o(I),f.value=!1;const C=u(I.changedTouches[0].identifier),S=Math.abs(C.x),T=Math.abs(C.y);(s.value?S>T&&S>400:T>S&&T>3)?t.value=C.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||hn()):t.value=d.value>.5}const b=w(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${d.value*r.value}px))`:a.value==="right"?`translateX(calc(100% - ${d.value*r.value}px))`:a.value==="top"?`translateY(calc(-100% + ${d.value*r.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${d.value*r.value}px))`:hn(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:b}}function hn(){throw new Error}const cS=["start","end","left","right","top","bottom"],dS=W({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>cS.includes(e)},sticky:Boolean,...un(),...ve(),...sd(),...Ut(),...od(),...Ot(),...He({tag:"nav"}),...dt()},"VNavigationDrawer"),fS=ae()({name:"VNavigationDrawer",props:dS(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{isRtl:a}=Ft(),{themeClasses:s}=gt(e),{borderClasses:o}=cn(e),{backgroundColorClasses:l,backgroundColorStyles:u}=It(te(e,"color")),{elevationClasses:c}=Ht(e),{displayClasses:f,mobile:d}=sl(e),{roundedClasses:m}=wt(e),v=du(),p=ut(e,"modelValue",null,Y=>!!Y),{ssrBootStyles:y}=Wa(),{scopeId:g}=Qr(),_=z(),E=fe(!1),b=w(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),I=w(()=>$i(e.location,a.value)),C=w(()=>!e.permanent&&(d.value||e.temporary)),S=w(()=>e.sticky&&!C.value&&I.value!=="bottom");kt(()=>e.expandOnHover&&e.rail!=null,()=>{ie(E,Y=>r("update:rail",!Y))}),kt(()=>!e.disableResizeWatcher,()=>{ie(C,Y=>!e.permanent&&ct(()=>p.value=!Y))}),kt(()=>!e.disableRouteWatcher&&!!v,()=>{ie(v.currentRoute,()=>C.value&&(p.value=!1))}),ie(()=>e.permanent,Y=>{Y&&(p.value=!0)}),ul(()=>{e.modelValue!=null||C.value||(p.value=e.permanent||!d.value)});const{isDragging:T,dragProgress:R,dragStyles:N}=uS({isActive:p,isTemporary:C,width:b,touchless:te(e,"touchless"),position:I}),A=w(()=>{const Y=C.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):b.value;return T.value?Y*R.value:Y}),{layoutItemStyles:O,layoutItemScrimStyles:x}=ld({id:e.name,order:w(()=>parseInt(e.order,10)),position:I,layoutSize:A,elementSize:b,active:w(()=>p.value||T.value),disableTransitions:w(()=>T.value),absolute:w(()=>e.absolute||S.value&&typeof P.value!="string")}),{isStuck:P,stickyStyles:F}=iS({rootEl:_,isSticky:S,layoutItemStyles:O}),D=It(w(()=>typeof e.scrim=="string"?e.scrim:null)),k=w(()=>({...T.value?{opacity:R.value*.2,transition:"none"}:void 0,...x.value}));tr({VList:{bgColor:"transparent"}});function M(){E.value=!0}function V(){E.value=!1}return ue(()=>{const Y=i.image||e.image;return h(Ne,null,[h(e.tag,De({ref:_,onMouseenter:M,onMouseleave:V,class:["v-navigation-drawer",`v-navigation-drawer--${I.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":C.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":S.value},s.value,l.value,o.value,f.value,c.value,m.value,e.class],style:[u.value,O.value,N.value,y.value,F.value,e.style]},g,n),{default:()=>{var j,X,se,re;return[Y&&h("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(j=i.image)==null?void 0:j.call(i,{image:e.image}):h("img",{src:e.image,alt:""},null)]),i.prepend&&h("div",{class:"v-navigation-drawer__prepend"},[(X=i.prepend)==null?void 0:X.call(i)]),h("div",{class:"v-navigation-drawer__content"},[(se=i.default)==null?void 0:se.call(i)]),i.append&&h("div",{class:"v-navigation-drawer__append"},[(re=i.append)==null?void 0:re.call(i)])]}}),h(tn,{name:"fade-transition"},{default:()=>[C.value&&(T.value||p.value)&&!!e.scrim&&h("div",De({class:["v-navigation-drawer__scrim",D.backgroundColorClasses.value],style:[k.value,D.backgroundColorStyles.value],onClick:()=>p.value=!1},g),null)]})])}),{isStuck:P}}}),vS=Z({__name:"NavigationDrawer",setup(e){const t=Ca(),n=w(()=>t.user),r=[{item:{title:"Readme",href:"https://dxlliv.github.io/ig-planner/docs",target:"_blank"},icon:"IconReadme"},{item:{title:"Support",href:"https://patreon.com/dxlliv",target:"_blank"},icon:"IconSupport"},{item:{title:"Donors",to:"/ig-planner/donors"},icon:"IconDonors"}],i=z(!1),a=z(!1);return(s,o)=>{const l=rS,u=J0,c=j0,f=V0,d=M0,m=R0,v=_0,p=Da,y=ih;return B(),U(fS,{class:"ig-navigation-drawer",permanent:s.$vuetify.display.smAndUp,rail:s.$vuetify.display.mdAndDown,width:244,"rail-width":72},{default:$(()=>[h(qn,{class:"pt-7 pb-3 hidden-md-and-down"},{default:$(()=>[h(Re,null,{default:$(()=>[h(l,{size:26})]),_:1})]),_:1}),h(qn,{density:"compact",nav:"",class:"mt-2 mt-lg-0"},{default:$(()=>[h(Re,{title:"Home",to:"/ig-planner/"},{prepend:$(()=>[h(u)]),_:1}),(B(),le(Ne,null,Yr(r,g=>h(Re,cd(ud(g.item)),{prepend:$(()=>[g.icon==="IconSupport"?(B(),U(c,{key:0})):ee("",!0),g.icon==="IconReadme"?(B(),U(f,{key:1})):ee("",!0),g.icon==="IconDonors"?(B(),U(d,{key:2})):ee("",!0)]),_:2},1040)),64)),h(Re,{title:"Create",onClick:o[2]||(o[2]=g=>i.value=!0)},{prepend:$(()=>[h(m),h(v,{modelValue:J(i),"onUpdate:modelValue":o[0]||(o[0]=g=>Tn(i)?i.value=g:null),onClose:o[1]||(o[1]=g=>i.value=!1)},null,8,["modelValue"])]),_:1}),J(n).ready?(B(),U(Re,{key:0,title:"Profile",to:`/ig-planner/${J(n).profile.username}`},{prepend:$(()=>[(B(),U(rn,null,{default:$(()=>[h(p,{avatar:J(n).profile.avatar,size:"26px"},null,8,["avatar"])]),_:1}))]),_:1},8,["to"])):ee("",!0)]),_:1}),h(qn,{density:"compact",nav:"",class:"ig-navigation-drawer__list-bottom"},{default:$(()=>[J(n).isChanged?(B(),U(Re,{key:0,title:"Export","base-color":"primary",onClick:o[4]||(o[4]=g=>a.value=!0)},{prepend:$(()=>[h(Ue,{icon:"mdi-pencil-ruler-outline"}),h(y,{modelValue:J(a),"onUpdate:modelValue":o[3]||(o[3]=g=>Tn(a)?a.value=g:null)},null,8,["modelValue"])]),_:1})):ee("",!0)]),_:1})]),_:1},8,["permanent","rail"])}}}),mS=W({...ve(),...dd()},"VLayout"),pS=ae()({name:"VLayout",props:mS(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:i,getLayoutItem:a,items:s,layoutRef:o}=fd(e);return ue(()=>{var l;return h("div",{ref:o,class:[r.value,e.class],style:[i.value,e.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:a,items:s}}}),gS=W({scrollable:Boolean,...ve(),...He({tag:"main"})},"VMain"),hS=ae()({name:"VMain",props:gS(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=vd(),{ssrBootStyles:i}=Wa();return ue(()=>h(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,i.value,e.style]},{default:()=>{var a,s;return[e.scrollable?h("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(s=n.default)==null?void 0:s.call(n)]}})),{}}}),_S={};function yS(e,t){const n=vS,r=gd;return B(),U(pS,null,{default:$(()=>[h(n),h(hS,null,{default:$(()=>[ba(e.$slots,"default"),h(r)]),_:3})]),_:3})}const ES=Ee(_S,[["render",yS]]),IS=Z({__name:"PageProfile",setup(e){const t=md(),n=Ca(),r=pd(),i=t.params.username.toString(),a=w(()=>r.options),s=w(()=>n.user);return n.loadUserPage(i),(o,l)=>{const u=Pg,c=xv;return B(),le(Ne,null,[h(ES,null,{default:$(()=>[J(s).ready?(B(),U(u,{key:0,user:J(s)},null,8,["user"])):ee("",!0)]),_:1}),J(a).guides?(B(),U(c,{key:0})):ee("",!0)],64)}}});export{IS as default};
